<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css?vsn=d">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg?vsn=d" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/0d042be5dcfe90e649f760303af3e429?s=50"></div><header><strong>Swift REPL broken after updating to Sierra, is it just me?</strong> from <string>Jens Persson</string> &lt;jens at bitcycle.com&gt;<p>October  6, 2016 at 03:00:00pm</p></header><div class="content"><p>After updating to Sierra I can no longer use the Swift REPL. It crashes<br>immediately (see Terminal session below). Anyone else having the same<br>problem, any workaround?<br></p><p>It didn&#39;t help to download and reinstall the command line tools for 10.12.<br></p><p>(I had Xcode 8 and 8.1 beta installed before updating to Sierra. It might<br>have happened just after I did a sudo xcode-select -s<br>/Applications/Xcode.app )<br></p><p>See Terminal session below.<br></p><p>/Jens<br></p><p><br>› swift<br>Welcome to Apple Swift version 3.0 (swiftlang-800.0.48 clang-800.0.40).<br>Type :help for assistance.<br>Segmentation fault: 11<br>›<br>› swift -v<br>Apple Swift version 3.0 (swiftlang-800.0.49 clang-800.0.40)<br>Target: x86_64-apple-macosx10.9<br>/Applications/Xcode-beta.app/Contents/Developer/usr/bin/lldb<br>&quot;--repl=-target x86_64-apple-macosx10.9 -enable-objc-interop -sdk<br>/Applications/Xcode-beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk<br>-color-diagnostics&quot;<br>Welcome to Apple Swift version 3.0 (swiftlang-800.0.48 clang-800.0.40).<br>Type :help for assistance.<br>Segmentation fault: 11<br>›<br>›<br>/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/swift<br>-sdk<br>/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk<br>-target x86_64-apple-macosx10.12<br>Welcome to Apple Swift version 3.0 (swiftlang-800.0.46.2 clang-800.0.38).<br>Type :help for assistance.<br>Segmentation fault: 11<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20161006/6a40b9f3/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/d631f09a3a336a15ae258e01899cb736?s=50"></div><header><strong>Swift REPL broken after updating to Sierra, is it just me?</strong> from <string>Kate Stone</string> &lt;k8stone at apple.com&gt;<p>October  6, 2016 at 10:00:00am</p></header><div class="content"><p>If you’ve specified “sudo xcode-select -s /Applications/Xcode.app” then it’s surprising that the REPL session is attempting to use the LLDB and SDK from /Applications/Xcode-beta.app.  Can you double-check what “xcode-select -p” reports?<br></p><p>I can’t say I’ve seen a segmentation fault on REPL launch.  If you see the same behavior once moving to the GM build of Xcode it would definitely be worth filing a radar via bugreport.apple.com with an LLDB crashlog attached to investigate further.<br></p><p>Kate Stone k8stone at apple.com &lt;mailto:k8stone at apple.com&gt;<br> Xcode Low Level Tools<br></p><p>&gt; On Oct 6, 2016, at 6:51 AM, Jens Persson via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; After updating to Sierra I can no longer use the Swift REPL. It crashes immediately (see Terminal session below). Anyone else having the same problem, any workaround?<br>&gt; <br>&gt; It didn&#39;t help to download and reinstall the command line tools for 10.12. <br>&gt; <br>&gt; (I had Xcode 8 and 8.1 beta installed before updating to Sierra. It might have happened just after I did a sudo xcode-select -s /Applications/Xcode.app )<br>&gt; <br>&gt; See Terminal session below.<br>&gt; <br>&gt; /Jens<br>&gt; <br>&gt; <br>&gt; › swift<br>&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.48 clang-800.0.40). Type :help for assistance.<br>&gt; Segmentation fault: 11<br>&gt; › <br>&gt; › swift -v<br>&gt; Apple Swift version 3.0 (swiftlang-800.0.49 clang-800.0.40)<br>&gt; Target: x86_64-apple-macosx10.9<br>&gt; /Applications/Xcode-beta.app/Contents/Developer/usr/bin/lldb &quot;--repl=-target x86_64-apple-macosx10.9 -enable-objc-interop -sdk /Applications/Xcode-beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk -color-diagnostics&quot;<br>&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.48 clang-800.0.40). Type :help for assistance.<br>&gt; Segmentation fault: 11<br>&gt; › <br>&gt; › /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/swift -sdk /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk -target x86_64-apple-macosx10.12<br>&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.46.2 clang-800.0.38). Type :help for assistance.<br>&gt; Segmentation fault: 11<br>&gt; <br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20161006/b7e1e015/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/0d042be5dcfe90e649f760303af3e429?s=50"></div><header><strong>Swift REPL broken after updating to Sierra, is it just me?</strong> from <string>Jens Persson</string> &lt;jens at bitcycle.com&gt;<p>October  6, 2016 at 09:00:00pm</p></header><div class="content"><p>I was trying both Xcode and Xcode-beta, I just happened to copy paste while<br>Xcode-beta was selected ... Anyway, both of them crash like that.<br>/Jens<br></p><p><br>On Thu, Oct 6, 2016 at 7:22 PM, Kate Stone &lt;k8stone at apple.com&gt; wrote:<br></p><p>&gt; If you’ve specified “sudo xcode-select -s /Applications/Xcode.app” then<br>&gt; it’s surprising that the REPL session is attempting to use the LLDB and SDK<br>&gt; from /Applications/Xcode-beta.app.  Can you double-check what “xcode-select<br>&gt; -p” reports?<br>&gt;<br>&gt; I can’t say I’ve seen a segmentation fault on REPL launch.  If you see the<br>&gt; same behavior once moving to the GM build of Xcode it would definitely be<br>&gt; worth filing a radar via bugreport.apple.com with an LLDB crashlog<br>&gt; attached to investigate further.<br>&gt;<br>&gt; Kate Stone k8stone at apple.com<br>&gt;  Xcode Low Level Tools<br>&gt;<br>&gt; On Oct 6, 2016, at 6:51 AM, Jens Persson via swift-users &lt;<br>&gt; swift-users at swift.org&gt; wrote:<br>&gt;<br>&gt; After updating to Sierra I can no longer use the Swift REPL. It crashes<br>&gt; immediately (see Terminal session below). Anyone else having the same<br>&gt; problem, any workaround?<br>&gt;<br>&gt; It didn&#39;t help to download and reinstall the command line tools for 10.12.<br>&gt;<br>&gt; (I had Xcode 8 and 8.1 beta installed before updating to Sierra. It might<br>&gt; have happened just after I did a sudo xcode-select -s<br>&gt; /Applications/Xcode.app )<br>&gt;<br>&gt; See Terminal session below.<br>&gt;<br>&gt; /Jens<br>&gt;<br>&gt;<br>&gt; › swift<br>&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.48 clang-800.0.40).<br>&gt; Type :help for assistance.<br>&gt; Segmentation fault: 11<br>&gt; ›<br>&gt; › swift -v<br>&gt; Apple Swift version 3.0 (swiftlang-800.0.49 clang-800.0.40)<br>&gt; Target: x86_64-apple-macosx10.9<br>&gt; /Applications/Xcode-beta.app/Contents/Developer/usr/bin/lldb<br>&gt; &quot;--repl=-target x86_64-apple-macosx10.9 -enable-objc-interop -sdk<br>&gt; /Applications/Xcode-beta.app/Contents/Developer/Platforms/<br>&gt; MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk -color-diagnostics&quot;<br>&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.48 clang-800.0.40).<br>&gt; Type :help for assistance.<br>&gt; Segmentation fault: 11<br>&gt; ›<br>&gt; › /Applications/Xcode.app/Contents/Developer/Toolchains/<br>&gt; XcodeDefault.xctoolchain/usr/bin/swift -sdk /Applications/Xcode.app/<br>&gt; Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk<br>&gt; -target x86_64-apple-macosx10.12<br>&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.46.2 clang-800.0.38).<br>&gt; Type :help for assistance.<br>&gt; Segmentation fault: 11<br>&gt;<br>&gt;<br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt;<br>&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20161006/df84ceca/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/0d042be5dcfe90e649f760303af3e429?s=50"></div><header><strong>Swift REPL broken after updating to Sierra, is it just me?</strong> from <string>Jens Persson</string> &lt;jens at bitcycle.com&gt;<p>October  6, 2016 at 09:00:00pm</p></header><div class="content"><p>Here is with Xcode.app:<br></p><p>› sudo xcode-select -s /Applications/Xcode.app<br>Password:<br>›<br>› swift -v<br>Apple Swift version 3.0 (swiftlang-800.0.46.2 clang-800.0.38)<br>Target: x86_64-apple-macosx10.9<br>/Applications/Xcode.app/Contents/Developer/usr/bin/lldb &quot;--repl=-target<br>x86_64-apple-macosx10.9 -enable-objc-interop -sdk<br>/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk<br>-color-diagnostics&quot;<br>Welcome to Apple Swift version 3.0 (swiftlang-800.0.46.2 clang-800.0.38).<br>Type :help for assistance.<br>Segmentation fault: 11<br></p><p>/Jens<br></p><p><br>On Thu, Oct 6, 2016 at 9:23 PM, Jens Persson &lt;jens at bitcycle.com&gt; wrote:<br></p><p>&gt; I was trying both Xcode and Xcode-beta, I just happened to copy paste<br>&gt; while Xcode-beta was selected ... Anyway, both of them crash like that.<br>&gt; /Jens<br>&gt;<br>&gt;<br>&gt; On Thu, Oct 6, 2016 at 7:22 PM, Kate Stone &lt;k8stone at apple.com&gt; wrote:<br>&gt;<br>&gt;&gt; If you’ve specified “sudo xcode-select -s /Applications/Xcode.app” then<br>&gt;&gt; it’s surprising that the REPL session is attempting to use the LLDB and SDK<br>&gt;&gt; from /Applications/Xcode-beta.app.  Can you double-check what “xcode-select<br>&gt;&gt; -p” reports?<br>&gt;&gt;<br>&gt;&gt; I can’t say I’ve seen a segmentation fault on REPL launch.  If you see<br>&gt;&gt; the same behavior once moving to the GM build of Xcode it would definitely<br>&gt;&gt; be worth filing a radar via bugreport.apple.com with an LLDB crashlog<br>&gt;&gt; attached to investigate further.<br>&gt;&gt;<br>&gt;&gt; Kate Stone k8stone at apple.com<br>&gt;&gt;  Xcode Low Level Tools<br>&gt;&gt;<br>&gt;&gt; On Oct 6, 2016, at 6:51 AM, Jens Persson via swift-users &lt;<br>&gt;&gt; swift-users at swift.org&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; After updating to Sierra I can no longer use the Swift REPL. It crashes<br>&gt;&gt; immediately (see Terminal session below). Anyone else having the same<br>&gt;&gt; problem, any workaround?<br>&gt;&gt;<br>&gt;&gt; It didn&#39;t help to download and reinstall the command line tools for<br>&gt;&gt; 10.12.<br>&gt;&gt;<br>&gt;&gt; (I had Xcode 8 and 8.1 beta installed before updating to Sierra. It might<br>&gt;&gt; have happened just after I did a sudo xcode-select -s<br>&gt;&gt; /Applications/Xcode.app )<br>&gt;&gt;<br>&gt;&gt; See Terminal session below.<br>&gt;&gt;<br>&gt;&gt; /Jens<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; › swift<br>&gt;&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.48 clang-800.0.40).<br>&gt;&gt; Type :help for assistance.<br>&gt;&gt; Segmentation fault: 11<br>&gt;&gt; ›<br>&gt;&gt; › swift -v<br>&gt;&gt; Apple Swift version 3.0 (swiftlang-800.0.49 clang-800.0.40)<br>&gt;&gt; Target: x86_64-apple-macosx10.9<br>&gt;&gt; /Applications/Xcode-beta.app/Contents/Developer/usr/bin/lldb<br>&gt;&gt; &quot;--repl=-target x86_64-apple-macosx10.9 -enable-objc-interop -sdk<br>&gt;&gt; /Applications/Xcode-beta.app/Contents/Developer/Platforms/Ma<br>&gt;&gt; cOSX.platform/Developer/SDKs/MacOSX10.12.sdk -color-diagnostics&quot;<br>&gt;&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.48 clang-800.0.40).<br>&gt;&gt; Type :help for assistance.<br>&gt;&gt; Segmentation fault: 11<br>&gt;&gt; ›<br>&gt;&gt; › /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeD<br>&gt;&gt; efault.xctoolchain/usr/bin/swift -sdk /Applications/Xcode.app/Conten<br>&gt;&gt; ts/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk<br>&gt;&gt; -target x86_64-apple-macosx10.12<br>&gt;&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.46.2 clang-800.0.38).<br>&gt;&gt; Type :help for assistance.<br>&gt;&gt; Segmentation fault: 11<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-users mailing list<br>&gt;&gt; swift-users at swift.org<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20161006/95611163/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/0d042be5dcfe90e649f760303af3e429?s=50"></div><header><strong>Swift REPL broken after updating to Sierra, is it just me?</strong> from <string>Jens Persson</string> &lt;jens at bitcycle.com&gt;<p>October  6, 2016 at 09:00:00pm</p></header><div class="content"><p>I&#39;ve filed radar 28657007 and attached the two crashlogs that is generated<br>(one for lldb, and one for repl_swift.<br>/Jens<br></p><p>On Thu, Oct 6, 2016 at 9:25 PM, Jens Persson &lt;jens at bitcycle.com&gt; wrote:<br></p><p>&gt; Here is with Xcode.app:<br>&gt;<br>&gt; › sudo xcode-select -s /Applications/Xcode.app<br>&gt; Password:<br>&gt; ›<br>&gt; › swift -v<br>&gt; Apple Swift version 3.0 (swiftlang-800.0.46.2 clang-800.0.38)<br>&gt; Target: x86_64-apple-macosx10.9<br>&gt; /Applications/Xcode.app/Contents/Developer/usr/bin/lldb &quot;--repl=-target<br>&gt; x86_64-apple-macosx10.9 -enable-objc-interop -sdk /Applications/Xcode.app/<br>&gt; Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk<br>&gt; -color-diagnostics&quot;<br>&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.46.2 clang-800.0.38).<br>&gt; Type :help for assistance.<br>&gt; Segmentation fault: 11<br>&gt;<br>&gt; /Jens<br>&gt;<br>&gt;<br>&gt; On Thu, Oct 6, 2016 at 9:23 PM, Jens Persson &lt;jens at bitcycle.com&gt; wrote:<br>&gt;<br>&gt;&gt; I was trying both Xcode and Xcode-beta, I just happened to copy paste<br>&gt;&gt; while Xcode-beta was selected ... Anyway, both of them crash like that.<br>&gt;&gt; /Jens<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; On Thu, Oct 6, 2016 at 7:22 PM, Kate Stone &lt;k8stone at apple.com&gt; wrote:<br>&gt;&gt;<br>&gt;&gt;&gt; If you’ve specified “sudo xcode-select -s /Applications/Xcode.app” then<br>&gt;&gt;&gt; it’s surprising that the REPL session is attempting to use the LLDB and SDK<br>&gt;&gt;&gt; from /Applications/Xcode-beta.app.  Can you double-check what “xcode-select<br>&gt;&gt;&gt; -p” reports?<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; I can’t say I’ve seen a segmentation fault on REPL launch.  If you see<br>&gt;&gt;&gt; the same behavior once moving to the GM build of Xcode it would definitely<br>&gt;&gt;&gt; be worth filing a radar via bugreport.apple.com with an LLDB crashlog<br>&gt;&gt;&gt; attached to investigate further.<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; Kate Stone k8stone at apple.com<br>&gt;&gt;&gt;  Xcode Low Level Tools<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; On Oct 6, 2016, at 6:51 AM, Jens Persson via swift-users &lt;<br>&gt;&gt;&gt; swift-users at swift.org&gt; wrote:<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; After updating to Sierra I can no longer use the Swift REPL. It crashes<br>&gt;&gt;&gt; immediately (see Terminal session below). Anyone else having the same<br>&gt;&gt;&gt; problem, any workaround?<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; It didn&#39;t help to download and reinstall the command line tools for<br>&gt;&gt;&gt; 10.12.<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; (I had Xcode 8 and 8.1 beta installed before updating to Sierra. It<br>&gt;&gt;&gt; might have happened just after I did a sudo xcode-select -s<br>&gt;&gt;&gt; /Applications/Xcode.app )<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; See Terminal session below.<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; /Jens<br>&gt;&gt;&gt;<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; › swift<br>&gt;&gt;&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.48 clang-800.0.40).<br>&gt;&gt;&gt; Type :help for assistance.<br>&gt;&gt;&gt; Segmentation fault: 11<br>&gt;&gt;&gt; ›<br>&gt;&gt;&gt; › swift -v<br>&gt;&gt;&gt; Apple Swift version 3.0 (swiftlang-800.0.49 clang-800.0.40)<br>&gt;&gt;&gt; Target: x86_64-apple-macosx10.9<br>&gt;&gt;&gt; /Applications/Xcode-beta.app/Contents/Developer/usr/bin/lldb<br>&gt;&gt;&gt; &quot;--repl=-target x86_64-apple-macosx10.9 -enable-objc-interop -sdk<br>&gt;&gt;&gt; /Applications/Xcode-beta.app/Contents/Developer/Platforms/Ma<br>&gt;&gt;&gt; cOSX.platform/Developer/SDKs/MacOSX10.12.sdk -color-diagnostics&quot;<br>&gt;&gt;&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.48 clang-800.0.40).<br>&gt;&gt;&gt; Type :help for assistance.<br>&gt;&gt;&gt; Segmentation fault: 11<br>&gt;&gt;&gt; ›<br>&gt;&gt;&gt; › /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeD<br>&gt;&gt;&gt; efault.xctoolchain/usr/bin/swift -sdk /Applications/Xcode.app/Conten<br>&gt;&gt;&gt; ts/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk<br>&gt;&gt;&gt; -target x86_64-apple-macosx10.12<br>&gt;&gt;&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.46.2<br>&gt;&gt;&gt; clang-800.0.38). Type :help for assistance.<br>&gt;&gt;&gt; Segmentation fault: 11<br>&gt;&gt;&gt;<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt; swift-users mailing list<br>&gt;&gt;&gt; swift-users at swift.org<br>&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt;&gt;&gt;<br>&gt;&gt;&gt;<br>&gt;&gt;&gt;<br>&gt;&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20161006/0fbb7a69/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/52cd4e8dbbba27ff1ea5fa122af8bd56?s=50"></div><header><strong>Swift REPL broken after updating to Sierra, is it just me?</strong> from <string>Jim Ingham</string> &lt;jingham at apple.com&gt;<p>October  6, 2016 at 12:00:00pm</p></header><div class="content"><p>There is a known bug in libedit&#39;s history file reader that can cause this crash.  libedit is a system component that lldb uses to do command-line editing and the like.<br></p><p>Try moving ~/.lldb-history to some other name, and then rerunning the REPL.  If that works, can you attach that history file to the Radar you mentioned, so we can make sure this is the same history reading bug?<br></p><p>Thanks,<br></p><p>Jim<br> <br></p><p>&gt; On Oct 6, 2016, at 12:46 PM, Jens Persson via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I&#39;ve filed radar 28657007 and attached the two crashlogs that is generated (one for lldb, and one for repl_swift.<br>&gt; /Jens<br>&gt; <br>&gt; On Thu, Oct 6, 2016 at 9:25 PM, Jens Persson &lt;jens at bitcycle.com&gt; wrote:<br>&gt; Here is with Xcode.app:<br>&gt; <br>&gt; › sudo xcode-select -s /Applications/Xcode.app<br>&gt; Password:<br>&gt; › <br>&gt; › swift -v<br>&gt; Apple Swift version 3.0 (swiftlang-800.0.46.2 clang-800.0.38)<br>&gt; Target: x86_64-apple-macosx10.9<br>&gt; /Applications/Xcode.app/Contents/Developer/usr/bin/lldb &quot;--repl=-target x86_64-apple-macosx10.9 -enable-objc-interop -sdk /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk -color-diagnostics&quot;<br>&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.46.2 clang-800.0.38). Type :help for assistance.<br>&gt; Segmentation fault: 11<br>&gt; <br>&gt; /Jens<br>&gt; <br>&gt; <br>&gt; On Thu, Oct 6, 2016 at 9:23 PM, Jens Persson &lt;jens at bitcycle.com&gt; wrote:<br>&gt; I was trying both Xcode and Xcode-beta, I just happened to copy paste while Xcode-beta was selected ... Anyway, both of them crash like that.<br>&gt; /Jens<br>&gt; <br>&gt; <br>&gt; On Thu, Oct 6, 2016 at 7:22 PM, Kate Stone &lt;k8stone at apple.com&gt; wrote:<br>&gt; If you’ve specified “sudo xcode-select -s /Applications/Xcode.app” then it’s surprising that the REPL session is attempting to use the LLDB and SDK from /Applications/Xcode-beta.app.  Can you double-check what “xcode-select -p” reports?<br>&gt; <br>&gt; I can’t say I’ve seen a segmentation fault on REPL launch.  If you see the same behavior once moving to the GM build of Xcode it would definitely be worth filing a radar via bugreport.apple.com with an LLDB crashlog attached to investigate further.<br>&gt; <br>&gt; Kate Stone k8stone at apple.com<br>&gt;  Xcode Low Level Tools<br>&gt; <br>&gt;&gt; On Oct 6, 2016, at 6:51 AM, Jens Persson via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; After updating to Sierra I can no longer use the Swift REPL. It crashes immediately (see Terminal session below). Anyone else having the same problem, any workaround?<br>&gt;&gt; <br>&gt;&gt; It didn&#39;t help to download and reinstall the command line tools for 10.12. <br>&gt;&gt; <br>&gt;&gt; (I had Xcode 8 and 8.1 beta installed before updating to Sierra. It might have happened just after I did a sudo xcode-select -s /Applications/Xcode.app )<br>&gt;&gt; <br>&gt;&gt; See Terminal session below.<br>&gt;&gt; <br>&gt;&gt; /Jens<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; › swift<br>&gt;&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.48 clang-800.0.40). Type :help for assistance.<br>&gt;&gt; Segmentation fault: 11<br>&gt;&gt; › <br>&gt;&gt; › swift -v<br>&gt;&gt; Apple Swift version 3.0 (swiftlang-800.0.49 clang-800.0.40)<br>&gt;&gt; Target: x86_64-apple-macosx10.9<br>&gt;&gt; /Applications/Xcode-beta.app/Contents/Developer/usr/bin/lldb &quot;--repl=-target x86_64-apple-macosx10.9 -enable-objc-interop -sdk /Applications/Xcode-beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk -color-diagnostics&quot;<br>&gt;&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.48 clang-800.0.40). Type :help for assistance.<br>&gt;&gt; Segmentation fault: 11<br>&gt;&gt; › <br>&gt;&gt; › /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/swift -sdk /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk -target x86_64-apple-macosx10.12<br>&gt;&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.46.2 clang-800.0.38). Type :help for assistance.<br>&gt;&gt; Segmentation fault: 11<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-users mailing list<br>&gt;&gt; swift-users at swift.org<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/0d042be5dcfe90e649f760303af3e429?s=50"></div><header><strong>Swift REPL broken after updating to Sierra, is it just me?</strong> from <string>Jens Persson</string> &lt;jens at bitcycle.com&gt;<p>October  6, 2016 at 10:00:00pm</p></header><div class="content"><p>Thanks! I moved the following to a temporary location:<br>~<br>├── .lldb<br>│   ├── lldb-history<br>│   ├── lldb-repl-history<br>│   └── lldb-swift-history<br>└── .lldb-swift-history<br></p><p>And that made the REPL work again.<br>I will zip and attach those files to 28657007.<br>/Jens<br></p><p>On Thu, Oct 6, 2016 at 9:52 PM, Jim Ingham &lt;jingham at apple.com&gt; wrote:<br></p><p>&gt; There is a known bug in libedit&#39;s history file reader that can cause this<br>&gt; crash.  libedit is a system component that lldb uses to do command-line<br>&gt; editing and the like.<br>&gt;<br>&gt; Try moving ~/.lldb-history to some other name, and then rerunning the<br>&gt; REPL.  If that works, can you attach that history file to the Radar you<br>&gt; mentioned, so we can make sure this is the same history reading bug?<br>&gt;<br>&gt; Thanks,<br>&gt;<br>&gt; Jim<br>&gt;<br>&gt;<br>&gt; &gt; On Oct 6, 2016, at 12:46 PM, Jens Persson via swift-users &lt;<br>&gt; swift-users at swift.org&gt; wrote:<br>&gt; &gt;<br>&gt; &gt; I&#39;ve filed radar 28657007 and attached the two crashlogs that is<br>&gt; generated (one for lldb, and one for repl_swift.<br>&gt; &gt; /Jens<br>&gt; &gt;<br>&gt; &gt; On Thu, Oct 6, 2016 at 9:25 PM, Jens Persson &lt;jens at bitcycle.com&gt; wrote:<br>&gt; &gt; Here is with Xcode.app:<br>&gt; &gt;<br>&gt; &gt; › sudo xcode-select -s /Applications/Xcode.app<br>&gt; &gt; Password:<br>&gt; &gt; ›<br>&gt; &gt; › swift -v<br>&gt; &gt; Apple Swift version 3.0 (swiftlang-800.0.46.2 clang-800.0.38)<br>&gt; &gt; Target: x86_64-apple-macosx10.9<br>&gt; &gt; /Applications/Xcode.app/Contents/Developer/usr/bin/lldb &quot;--repl=-target<br>&gt; x86_64-apple-macosx10.9 -enable-objc-interop -sdk /Applications/Xcode.app/<br>&gt; Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk<br>&gt; -color-diagnostics&quot;<br>&gt; &gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.46.2<br>&gt; clang-800.0.38). Type :help for assistance.<br>&gt; &gt; Segmentation fault: 11<br>&gt; &gt;<br>&gt; &gt; /Jens<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt; On Thu, Oct 6, 2016 at 9:23 PM, Jens Persson &lt;jens at bitcycle.com&gt; wrote:<br>&gt; &gt; I was trying both Xcode and Xcode-beta, I just happened to copy paste<br>&gt; while Xcode-beta was selected ... Anyway, both of them crash like that.<br>&gt; &gt; /Jens<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt; On Thu, Oct 6, 2016 at 7:22 PM, Kate Stone &lt;k8stone at apple.com&gt; wrote:<br>&gt; &gt; If you’ve specified “sudo xcode-select -s /Applications/Xcode.app” then<br>&gt; it’s surprising that the REPL session is attempting to use the LLDB and SDK<br>&gt; from /Applications/Xcode-beta.app.  Can you double-check what “xcode-select<br>&gt; -p” reports?<br>&gt; &gt;<br>&gt; &gt; I can’t say I’ve seen a segmentation fault on REPL launch.  If you see<br>&gt; the same behavior once moving to the GM build of Xcode it would definitely<br>&gt; be worth filing a radar via bugreport.apple.com with an LLDB crashlog<br>&gt; attached to investigate further.<br>&gt; &gt;<br>&gt; &gt; Kate Stone k8stone at apple.com<br>&gt; &gt;  Xcode Low Level Tools<br>&gt; &gt;<br>&gt; &gt;&gt; On Oct 6, 2016, at 6:51 AM, Jens Persson via swift-users &lt;<br>&gt; swift-users at swift.org&gt; wrote:<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; After updating to Sierra I can no longer use the Swift REPL. It crashes<br>&gt; immediately (see Terminal session below). Anyone else having the same<br>&gt; problem, any workaround?<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; It didn&#39;t help to download and reinstall the command line tools for<br>&gt; 10.12.<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; (I had Xcode 8 and 8.1 beta installed before updating to Sierra. It<br>&gt; might have happened just after I did a sudo xcode-select -s<br>&gt; /Applications/Xcode.app )<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; See Terminal session below.<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; /Jens<br>&gt; &gt;&gt;<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; › swift<br>&gt; &gt;&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.48 clang-800.0.40).<br>&gt; Type :help for assistance.<br>&gt; &gt;&gt; Segmentation fault: 11<br>&gt; &gt;&gt; ›<br>&gt; &gt;&gt; › swift -v<br>&gt; &gt;&gt; Apple Swift version 3.0 (swiftlang-800.0.49 clang-800.0.40)<br>&gt; &gt;&gt; Target: x86_64-apple-macosx10.9<br>&gt; &gt;&gt; /Applications/Xcode-beta.app/Contents/Developer/usr/bin/lldb<br>&gt; &quot;--repl=-target x86_64-apple-macosx10.9 -enable-objc-interop -sdk<br>&gt; /Applications/Xcode-beta.app/Contents/Developer/Platforms/<br>&gt; MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk -color-diagnostics&quot;<br>&gt; &gt;&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.48 clang-800.0.40).<br>&gt; Type :help for assistance.<br>&gt; &gt;&gt; Segmentation fault: 11<br>&gt; &gt;&gt; ›<br>&gt; &gt;&gt; › /Applications/Xcode.app/Contents/Developer/Toolchains/<br>&gt; XcodeDefault.xctoolchain/usr/bin/swift -sdk /Applications/Xcode.app/<br>&gt; Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk<br>&gt; -target x86_64-apple-macosx10.12<br>&gt; &gt;&gt; Welcome to Apple Swift version 3.0 (swiftlang-800.0.46.2<br>&gt; clang-800.0.38). Type :help for assistance.<br>&gt; &gt;&gt; Segmentation fault: 11<br>&gt; &gt;&gt;<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; _______________________________________________<br>&gt; &gt;&gt; swift-users mailing list<br>&gt; &gt;&gt; swift-users at swift.org<br>&gt; &gt;&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt; _______________________________________________<br>&gt; &gt; swift-users mailing list<br>&gt; &gt; swift-users at swift.org<br>&gt; &gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20161006/2c97c1a7/attachment.html&gt;<br></p></div></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js?vsn=d"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
