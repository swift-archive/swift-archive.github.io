<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/6fe87aed0d64cdbc46378bf7596a7553?s=50"></div><header><strong>Anyone running build-toolchain on linux?</strong> from <string>Andrew Trick</string> &lt;atrick at apple.com&gt;<p>July 28, 2016 at 09:00:00am</p></header><div class="content"><p>I need to push corelibs changes in today but I’m running into problems testing the full Swift toolchain on linux. build-toolchain stops after attempting to run swiftpm tests and hitting the failure shown below.<br></p><p>Anyone else seeing issues running build-toolchain?<br></p><p>As of:<br></p><p>commit cb0b4588a6a8bf80dc0efa52857df62f361e81d5 (HEAD -&gt; master, origin/master, origin/HEAD)<br>Merge: 9bb96ee 77ef84b<br>Author: Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>Date:   Wed Jul 27 08:47:50 2016<br></p><p>    Merge branch &#39;more-convention-tests&#39; of https://github.com/aciidb0mb3r/swift-package-manager<br></p><p>---<br>Test Case &#39;ClangModulesTestCase.testCUsingCDep2&#39; started at 10:23:02.222<br>    Building Debug<br>**** FAILURE EXECUTING SUBPROCESS ****<br>command: /home/atrick/s/build/buildbot_linux/swiftpm-linux-x86_64/debug/swift-build --chdir /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Bar --configuration debug<br>SWIFT_EXEC: nil<br>output: Cloning /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Foo<br>HEAD is now at f42e04e msg<br>Resolved version: 1.2.3<br>Compile Foo Foo.c<br>Linking Foo<br>Compile SeaLover Sea.c<br>Compile Swift Module &#39;SwiftExec&#39; (1 sources)<br>/tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Bar/Sources/SeaLover/Sea.c:1:10: fatal error: could not acquire lock file for module &#39;Foo&#39;<br>#include &lt;Foo/Foo.h&gt;<br>         ^<br>1 error generated.<br>&lt;unknown&gt;:0: error: build had 1 command failures<br>swift-build: error: exit(1): /home/atrick/s/build/buildbot_linux/swiftpm-linux-x86_64/debug/swift-build-tool -f /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Bar/.build/debug.yaml<br></p><p>/home/atrick/s/swiftpm/Tests/Functional/ClangModuleTests.swift:96: error: ClangModulesTestCase.testCUsingCDep2 : failed - `swift build -c Debug&#39; failed:<br></p><p>exit(1): /home/atrick/s/build/buildbot_linux/swiftpm-linux-x86_64/debug/swift-build --chdir /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Bar --configuration debug<br></p><p>--- bootstrap: error: tests failed with exit status 1<br>./utils/build-script: fatal error: command terminated with a non-zero exit status 1, aborting<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/5d9baa679148bd83458d11df12327ce0?s=50"></div><header><strong>Anyone running build-toolchain on linux?</strong> from <string>Daniel Dunbar</string> &lt;daniel_dunbar at apple.com&gt;<p>July 28, 2016 at 09:00:00am</p></header><div class="content"><p>I don&#39;t run build toolchain myself (I have my own scripts for assembling one), but I run `build-script -R --llbuild --foundation --xctest -t` without issue.<br></p><p>+Jordan, Ben for what situations could cause the actual error we are hitting there.<br></p><p> - Daniel<br></p><p>&gt; On Jul 28, 2016, at 9:27 AM, Andrew Trick &lt;atrick at apple.com&gt; wrote:<br>&gt; <br>&gt; I need to push corelibs changes in today but I’m running into problems testing the full Swift toolchain on linux. build-toolchain stops after attempting to run swiftpm tests and hitting the failure shown below.<br>&gt; <br>&gt; Anyone else seeing issues running build-toolchain?<br>&gt; <br>&gt; As of:<br>&gt; <br>&gt; commit cb0b4588a6a8bf80dc0efa52857df62f361e81d5 (HEAD -&gt; master, origin/master, origin/HEAD)<br>&gt; Merge: 9bb96ee 77ef84b<br>&gt; Author: Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>&gt; Date:   Wed Jul 27 08:47:50 2016<br>&gt; <br>&gt;    Merge branch &#39;more-convention-tests&#39; of https://github.com/aciidb0mb3r/swift-package-manager<br>&gt; <br>&gt; ---<br>&gt; Test Case &#39;ClangModulesTestCase.testCUsingCDep2&#39; started at 10:23:02.222<br>&gt;    Building Debug<br>&gt; **** FAILURE EXECUTING SUBPROCESS ****<br>&gt; command: /home/atrick/s/build/buildbot_linux/swiftpm-linux-x86_64/debug/swift-build --chdir /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Bar --configuration debug<br>&gt; SWIFT_EXEC: nil<br>&gt; output: Cloning /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Foo<br>&gt; HEAD is now at f42e04e msg<br>&gt; Resolved version: 1.2.3<br>&gt; Compile Foo Foo.c<br>&gt; Linking Foo<br>&gt; Compile SeaLover Sea.c<br>&gt; Compile Swift Module &#39;SwiftExec&#39; (1 sources)<br>&gt; /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Bar/Sources/SeaLover/Sea.c:1:10: fatal error: could not acquire lock file for module &#39;Foo&#39;<br>&gt; #include &lt;Foo/Foo.h&gt;<br>&gt;         ^<br>&gt; 1 error generated.<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: error: exit(1): /home/atrick/s/build/buildbot_linux/swiftpm-linux-x86_64/debug/swift-build-tool -f /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Bar/.build/debug.yaml<br>&gt; <br>&gt; /home/atrick/s/swiftpm/Tests/Functional/ClangModuleTests.swift:96: error: ClangModulesTestCase.testCUsingCDep2 : failed - `swift build -c Debug&#39; failed:<br>&gt; <br>&gt; exit(1): /home/atrick/s/build/buildbot_linux/swiftpm-linux-x86_64/debug/swift-build --chdir /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Bar --configuration debug<br>&gt; <br>&gt; --- bootstrap: error: tests failed with exit status 1<br>&gt; ./utils/build-script: fatal error: command terminated with a non-zero exit status 1, aborting<br>&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/ecb50a99bf3b4cc0249312945dce7115?s=50"></div><header><strong>Anyone running build-toolchain on linux?</strong> from <string>Ben Langmuir</string> &lt;blangmuir at apple.com&gt;<p>July 28, 2016 at 09:00:00am</p></header><div class="content"><p>That error indicates some kind of filesystem issue in the module cache directory - no permissions, out of space, the directory has been removed by some other process, etc.  +Bruno who was looking at making this error more specific.<br></p><p>Ben<br></p><p>&gt; On Jul 28, 2016, at 9:29 AM, Daniel Dunbar &lt;daniel_dunbar at apple.com&gt; wrote:<br>&gt; <br>&gt; I don&#39;t run build toolchain myself (I have my own scripts for assembling one), but I run `build-script -R --llbuild --foundation --xctest -t` without issue.<br>&gt; <br>&gt; +Jordan, Ben for what situations could cause the actual error we are hitting there.<br>&gt; <br>&gt; - Daniel<br>&gt; <br>&gt;&gt; On Jul 28, 2016, at 9:27 AM, Andrew Trick &lt;atrick at apple.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; I need to push corelibs changes in today but I’m running into problems testing the full Swift toolchain on linux. build-toolchain stops after attempting to run swiftpm tests and hitting the failure shown below.<br>&gt;&gt; <br>&gt;&gt; Anyone else seeing issues running build-toolchain?<br>&gt;&gt; <br>&gt;&gt; As of:<br>&gt;&gt; <br>&gt;&gt; commit cb0b4588a6a8bf80dc0efa52857df62f361e81d5 (HEAD -&gt; master, origin/master, origin/HEAD)<br>&gt;&gt; Merge: 9bb96ee 77ef84b<br>&gt;&gt; Author: Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>&gt;&gt; Date:   Wed Jul 27 08:47:50 2016<br>&gt;&gt; <br>&gt;&gt;   Merge branch &#39;more-convention-tests&#39; of https://github.com/aciidb0mb3r/swift-package-manager<br>&gt;&gt; <br>&gt;&gt; ---<br>&gt;&gt; Test Case &#39;ClangModulesTestCase.testCUsingCDep2&#39; started at 10:23:02.222<br>&gt;&gt;   Building Debug<br>&gt;&gt; **** FAILURE EXECUTING SUBPROCESS ****<br>&gt;&gt; command: /home/atrick/s/build/buildbot_linux/swiftpm-linux-x86_64/debug/swift-build --chdir /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Bar --configuration debug<br>&gt;&gt; SWIFT_EXEC: nil<br>&gt;&gt; output: Cloning /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Foo<br>&gt;&gt; HEAD is now at f42e04e msg<br>&gt;&gt; Resolved version: 1.2.3<br>&gt;&gt; Compile Foo Foo.c<br>&gt;&gt; Linking Foo<br>&gt;&gt; Compile SeaLover Sea.c<br>&gt;&gt; Compile Swift Module &#39;SwiftExec&#39; (1 sources)<br>&gt;&gt; /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Bar/Sources/SeaLover/Sea.c:1:10: fatal error: could not acquire lock file for module &#39;Foo&#39;<br>&gt;&gt; #include &lt;Foo/Foo.h&gt;<br>&gt;&gt;        ^<br>&gt;&gt; 1 error generated.<br>&gt;&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt;&gt; swift-build: error: exit(1): /home/atrick/s/build/buildbot_linux/swiftpm-linux-x86_64/debug/swift-build-tool -f /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Bar/.build/debug.yaml<br>&gt;&gt; <br>&gt;&gt; /home/atrick/s/swiftpm/Tests/Functional/ClangModuleTests.swift:96: error: ClangModulesTestCase.testCUsingCDep2 : failed - `swift build -c Debug&#39; failed:<br>&gt;&gt; <br>&gt;&gt; exit(1): /home/atrick/s/build/buildbot_linux/swiftpm-linux-x86_64/debug/swift-build --chdir /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Bar --configuration debug<br>&gt;&gt; <br>&gt;&gt; --- bootstrap: error: tests failed with exit status 1<br>&gt;&gt; ./utils/build-script: fatal error: command terminated with a non-zero exit status 1, aborting<br>&gt;&gt; <br>&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/6fe87aed0d64cdbc46378bf7596a7553?s=50"></div><header><strong>Anyone running build-toolchain on linux?</strong> from <string>Andrew Trick</string> &lt;atrick at apple.com&gt;<p>July 28, 2016 at 10:00:00am</p></header><div class="content"><p>Thanks Ben.<br></p><p>Daniel’s command works for me:<br>build-script -R --llbuild --foundation --xctest -t<br></p><p>But doesn’t build all the projects.<br></p><p>-Andy<br></p><p>&gt; On Jul 28, 2016, at 9:39 AM, Ben Langmuir &lt;blangmuir at apple.com&gt; wrote:<br>&gt; <br>&gt; That error indicates some kind of filesystem issue in the module cache directory - no permissions, out of space, the directory has been removed by some other process, etc.  +Bruno who was looking at making this error more specific.<br>&gt; <br>&gt; Ben<br>&gt; <br>&gt;&gt; On Jul 28, 2016, at 9:29 AM, Daniel Dunbar &lt;daniel_dunbar at apple.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; I don&#39;t run build toolchain myself (I have my own scripts for assembling one), but I run `build-script -R --llbuild --foundation --xctest -t` without issue.<br>&gt;&gt; <br>&gt;&gt; +Jordan, Ben for what situations could cause the actual error we are hitting there.<br>&gt;&gt; <br>&gt;&gt; - Daniel<br>&gt;&gt; <br>&gt;&gt;&gt; On Jul 28, 2016, at 9:27 AM, Andrew Trick &lt;atrick at apple.com&gt; wrote:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; I need to push corelibs changes in today but I’m running into problems testing the full Swift toolchain on linux. build-toolchain stops after attempting to run swiftpm tests and hitting the failure shown below.<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Anyone else seeing issues running build-toolchain?<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; As of:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; commit cb0b4588a6a8bf80dc0efa52857df62f361e81d5 (HEAD -&gt; master, origin/master, origin/HEAD)<br>&gt;&gt;&gt; Merge: 9bb96ee 77ef84b<br>&gt;&gt;&gt; Author: Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>&gt;&gt;&gt; Date:   Wed Jul 27 08:47:50 2016<br>&gt;&gt;&gt; <br>&gt;&gt;&gt;  Merge branch &#39;more-convention-tests&#39; of https://github.com/aciidb0mb3r/swift-package-manager<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; ---<br>&gt;&gt;&gt; Test Case &#39;ClangModulesTestCase.testCUsingCDep2&#39; started at 10:23:02.222<br>&gt;&gt;&gt;  Building Debug<br>&gt;&gt;&gt; **** FAILURE EXECUTING SUBPROCESS ****<br>&gt;&gt;&gt; command: /home/atrick/s/build/buildbot_linux/swiftpm-linux-x86_64/debug/swift-build --chdir /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Bar --configuration debug<br>&gt;&gt;&gt; SWIFT_EXEC: nil<br>&gt;&gt;&gt; output: Cloning /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Foo<br>&gt;&gt;&gt; HEAD is now at f42e04e msg<br>&gt;&gt;&gt; Resolved version: 1.2.3<br>&gt;&gt;&gt; Compile Foo Foo.c<br>&gt;&gt;&gt; Linking Foo<br>&gt;&gt;&gt; Compile SeaLover Sea.c<br>&gt;&gt;&gt; Compile Swift Module &#39;SwiftExec&#39; (1 sources)<br>&gt;&gt;&gt; /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Bar/Sources/SeaLover/Sea.c:1:10: fatal error: could not acquire lock file for module &#39;Foo&#39;<br>&gt;&gt;&gt; #include &lt;Foo/Foo.h&gt;<br>&gt;&gt;&gt;       ^<br>&gt;&gt;&gt; 1 error generated.<br>&gt;&gt;&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt;&gt;&gt; swift-build: error: exit(1): /home/atrick/s/build/buildbot_linux/swiftpm-linux-x86_64/debug/swift-build-tool -f /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Bar/.build/debug.yaml<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; /home/atrick/s/swiftpm/Tests/Functional/ClangModuleTests.swift:96: error: ClangModulesTestCase.testCUsingCDep2 : failed - `swift build -c Debug&#39; failed:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; exit(1): /home/atrick/s/build/buildbot_linux/swiftpm-linux-x86_64/debug/swift-build --chdir /tmp/DependencyResolution_External_CUsingCDep2.5dXdqO/Bar --configuration debug<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; --- bootstrap: error: tests failed with exit status 1<br>&gt;&gt;&gt; ./utils/build-script: fatal error: command terminated with a non-zero exit status 1, aborting<br>&gt;&gt;&gt; <br>&gt;&gt; <br>&gt;<br></p></div></li></ul></li></ul></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
