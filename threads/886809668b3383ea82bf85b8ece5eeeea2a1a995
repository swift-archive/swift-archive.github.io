<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css?vsn=d">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg?vsn=d" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/46520baee6c64b0aa858ccfcec77f131?s=50"></div><header><strong>Error with SwiftGlibs building for arm-linux</strong> from <string>Iliya Trub</string> &lt;itrub at yandex.ru&gt;<p>March 31, 2016 at 11:00:00pm</p></header><div class="content"><p>Dear colleagues<br>What about my last message from this thread? Does bug exist or not? Really, I get glibs.modulemap after overall compiler building under arm-emulator, then use cross-compiling under x86_64 Ubuntu, and swift takes headers, listed within glibc.modulemap (starting from /usr/include), from native host, not adding prefix of chroot. -isysroot is ignored, and I think, I have found this place in code. I am wrong?<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/b9904260218b6d7942782c2b2355f2aa?s=50"></div><header><strong>Error with SwiftGlibs building for arm-linux</strong> from <string>William Dillon</string> &lt;william at housedillon.com&gt;<p>March 31, 2016 at 03:00:00pm</p></header><div class="content"><p>I believe the bug still exists.  I tried to build armv7 on native hardware yesterday and hit this bug.  I haven&#39;t had time to look into it at all though.<br></p><p>- Will<br></p><p>&gt; On Mar 31, 2016, at 1:11 PM, Iliya Trub via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; Dear colleagues<br>&gt; What about my last message from this thread? Does bug exist or not? Really, I get glibs.modulemap after overall compiler building under arm-emulator, then use cross-compiling under x86_64 Ubuntu, and swift takes headers, listed within glibc.modulemap (starting from /usr/include), from native host, not adding prefix of chroot. -isysroot is ignored, and I think, I have found this place in code. I am wrong?<br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/46520baee6c64b0aa858ccfcec77f131?s=50"></div><header><strong>Error with SwiftGlibs building for arm-linux</strong> from <string>Iliya Trub</string> &lt;itrub at yandex.ru&gt;<p>April  1, 2016 at 01:00:00am</p></header><div class="content"><p>I think, I know how to add sysroot to place in code, which I have shown. But, may be, it is not sufficient. It is also need to provide adding of prefix when traversing other &quot;angled&quot; include-directives from modulemap-file in deep. I do not know how to do that, but I am looking for.<br></p><p>01.04.2016, 01:03, &quot;William Dillon&quot; &lt;william at housedillon.com&gt;:<br>&gt; I believe the bug still exists. I tried to build armv7 on native hardware yesterday and hit this bug. I haven&#39;t had time to look into it at all though.<br>&gt;<br>&gt; - Will<br>&gt;<br>&gt;&gt;  On Mar 31, 2016, at 1:11 PM, Iliya Trub via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt;&gt;<br>&gt;&gt;  Dear colleagues<br>&gt;&gt;  What about my last message from this thread? Does bug exist or not? Really, I get glibs.modulemap after overall compiler building under arm-emulator, then use cross-compiling under x86_64 Ubuntu, and swift takes headers, listed within glibc.modulemap (starting from /usr/include), from native host, not adding prefix of chroot. -isysroot is ignored, and I think, I have found this place in code. I am wrong?<br>&gt;&gt;  _______________________________________________<br>&gt;&gt;  swift-dev mailing list<br>&gt;&gt;  swift-dev at swift.org<br>&gt;&gt;  https://lists.swift.org/mailman/listinfo/swift-dev<br></p><p>-- <br>С уважением,<br> Труб Илья<br>+79032407864<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/46520baee6c64b0aa858ccfcec77f131?s=50"></div><header><strong>Error with SwiftGlibs building for arm-linux</strong> from <string>Iliya Trub</string> &lt;itrub at yandex.ru&gt;<p>April  3, 2016 at 08:00:00pm</p></header><div class="content"><p>That is true, it is not sufficient. Even if to add sysroot-prefix to all .h-files within modulemap, they are found correctly, but their&#39;s inner includes are given wrongly, without sysroot prefix. Could anybody hint, what source code is responsible for internal parsing of .h-files, starting from the modulemap file?<br></p><p>01.04.2016, 01:16, &quot;Iliya Trub via swift-dev&quot; &lt;swift-dev at swift.org&gt;:<br>&gt; I think, I know how to add sysroot to place in code, which I have shown. But, may be, it is not sufficient. It is also need to provide adding of prefix when traversing other &quot;angled&quot; include-directives from modulemap-file in deep. I do not know how to do that, but I am looking for.<br>&gt;<br>&gt; 01.04.2016, 01:03, &quot;William Dillon&quot; &lt;william at housedillon.com&gt;:<br>&gt;&gt;  I believe the bug still exists. I tried to build armv7 on native hardware yesterday and hit this bug. I haven&#39;t had time to look into it at all though.<br>&gt;&gt;<br>&gt;&gt;  - Will<br>&gt;&gt;<br>&gt;&gt;&gt;   On Mar 31, 2016, at 1:11 PM, Iliya Trub via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt;&gt;&gt;<br>&gt;&gt;&gt;   Dear colleagues<br>&gt;&gt;&gt;   What about my last message from this thread? Does bug exist or not? Really, I get glibs.modulemap after overall compiler building under arm-emulator, then use cross-compiling under x86_64 Ubuntu, and swift takes headers, listed within glibc.modulemap (starting from /usr/include), from native host, not adding prefix of chroot. -isysroot is ignored, and I think, I have found this place in code. I am wrong?<br>&gt;&gt;&gt;   _______________________________________________<br>&gt;&gt;&gt;   swift-dev mailing list<br>&gt;&gt;&gt;   swift-dev at swift.org<br>&gt;&gt;&gt;   https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;<br>&gt; --<br>&gt; С уважением,<br>&gt;  Труб Илья<br>&gt; +79032407864<br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br></p><p>-- <br>С уважением,<br> Труб Илья<br>+79032407864<br></p></div></li></ul></li></ul></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js?vsn=d"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
