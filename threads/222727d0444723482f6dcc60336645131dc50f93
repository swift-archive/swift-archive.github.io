<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css?vsn=d">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg?vsn=d" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/17d2af4afb70023e28e655d17471a018?s=50"></div><header><strong>Stable Merge later this week</strong> from <string>Michael Gottesman</string> &lt;mgottesman at apple.com&gt;<p>February  2, 2016 at 12:00:00pm</p></header><div class="content"><p>Due to the speed at which LLVM/Clang and Swift move, we do not build Swift against ToT LLVM. We tried this in the past and it resulted in us spending a lot of time dealing with upstream churn and not working on swift. To work around this problem, we now build against stable snapshots of LLVM/Clang that are updated as soon as possible given a minimum break of 2-3 weeks in between such updates (1).<br></p><p>Later this week, I will be performing such an update to the stable snapshots of LLVM/Clang. This will involve changes to Swift and LLDB to work with the new LLVM/Clang. I will send out an email the day I perform it as well as right before I perform the operation.<br></p><p>I have verified that these changes work on the current x86_64 OS X/ubuntu builds via the CI system. For those supporting other platforms if one wishes to test against the stable merge before it lands please check out the following branches:<br></p><p>1. swift-llvm:stable-next<br>2. swift-clang: stable-next<br>3. swift:master-next<br>4. swift-lldb:master-next<br></p><p>Then perform the normal work flow for testing your build.<br></p><p>Thanks,<br>Michael<br></p><p>(1) The reason for mentioning a minimum and not a maximum time is that sometimes it takes longer to perform a merge due to disruptive upstream changes. The minimum cadence is meant to provide some stability even if the upstream changes are not disruptive.<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/17d2af4afb70023e28e655d17471a018?s=50"></div><header><strong>Stable Merge later this week</strong> from <string>Michael Gottesman</string> &lt;mgottesman at apple.com&gt;<p>February  4, 2016 at 12:00:00pm</p></header><div class="content"><p>This is just a reminder that the stable merge is going to be happening this weekend on Saturday, Feb 6. This date was chosen in order to reduce the churn going on in tree while the merge is occurring.<br></p><p>I will send out an email on Saturday before I begin the merge.<br></p><p>Michael<br></p><p>&gt; On Feb 2, 2016, at 12:23 PM, Michael Gottesman &lt;mgottesman at apple.com&gt; wrote:<br>&gt; <br>&gt; Due to the speed at which LLVM/Clang and Swift move, we do not build Swift against ToT LLVM. We tried this in the past and it resulted in us spending a lot of time dealing with upstream churn and not working on swift. To work around this problem, we now build against stable snapshots of LLVM/Clang that are updated as soon as possible given a minimum break of 2-3 weeks in between such updates (1).<br>&gt; <br>&gt; Later this week, I will be performing such an update to the stable snapshots of LLVM/Clang. This will involve changes to Swift and LLDB to work with the new LLVM/Clang. I will send out an email the day I perform it as well as right before I perform the operation.<br>&gt; <br>&gt; I have verified that these changes work on the current x86_64 OS X/ubuntu builds via the CI system. For those supporting other platforms if one wishes to test against the stable merge before it lands please check out the following branches:<br>&gt; <br>&gt; 1. swift-llvm:stable-next<br>&gt; 2. swift-clang: stable-next<br>&gt; 3. swift:master-next<br>&gt; 4. swift-lldb:master-next<br>&gt; <br>&gt; Then perform the normal work flow for testing your build.<br>&gt; <br>&gt; Thanks,<br>&gt; Michael<br>&gt; <br>&gt; (1) The reason for mentioning a minimum and not a maximum time is that sometimes it takes longer to perform a merge due to disruptive upstream changes. The minimum cadence is meant to provide some stability even if the upstream changes are not disruptive.<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/17d2af4afb70023e28e655d17471a018?s=50"></div><header><strong>Stable Merge later this week</strong> from <string>Michael Gottesman</string> &lt;mgottesman at apple.com&gt;<p>February  6, 2016 at 01:00:00pm</p></header><div class="content"><p>I am preparing the final swift stable merge today. I will email when it lands.<br></p><p>In the mean time please do not cherry-pick anything into the stable llvm/clang repositories. Swift only changes are generally ok.<br></p><p>Michael<br></p><p>&gt; On Feb 4, 2016, at 12:34 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; This is just a reminder that the stable merge is going to be happening this weekend on Saturday, Feb 6. This date was chosen in order to reduce the churn going on in tree while the merge is occurring.<br>&gt; <br>&gt; I will send out an email on Saturday before I begin the merge.<br>&gt; <br>&gt; Michael<br>&gt; <br>&gt;&gt; On Feb 2, 2016, at 12:23 PM, Michael Gottesman &lt;mgottesman at apple.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Due to the speed at which LLVM/Clang and Swift move, we do not build Swift against ToT LLVM. We tried this in the past and it resulted in us spending a lot of time dealing with upstream churn and not working on swift. To work around this problem, we now build against stable snapshots of LLVM/Clang that are updated as soon as possible given a minimum break of 2-3 weeks in between such updates (1).<br>&gt;&gt; <br>&gt;&gt; Later this week, I will be performing such an update to the stable snapshots of LLVM/Clang. This will involve changes to Swift and LLDB to work with the new LLVM/Clang. I will send out an email the day I perform it as well as right before I perform the operation.<br>&gt;&gt; <br>&gt;&gt; I have verified that these changes work on the current x86_64 OS X/ubuntu builds via the CI system. For those supporting other platforms if one wishes to test against the stable merge before it lands please check out the following branches:<br>&gt;&gt; <br>&gt;&gt; 1. swift-llvm:stable-next<br>&gt;&gt; 2. swift-clang: stable-next<br>&gt;&gt; 3. swift:master-next<br>&gt;&gt; 4. swift-lldb:master-next<br>&gt;&gt; <br>&gt;&gt; Then perform the normal work flow for testing your build.<br>&gt;&gt; <br>&gt;&gt; Thanks,<br>&gt;&gt; Michael<br>&gt;&gt; <br>&gt;&gt; (1) The reason for mentioning a minimum and not a maximum time is that sometimes it takes longer to perform a merge due to disruptive upstream changes. The minimum cadence is meant to provide some stability even if the upstream changes are not disruptive.<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/17d2af4afb70023e28e655d17471a018?s=50"></div><header><strong>Stable Merge later this week</strong> from <string>Michael Gottesman</string> &lt;mgottesman at apple.com&gt;<p>February  6, 2016 at 07:00:00pm</p></header><div class="content"><p>An update:<br></p><p>We ran into delays since commits committed since I last did the incremental merge last Wednesday conflicted with the stable merge, but those are fixed now. I am now performing the last test run on the CI.. It is going to take a little bit. Then I am going to land this.<br></p><p>Please be careful with what you commit.<br></p><p>Thank you for your patience,<br>Michael<br></p><p>&gt; On Feb 6, 2016, at 1:48 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; I am preparing the final swift stable merge today. I will email when it lands.<br>&gt; <br>&gt; In the mean time please do not cherry-pick anything into the stable llvm/clang repositories. Swift only changes are generally ok.<br>&gt; <br>&gt; Michael<br>&gt; <br>&gt;&gt; On Feb 4, 2016, at 12:34 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; This is just a reminder that the stable merge is going to be happening this weekend on Saturday, Feb 6. This date was chosen in order to reduce the churn going on in tree while the merge is occurring.<br>&gt;&gt; <br>&gt;&gt; I will send out an email on Saturday before I begin the merge.<br>&gt;&gt; <br>&gt;&gt; Michael<br>&gt;&gt; <br>&gt;&gt;&gt; On Feb 2, 2016, at 12:23 PM, Michael Gottesman &lt;mgottesman at apple.com&gt; wrote:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Due to the speed at which LLVM/Clang and Swift move, we do not build Swift against ToT LLVM. We tried this in the past and it resulted in us spending a lot of time dealing with upstream churn and not working on swift. To work around this problem, we now build against stable snapshots of LLVM/Clang that are updated as soon as possible given a minimum break of 2-3 weeks in between such updates (1).<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Later this week, I will be performing such an update to the stable snapshots of LLVM/Clang. This will involve changes to Swift and LLDB to work with the new LLVM/Clang. I will send out an email the day I perform it as well as right before I perform the operation.<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; I have verified that these changes work on the current x86_64 OS X/ubuntu builds via the CI system. For those supporting other platforms if one wishes to test against the stable merge before it lands please check out the following branches:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; 1. swift-llvm:stable-next<br>&gt;&gt;&gt; 2. swift-clang: stable-next<br>&gt;&gt;&gt; 3. swift:master-next<br>&gt;&gt;&gt; 4. swift-lldb:master-next<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Then perform the normal work flow for testing your build.<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Thanks,<br>&gt;&gt;&gt; Michael<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; (1) The reason for mentioning a minimum and not a maximum time is that sometimes it takes longer to perform a merge due to disruptive upstream changes. The minimum cadence is meant to provide some stability even if the upstream changes are not disruptive.<br>&gt;&gt; <br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-dev mailing list<br>&gt;&gt; swift-dev at swift.org<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/17d2af4afb70023e28e655d17471a018?s=50"></div><header><strong>Stable Merge later this week</strong> from <string>Michael Gottesman</string> &lt;mgottesman at apple.com&gt;<p>February  7, 2016 at 05:00:00am</p></header><div class="content"><p>Its landed. I am going to baby sit the bots for a little bit.<br></p><p>Michael<br></p><p>&gt; On Feb 6, 2016, at 7:05 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; An update:<br>&gt; <br>&gt; We ran into delays since commits committed since I last did the incremental merge last Wednesday conflicted with the stable merge, but those are fixed now. I am now performing the last test run on the CI.. It is going to take a little bit. Then I am going to land this.<br>&gt; <br>&gt; Please be careful with what you commit.<br>&gt; <br>&gt; Thank you for your patience,<br>&gt; Michael<br>&gt; <br>&gt;&gt; On Feb 6, 2016, at 1:48 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; I am preparing the final swift stable merge today. I will email when it lands.<br>&gt;&gt; <br>&gt;&gt; In the mean time please do not cherry-pick anything into the stable llvm/clang repositories. Swift only changes are generally ok.<br>&gt;&gt; <br>&gt;&gt; Michael<br>&gt;&gt; <br>&gt;&gt;&gt; On Feb 4, 2016, at 12:34 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; This is just a reminder that the stable merge is going to be happening this weekend on Saturday, Feb 6. This date was chosen in order to reduce the churn going on in tree while the merge is occurring.<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; I will send out an email on Saturday before I begin the merge.<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Michael<br>&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; On Feb 2, 2016, at 12:23 PM, Michael Gottesman &lt;mgottesman at apple.com&gt; wrote:<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; Due to the speed at which LLVM/Clang and Swift move, we do not build Swift against ToT LLVM. We tried this in the past and it resulted in us spending a lot of time dealing with upstream churn and not working on swift. To work around this problem, we now build against stable snapshots of LLVM/Clang that are updated as soon as possible given a minimum break of 2-3 weeks in between such updates (1).<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; Later this week, I will be performing such an update to the stable snapshots of LLVM/Clang. This will involve changes to Swift and LLDB to work with the new LLVM/Clang. I will send out an email the day I perform it as well as right before I perform the operation.<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; I have verified that these changes work on the current x86_64 OS X/ubuntu builds via the CI system. For those supporting other platforms if one wishes to test against the stable merge before it lands please check out the following branches:<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; 1. swift-llvm:stable-next<br>&gt;&gt;&gt;&gt; 2. swift-clang: stable-next<br>&gt;&gt;&gt;&gt; 3. swift:master-next<br>&gt;&gt;&gt;&gt; 4. swift-lldb:master-next<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; Then perform the normal work flow for testing your build.<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; Thanks,<br>&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; (1) The reason for mentioning a minimum and not a maximum time is that sometimes it takes longer to perform a merge due to disruptive upstream changes. The minimum cadence is meant to provide some stability even if the upstream changes are not disruptive.<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt; swift-dev at swift.org<br>&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;&gt; <br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-dev mailing list<br>&gt;&gt; swift-dev at swift.org<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/17d2af4afb70023e28e655d17471a018?s=50"></div><header><strong>Stable Merge later this week</strong> from <string>Michael Gottesman</string> &lt;mgottesman at apple.com&gt;<p>February  7, 2016 at 06:00:00am</p></header><div class="content"><p>I.e. make sure to update your llvm/clang now.<br></p><p>Michael<br></p><p>&gt; On Feb 7, 2016, at 5:58 AM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; Its landed. I am going to baby sit the bots for a little bit.<br>&gt; <br>&gt; Michael<br>&gt; <br>&gt;&gt; On Feb 6, 2016, at 7:05 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; An update:<br>&gt;&gt; <br>&gt;&gt; We ran into delays since commits committed since I last did the incremental merge last Wednesday conflicted with the stable merge, but those are fixed now. I am now performing the last test run on the CI.. It is going to take a little bit. Then I am going to land this.<br>&gt;&gt; <br>&gt;&gt; Please be careful with what you commit.<br>&gt;&gt; <br>&gt;&gt; Thank you for your patience,<br>&gt;&gt; Michael<br>&gt;&gt; <br>&gt;&gt;&gt; On Feb 6, 2016, at 1:48 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; I am preparing the final swift stable merge today. I will email when it lands.<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; In the mean time please do not cherry-pick anything into the stable llvm/clang repositories. Swift only changes are generally ok.<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Michael<br>&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; On Feb 4, 2016, at 12:34 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; This is just a reminder that the stable merge is going to be happening this weekend on Saturday, Feb 6. This date was chosen in order to reduce the churn going on in tree while the merge is occurring.<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; I will send out an email on Saturday before I begin the merge.<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; On Feb 2, 2016, at 12:23 PM, Michael Gottesman &lt;mgottesman at apple.com&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; Due to the speed at which LLVM/Clang and Swift move, we do not build Swift against ToT LLVM. We tried this in the past and it resulted in us spending a lot of time dealing with upstream churn and not working on swift. To work around this problem, we now build against stable snapshots of LLVM/Clang that are updated as soon as possible given a minimum break of 2-3 weeks in between such updates (1).<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; Later this week, I will be performing such an update to the stable snapshots of LLVM/Clang. This will involve changes to Swift and LLDB to work with the new LLVM/Clang. I will send out an email the day I perform it as well as right before I perform the operation.<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; I have verified that these changes work on the current x86_64 OS X/ubuntu builds via the CI system. For those supporting other platforms if one wishes to test against the stable merge before it lands please check out the following branches:<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; 1. swift-llvm:stable-next<br>&gt;&gt;&gt;&gt;&gt; 2. swift-clang: stable-next<br>&gt;&gt;&gt;&gt;&gt; 3. swift:master-next<br>&gt;&gt;&gt;&gt;&gt; 4. swift-lldb:master-next<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; Then perform the normal work flow for testing your build.<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; Thanks,<br>&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; (1) The reason for mentioning a minimum and not a maximum time is that sometimes it takes longer to perform a merge due to disruptive upstream changes. The minimum cadence is meant to provide some stability even if the upstream changes are not disruptive.<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt; swift-dev at swift.org<br>&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt; swift-dev at swift.org<br>&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;&gt; <br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-dev mailing list<br>&gt;&gt; swift-dev at swift.org<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/569ed436467cf145f3bbdd0d53fbe115?s=50"></div><header><strong>Stable Merge later this week</strong> from <string>Slava Pestov</string> &lt;spestov at apple.com&gt;<p>February  7, 2016 at 06:00:00pm</p></header><div class="content"><p>Hi Michael,<br></p><p>A bunch of commits were reverted by the merge commit you created, do you mind creating a new merge that has these included perhaps?<br></p><p>ee7f011842d8a9bd938106e9093509acca64b9cf [Omit needless words] Don&#39;t split setters, &quot;action-like&quot; methods.<br>9d805512401d48216809337c33c18a979850158b [Serialization] Encapsulate group name collectors to strategies. NFC<br>fec4bd2ad1386d2339b32dbcaf2511cc62d6c868 Address Jordan&#39;s code review comments. NFC<br>b11f7dbade6c6a9ece5bc113f89ff20fa9775f40 Merge pull request #1224 from practicalswift/swiftc-28250-swift-typechecker-typecheckdecl<br>96b542eed408f1ad5455a99cced7d5f40852f96b SILGen: Clean up witness thunk re-abstraction<br>ef37153f49dce5d795ff1b8f4cade00fefd1e906 Merge pull request #1222 from practicalswift/mark-crashes-as-duplicates<br>473e9bc8ffb132f454551dbd121377c44b551d71 Adopt llvm::TrailingObjects for TypeRefs<br>6779a99b5531b92a8f64d09bab44d2a0f1e29491 [swiftc] Add test case for crash triggered in swift::TypeChecker::typeCheckDecl(swift::Decl*, bool)<br>f1ad829890495659ca69f30913e9372e2767cff2 Pin the reflection data sections on Linux<br>1d0ee20213c888a37bb3e0b3eb170f16498e2769 Add tests for decoding type references<br>a758e3d7338b6a6cb995e464a1e1d54ed0014065 Add associated type name typeref<br></p><p>Slava<br></p><p>&gt; On Feb 7, 2016, at 6:03 AM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; I.e. make sure to update your llvm/clang now.<br>&gt; <br>&gt; Michael<br>&gt; <br>&gt;&gt; On Feb 7, 2016, at 5:58 AM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Its landed. I am going to baby sit the bots for a little bit.<br>&gt;&gt; <br>&gt;&gt; Michael<br>&gt;&gt; <br>&gt;&gt;&gt; On Feb 6, 2016, at 7:05 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; An update:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; We ran into delays since commits committed since I last did the incremental merge last Wednesday conflicted with the stable merge, but those are fixed now. I am now performing the last test run on the CI.. It is going to take a little bit. Then I am going to land this.<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Please be careful with what you commit.<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Thank you for your patience,<br>&gt;&gt;&gt; Michael<br>&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; On Feb 6, 2016, at 1:48 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; I am preparing the final swift stable merge today. I will email when it lands.<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; In the mean time please do not cherry-pick anything into the stable llvm/clang repositories. Swift only changes are generally ok.<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; On Feb 4, 2016, at 12:34 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; This is just a reminder that the stable merge is going to be happening this weekend on Saturday, Feb 6. This date was chosen in order to reduce the churn going on in tree while the merge is occurring.<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; I will send out an email on Saturday before I begin the merge.<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; On Feb 2, 2016, at 12:23 PM, Michael Gottesman &lt;mgottesman at apple.com&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; Due to the speed at which LLVM/Clang and Swift move, we do not build Swift against ToT LLVM. We tried this in the past and it resulted in us spending a lot of time dealing with upstream churn and not working on swift. To work around this problem, we now build against stable snapshots of LLVM/Clang that are updated as soon as possible given a minimum break of 2-3 weeks in between such updates (1).<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; Later this week, I will be performing such an update to the stable snapshots of LLVM/Clang. This will involve changes to Swift and LLDB to work with the new LLVM/Clang. I will send out an email the day I perform it as well as right before I perform the operation.<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; I have verified that these changes work on the current x86_64 OS X/ubuntu builds via the CI system. For those supporting other platforms if one wishes to test against the stable merge before it lands please check out the following branches:<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; 1. swift-llvm:stable-next<br>&gt;&gt;&gt;&gt;&gt;&gt; 2. swift-clang: stable-next<br>&gt;&gt;&gt;&gt;&gt;&gt; 3. swift:master-next<br>&gt;&gt;&gt;&gt;&gt;&gt; 4. swift-lldb:master-next<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; Then perform the normal work flow for testing your build.<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; Thanks,<br>&gt;&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; (1) The reason for mentioning a minimum and not a maximum time is that sometimes it takes longer to perform a merge due to disruptive upstream changes. The minimum cadence is meant to provide some stability even if the upstream changes are not disruptive.<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt;&gt; swift-dev at swift.org<br>&gt;&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt; swift-dev at swift.org<br>&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt; swift-dev at swift.org<br>&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;&gt; <br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-dev mailing list<br>&gt;&gt; swift-dev at swift.org<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160207/7707a6f2/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/569ed436467cf145f3bbdd0d53fbe115?s=50"></div><header><strong>Stable Merge later this week</strong> from <string>Slava Pestov</string> &lt;spestov at apple.com&gt;<p>February  7, 2016 at 06:00:00pm</p></header><div class="content"><p>I tried to cherry-pick the missing changes over but I don’t know how to cherry-pick a merge. Going back to the old origin/master for now.<br></p><p>I suggest we don’t push any code until this is resolved. It is the weekend, after all :-)<br></p><p>Slava<br></p><p>&gt; On Feb 7, 2016, at 6:36 PM, Slava Pestov via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; Hi Michael,<br>&gt; <br>&gt; A bunch of commits were reverted by the merge commit you created, do you mind creating a new merge that has these included perhaps?<br>&gt; <br>&gt; ee7f011842d8a9bd938106e9093509acca64b9cf [Omit needless words] Don&#39;t split setters, &quot;action-like&quot; methods.<br>&gt; 9d805512401d48216809337c33c18a979850158b [Serialization] Encapsulate group name collectors to strategies. NFC<br>&gt; fec4bd2ad1386d2339b32dbcaf2511cc62d6c868 Address Jordan&#39;s code review comments. NFC<br>&gt; b11f7dbade6c6a9ece5bc113f89ff20fa9775f40 Merge pull request #1224 from practicalswift/swiftc-28250-swift-typechecker-typecheckdecl<br>&gt; 96b542eed408f1ad5455a99cced7d5f40852f96b SILGen: Clean up witness thunk re-abstraction<br>&gt; ef37153f49dce5d795ff1b8f4cade00fefd1e906 Merge pull request #1222 from practicalswift/mark-crashes-as-duplicates<br>&gt; 473e9bc8ffb132f454551dbd121377c44b551d71 Adopt llvm::TrailingObjects for TypeRefs<br>&gt; 6779a99b5531b92a8f64d09bab44d2a0f1e29491 [swiftc] Add test case for crash triggered in swift::TypeChecker::typeCheckDecl(swift::Decl*, bool)<br>&gt; f1ad829890495659ca69f30913e9372e2767cff2 Pin the reflection data sections on Linux<br>&gt; 1d0ee20213c888a37bb3e0b3eb170f16498e2769 Add tests for decoding type references<br>&gt; a758e3d7338b6a6cb995e464a1e1d54ed0014065 Add associated type name typeref<br>&gt; <br>&gt; Slava<br>&gt; <br>&gt;&gt; On Feb 7, 2016, at 6:03 AM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; I.e. make sure to update your llvm/clang now.<br>&gt;&gt; <br>&gt;&gt; Michael<br>&gt;&gt; <br>&gt;&gt;&gt; On Feb 7, 2016, at 5:58 AM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Its landed. I am going to baby sit the bots for a little bit.<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Michael<br>&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; On Feb 6, 2016, at 7:05 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; An update:<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; We ran into delays since commits committed since I last did the incremental merge last Wednesday conflicted with the stable merge, but those are fixed now. I am now performing the last test run on the CI.. It is going to take a little bit. Then I am going to land this.<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; Please be careful with what you commit.<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; Thank you for your patience,<br>&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; On Feb 6, 2016, at 1:48 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; I am preparing the final swift stable merge today. I will email when it lands.<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; In the mean time please do not cherry-pick anything into the stable llvm/clang repositories. Swift only changes are generally ok.<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; On Feb 4, 2016, at 12:34 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; This is just a reminder that the stable merge is going to be happening this weekend on Saturday, Feb 6. This date was chosen in order to reduce the churn going on in tree while the merge is occurring.<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; I will send out an email on Saturday before I begin the merge.<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; On Feb 2, 2016, at 12:23 PM, Michael Gottesman &lt;mgottesman at apple.com &lt;mailto:mgottesman at apple.com&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; Due to the speed at which LLVM/Clang and Swift move, we do not build Swift against ToT LLVM. We tried this in the past and it resulted in us spending a lot of time dealing with upstream churn and not working on swift. To work around this problem, we now build against stable snapshots of LLVM/Clang that are updated as soon as possible given a minimum break of 2-3 weeks in between such updates (1).<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; Later this week, I will be performing such an update to the stable snapshots of LLVM/Clang. This will involve changes to Swift and LLDB to work with the new LLVM/Clang. I will send out an email the day I perform it as well as right before I perform the operation.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; I have verified that these changes work on the current x86_64 OS X/ubuntu builds via the CI system. For those supporting other platforms if one wishes to test against the stable merge before it lands please check out the following branches:<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; 1. swift-llvm:stable-next<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; 2. swift-clang: stable-next<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; 3. swift:master-next<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; 4. swift-lldb:master-next<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; Then perform the normal work flow for testing your build.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thanks,<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; (1) The reason for mentioning a minimum and not a maximum time is that sometimes it takes longer to perform a merge due to disruptive upstream changes. The minimum cadence is meant to provide some stability even if the upstream changes are not disruptive.<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;&gt; <br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-dev mailing list<br>&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160207/5a5c1327/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/569ed436467cf145f3bbdd0d53fbe115?s=50"></div><header><strong>Stable Merge later this week</strong> from <string>Slava Pestov</string> &lt;spestov at apple.com&gt;<p>February  7, 2016 at 07:00:00pm</p></header><div class="content"><p>Hi Michael,<br></p><p>In case it helps, I created a branch with all missing commits cherry-picked, with the merges ‘flattened’:<br></p><p>https://github.com/slavapestov/swift/commits/add-missing-commits &lt;https://github.com/slavapestov/swift/commits/add-missing-commits&gt;<br></p><p>Slava<br></p><p>&gt; On Feb 7, 2016, at 6:53 PM, Slava Pestov &lt;spestov at apple.com&gt; wrote:<br>&gt; <br>&gt; I tried to cherry-pick the missing changes over but I don’t know how to cherry-pick a merge. Going back to the old origin/master for now.<br>&gt; <br>&gt; I suggest we don’t push any code until this is resolved. It is the weekend, after all :-)<br>&gt; <br>&gt; Slava<br>&gt; <br>&gt;&gt; On Feb 7, 2016, at 6:36 PM, Slava Pestov via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Hi Michael,<br>&gt;&gt; <br>&gt;&gt; A bunch of commits were reverted by the merge commit you created, do you mind creating a new merge that has these included perhaps?<br>&gt;&gt; <br>&gt;&gt; ee7f011842d8a9bd938106e9093509acca64b9cf [Omit needless words] Don&#39;t split setters, &quot;action-like&quot; methods.<br>&gt;&gt; 9d805512401d48216809337c33c18a979850158b [Serialization] Encapsulate group name collectors to strategies. NFC<br>&gt;&gt; fec4bd2ad1386d2339b32dbcaf2511cc62d6c868 Address Jordan&#39;s code review comments. NFC<br>&gt;&gt; b11f7dbade6c6a9ece5bc113f89ff20fa9775f40 Merge pull request #1224 from practicalswift/swiftc-28250-swift-typechecker-typecheckdecl<br>&gt;&gt; 96b542eed408f1ad5455a99cced7d5f40852f96b SILGen: Clean up witness thunk re-abstraction<br>&gt;&gt; ef37153f49dce5d795ff1b8f4cade00fefd1e906 Merge pull request #1222 from practicalswift/mark-crashes-as-duplicates<br>&gt;&gt; 473e9bc8ffb132f454551dbd121377c44b551d71 Adopt llvm::TrailingObjects for TypeRefs<br>&gt;&gt; 6779a99b5531b92a8f64d09bab44d2a0f1e29491 [swiftc] Add test case for crash triggered in swift::TypeChecker::typeCheckDecl(swift::Decl*, bool)<br>&gt;&gt; f1ad829890495659ca69f30913e9372e2767cff2 Pin the reflection data sections on Linux<br>&gt;&gt; 1d0ee20213c888a37bb3e0b3eb170f16498e2769 Add tests for decoding type references<br>&gt;&gt; a758e3d7338b6a6cb995e464a1e1d54ed0014065 Add associated type name typeref<br>&gt;&gt; <br>&gt;&gt; Slava<br>&gt;&gt; <br>&gt;&gt;&gt; On Feb 7, 2016, at 6:03 AM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; I.e. make sure to update your llvm/clang now.<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Michael<br>&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; On Feb 7, 2016, at 5:58 AM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; Its landed. I am going to baby sit the bots for a little bit.<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; On Feb 6, 2016, at 7:05 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; An update:<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; We ran into delays since commits committed since I last did the incremental merge last Wednesday conflicted with the stable merge, but those are fixed now. I am now performing the last test run on the CI.. It is going to take a little bit. Then I am going to land this.<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; Please be careful with what you commit.<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; Thank you for your patience,<br>&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; On Feb 6, 2016, at 1:48 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; I am preparing the final swift stable merge today. I will email when it lands.<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; In the mean time please do not cherry-pick anything into the stable llvm/clang repositories. Swift only changes are generally ok.<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; On Feb 4, 2016, at 12:34 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; This is just a reminder that the stable merge is going to be happening this weekend on Saturday, Feb 6. This date was chosen in order to reduce the churn going on in tree while the merge is occurring.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; I will send out an email on Saturday before I begin the merge.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; On Feb 2, 2016, at 12:23 PM, Michael Gottesman &lt;mgottesman at apple.com &lt;mailto:mgottesman at apple.com&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Due to the speed at which LLVM/Clang and Swift move, we do not build Swift against ToT LLVM. We tried this in the past and it resulted in us spending a lot of time dealing with upstream churn and not working on swift. To work around this problem, we now build against stable snapshots of LLVM/Clang that are updated as soon as possible given a minimum break of 2-3 weeks in between such updates (1).<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Later this week, I will be performing such an update to the stable snapshots of LLVM/Clang. This will involve changes to Swift and LLDB to work with the new LLVM/Clang. I will send out an email the day I perform it as well as right before I perform the operation.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; I have verified that these changes work on the current x86_64 OS X/ubuntu builds via the CI system. For those supporting other platforms if one wishes to test against the stable merge before it lands please check out the following branches:<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 1. swift-llvm:stable-next<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 2. swift-clang: stable-next<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 3. swift:master-next<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 4. swift-lldb:master-next<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Then perform the normal work flow for testing your build.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thanks,<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; (1) The reason for mentioning a minimum and not a maximum time is that sometimes it takes longer to perform a merge due to disruptive upstream changes. The minimum cadence is meant to provide some stability even if the upstream changes are not disruptive.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt; <br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-dev mailing list<br>&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt; <br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160207/84311d05/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/17d2af4afb70023e28e655d17471a018?s=50"></div><header><strong>Stable Merge later this week</strong> from <string>Michael Gottesman</string> &lt;mgottesman at apple.com&gt;<p>February  7, 2016 at 09:00:00pm</p></header><div class="content"><p>I would just re-commit the changes. I think there was a timing issue the afternoon I was preparing.<br></p><p>Michael<br></p><p>&gt; On Feb 7, 2016, at 7:05 PM, Slava Pestov &lt;spestov at apple.com&gt; wrote:<br>&gt; <br>&gt; Hi Michael,<br>&gt; <br>&gt; In case it helps, I created a branch with all missing commits cherry-picked, with the merges ‘flattened’:<br>&gt; <br>&gt; https://github.com/slavapestov/swift/commits/add-missing-commits &lt;https://github.com/slavapestov/swift/commits/add-missing-commits&gt;<br>&gt; <br>&gt; Slava<br>&gt; <br>&gt;&gt; On Feb 7, 2016, at 6:53 PM, Slava Pestov &lt;spestov at apple.com &lt;mailto:spestov at apple.com&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; I tried to cherry-pick the missing changes over but I don’t know how to cherry-pick a merge. Going back to the old origin/master for now.<br>&gt;&gt; <br>&gt;&gt; I suggest we don’t push any code until this is resolved. It is the weekend, after all :-)<br>&gt;&gt; <br>&gt;&gt; Slava<br>&gt;&gt; <br>&gt;&gt;&gt; On Feb 7, 2016, at 6:36 PM, Slava Pestov via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Hi Michael,<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; A bunch of commits were reverted by the merge commit you created, do you mind creating a new merge that has these included perhaps?<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; ee7f011842d8a9bd938106e9093509acca64b9cf [Omit needless words] Don&#39;t split setters, &quot;action-like&quot; methods.<br>&gt;&gt;&gt; 9d805512401d48216809337c33c18a979850158b [Serialization] Encapsulate group name collectors to strategies. NFC<br>&gt;&gt;&gt; fec4bd2ad1386d2339b32dbcaf2511cc62d6c868 Address Jordan&#39;s code review comments. NFC<br>&gt;&gt;&gt; b11f7dbade6c6a9ece5bc113f89ff20fa9775f40 Merge pull request #1224 from practicalswift/swiftc-28250-swift-typechecker-typecheckdecl<br>&gt;&gt;&gt; 96b542eed408f1ad5455a99cced7d5f40852f96b SILGen: Clean up witness thunk re-abstraction<br>&gt;&gt;&gt; ef37153f49dce5d795ff1b8f4cade00fefd1e906 Merge pull request #1222 from practicalswift/mark-crashes-as-duplicates<br>&gt;&gt;&gt; 473e9bc8ffb132f454551dbd121377c44b551d71 Adopt llvm::TrailingObjects for TypeRefs<br>&gt;&gt;&gt; 6779a99b5531b92a8f64d09bab44d2a0f1e29491 [swiftc] Add test case for crash triggered in swift::TypeChecker::typeCheckDecl(swift::Decl*, bool)<br>&gt;&gt;&gt; f1ad829890495659ca69f30913e9372e2767cff2 Pin the reflection data sections on Linux<br>&gt;&gt;&gt; 1d0ee20213c888a37bb3e0b3eb170f16498e2769 Add tests for decoding type references<br>&gt;&gt;&gt; a758e3d7338b6a6cb995e464a1e1d54ed0014065 Add associated type name typeref<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Slava<br>&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; On Feb 7, 2016, at 6:03 AM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; I.e. make sure to update your llvm/clang now.<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; On Feb 7, 2016, at 5:58 AM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; Its landed. I am going to baby sit the bots for a little bit.<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; On Feb 6, 2016, at 7:05 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; An update:<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; We ran into delays since commits committed since I last did the incremental merge last Wednesday conflicted with the stable merge, but those are fixed now. I am now performing the last test run on the CI.. It is going to take a little bit. Then I am going to land this.<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; Please be careful with what you commit.<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; Thank you for your patience,<br>&gt;&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; On Feb 6, 2016, at 1:48 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; I am preparing the final swift stable merge today. I will email when it lands.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; In the mean time please do not cherry-pick anything into the stable llvm/clang repositories. Swift only changes are generally ok.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; On Feb 4, 2016, at 12:34 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; This is just a reminder that the stable merge is going to be happening this weekend on Saturday, Feb 6. This date was chosen in order to reduce the churn going on in tree while the merge is occurring.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; I will send out an email on Saturday before I begin the merge.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; On Feb 2, 2016, at 12:23 PM, Michael Gottesman &lt;mgottesman at apple.com &lt;mailto:mgottesman at apple.com&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Due to the speed at which LLVM/Clang and Swift move, we do not build Swift against ToT LLVM. We tried this in the past and it resulted in us spending a lot of time dealing with upstream churn and not working on swift. To work around this problem, we now build against stable snapshots of LLVM/Clang that are updated as soon as possible given a minimum break of 2-3 weeks in between such updates (1).<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Later this week, I will be performing such an update to the stable snapshots of LLVM/Clang. This will involve changes to Swift and LLDB to work with the new LLVM/Clang. I will send out an email the day I perform it as well as right before I perform the operation.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; I have verified that these changes work on the current x86_64 OS X/ubuntu builds via the CI system. For those supporting other platforms if one wishes to test against the stable merge before it lands please check out the following branches:<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 1. swift-llvm:stable-next<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 2. swift-clang: stable-next<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 3. swift:master-next<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 4. swift-lldb:master-next<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Then perform the normal work flow for testing your build.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thanks,<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; (1) The reason for mentioning a minimum and not a maximum time is that sometimes it takes longer to perform a merge due to disruptive upstream changes. The minimum cadence is meant to provide some stability even if the upstream changes are not disruptive.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt; <br>&gt; <br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160207/435fd77d/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/569ed436467cf145f3bbdd0d53fbe115?s=50"></div><header><strong>Stable Merge later this week</strong> from <string>Slava Pestov</string> &lt;spestov at apple.com&gt;<p>February  7, 2016 at 09:00:00pm</p></header><div class="content"><p>Ok, I re-committed the changes.<br></p><p>Thanks,<br></p><p>Slava<br></p><p>&gt; On Feb 7, 2016, at 9:37 PM, Michael Gottesman &lt;mgottesman at apple.com&gt; wrote:<br>&gt; <br>&gt; I would just re-commit the changes. I think there was a timing issue the afternoon I was preparing.<br>&gt; <br>&gt; Michael<br>&gt; <br>&gt;&gt; On Feb 7, 2016, at 7:05 PM, Slava Pestov &lt;spestov at apple.com &lt;mailto:spestov at apple.com&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Hi Michael,<br>&gt;&gt; <br>&gt;&gt; In case it helps, I created a branch with all missing commits cherry-picked, with the merges ‘flattened’:<br>&gt;&gt; <br>&gt;&gt; https://github.com/slavapestov/swift/commits/add-missing-commits &lt;https://github.com/slavapestov/swift/commits/add-missing-commits&gt;<br>&gt;&gt; <br>&gt;&gt; Slava<br>&gt;&gt; <br>&gt;&gt;&gt; On Feb 7, 2016, at 6:53 PM, Slava Pestov &lt;spestov at apple.com &lt;mailto:spestov at apple.com&gt;&gt; wrote:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; I tried to cherry-pick the missing changes over but I don’t know how to cherry-pick a merge. Going back to the old origin/master for now.<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; I suggest we don’t push any code until this is resolved. It is the weekend, after all :-)<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Slava<br>&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; On Feb 7, 2016, at 6:36 PM, Slava Pestov via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; Hi Michael,<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; A bunch of commits were reverted by the merge commit you created, do you mind creating a new merge that has these included perhaps?<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; ee7f011842d8a9bd938106e9093509acca64b9cf [Omit needless words] Don&#39;t split setters, &quot;action-like&quot; methods.<br>&gt;&gt;&gt;&gt; 9d805512401d48216809337c33c18a979850158b [Serialization] Encapsulate group name collectors to strategies. NFC<br>&gt;&gt;&gt;&gt; fec4bd2ad1386d2339b32dbcaf2511cc62d6c868 Address Jordan&#39;s code review comments. NFC<br>&gt;&gt;&gt;&gt; b11f7dbade6c6a9ece5bc113f89ff20fa9775f40 Merge pull request #1224 from practicalswift/swiftc-28250-swift-typechecker-typecheckdecl<br>&gt;&gt;&gt;&gt; 96b542eed408f1ad5455a99cced7d5f40852f96b SILGen: Clean up witness thunk re-abstraction<br>&gt;&gt;&gt;&gt; ef37153f49dce5d795ff1b8f4cade00fefd1e906 Merge pull request #1222 from practicalswift/mark-crashes-as-duplicates<br>&gt;&gt;&gt;&gt; 473e9bc8ffb132f454551dbd121377c44b551d71 Adopt llvm::TrailingObjects for TypeRefs<br>&gt;&gt;&gt;&gt; 6779a99b5531b92a8f64d09bab44d2a0f1e29491 [swiftc] Add test case for crash triggered in swift::TypeChecker::typeCheckDecl(swift::Decl*, bool)<br>&gt;&gt;&gt;&gt; f1ad829890495659ca69f30913e9372e2767cff2 Pin the reflection data sections on Linux<br>&gt;&gt;&gt;&gt; 1d0ee20213c888a37bb3e0b3eb170f16498e2769 Add tests for decoding type references<br>&gt;&gt;&gt;&gt; a758e3d7338b6a6cb995e464a1e1d54ed0014065 Add associated type name typeref<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; Slava<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; On Feb 7, 2016, at 6:03 AM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; I.e. make sure to update your llvm/clang now.<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; On Feb 7, 2016, at 5:58 AM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; Its landed. I am going to baby sit the bots for a little bit.<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; On Feb 6, 2016, at 7:05 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; An update:<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; We ran into delays since commits committed since I last did the incremental merge last Wednesday conflicted with the stable merge, but those are fixed now. I am now performing the last test run on the CI.. It is going to take a little bit. Then I am going to land this.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; Please be careful with what you commit.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thank you for your patience,<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; On Feb 6, 2016, at 1:48 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; I am preparing the final swift stable merge today. I will email when it lands.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; In the mean time please do not cherry-pick anything into the stable llvm/clang repositories. Swift only changes are generally ok.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; On Feb 4, 2016, at 12:34 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; This is just a reminder that the stable merge is going to be happening this weekend on Saturday, Feb 6. This date was chosen in order to reduce the churn going on in tree while the merge is occurring.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; I will send out an email on Saturday before I begin the merge.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; On Feb 2, 2016, at 12:23 PM, Michael Gottesman &lt;mgottesman at apple.com &lt;mailto:mgottesman at apple.com&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Due to the speed at which LLVM/Clang and Swift move, we do not build Swift against ToT LLVM. We tried this in the past and it resulted in us spending a lot of time dealing with upstream churn and not working on swift. To work around this problem, we now build against stable snapshots of LLVM/Clang that are updated as soon as possible given a minimum break of 2-3 weeks in between such updates (1).<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Later this week, I will be performing such an update to the stable snapshots of LLVM/Clang. This will involve changes to Swift and LLDB to work with the new LLVM/Clang. I will send out an email the day I perform it as well as right before I perform the operation.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; I have verified that these changes work on the current x86_64 OS X/ubuntu builds via the CI system. For those supporting other platforms if one wishes to test against the stable merge before it lands please check out the following branches:<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 1. swift-llvm:stable-next<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 2. swift-clang: stable-next<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 3. swift:master-next<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 4. swift-lldb:master-next<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Then perform the normal work flow for testing your build.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thanks,<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Michael<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; (1) The reason for mentioning a minimum and not a maximum time is that sometimes it takes longer to perform a merge due to disruptive upstream changes. The minimum cadence is meant to provide some stability even if the upstream changes are not disruptive.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt;&gt;&gt; <br>&gt;&gt; <br>&gt; <br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160207/8a8f7a1d/attachment.html&gt;<br></p></div></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js?vsn=d"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
