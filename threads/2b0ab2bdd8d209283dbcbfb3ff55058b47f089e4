<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css?vsn=d">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg?vsn=d" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/cbd74eeff0ad1dfbcd0095012f174f2d?s=50"></div><header><strong>Running benchmarks?</strong> from <string>Lars Kotthoff</string> &lt;larsko at cs.ubc.ca&gt;<p>March  3, 2016 at 02:00:00pm</p></header><div class="content"><p>Hi list,<br></p><p> I&#39;m trying to run the benchmarks included in the swift repository and I can&#39;t<br>get it to work. I&#39;m following the instructions at https://github.com/apple/swift/tree/master/benchmark<br></p><p>build-script doesn&#39;t seem to have a --benchmark flag (unless it&#39;s different from<br>the one used to build swift?). When I try to build them manually and run cmake<br>as described, I&#39;m getting<br>CMake Error at cmake/modules/AddSwiftBenchmarkSuite.cmake:18 (message):<br>  Unable to find Swift driver<br>Call Stack (most recent call first):<br>  CMakeLists.txt:118 (runcmd)<br></p><p>After setting SWIFT_EXEC (and CLANG_EXEC, which it doesn&#39;t find automatically<br>either -- this requires changing CMakeLists.txt):<br>cmake -DSWIFT_EXEC=../../../build/Ninja-DebugAssert/swift-linux-x86_64/bin/swiftc -DCLANG_EXEC=../../../build/Ninja-DebugAssert/llvm-linux-x86_64/bin/clang<br></p><p>I&#39;m getting:<br></p><p>CMake Error at CMakeLists.txt:137 (set):<br>  Syntax error in cmake code at<br></p><p>    /mnt/swift/swift/benchmark/CMakeLists.txt:138<br></p><p>  when parsing string<br></p><p>    A semicolon separated list of benchmark configurations. \<br></p><p>  Available configurations: &lt;Optlevel&gt;_SINGLEFILE, &lt;Optlevel&gt;_MULTITHREADED<br></p><p>  syntax error, unexpected cal_SYMBOL, expecting $end (131)<br></p><p>At this point I don&#39;t know what else to try.<br></p><p>How do I compile and run the benchmarks?<br></p><p>Cheers,<br></p><p>Lars<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/17d2af4afb70023e28e655d17471a018?s=50"></div><header><strong>Running benchmarks?</strong> from <string>Michael Gottesman</string> &lt;mgottesman at apple.com&gt;<p>March  4, 2016 at 10:00:00pm</p></header><div class="content"><p>&gt; On Mar 3, 2016, at 2:32 PM, Lars Kotthoff via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; Hi list,<br>&gt; <br>&gt; I&#39;m trying to run the benchmarks included in the swift repository and I can&#39;t<br>&gt; get it to work. I&#39;m following the instructions at https://github.com/apple/swift/tree/master/benchmark<br>&gt; <br>&gt; build-script doesn&#39;t seem to have a --benchmark flag (unless it&#39;s different from<br>&gt; the one used to build swift?).<br></p><p>build-script should build the benchmarks by default without needing to pass in any --benchmark flag (see the Readme).<br></p><p>&gt; When I try to build them manually and run cmake<br>&gt; as described, I&#39;m getting<br>&gt; CMake Error at cmake/modules/AddSwiftBenchmarkSuite.cmake:18 (message):<br>&gt;  Unable to find Swift driver<br>&gt; Call Stack (most recent call first):<br>&gt;  CMakeLists.txt:118 (runcmd)<br>&gt; <br>&gt; After setting SWIFT_EXEC (and CLANG_EXEC, which it doesn&#39;t find automatically<br>&gt; either -- this requires changing CMakeLists.txt):<br></p><p>This is an inadequacy in the cmake benchmark script.<br></p><p>&gt; cmake -DSWIFT_EXEC=../../../build/Ninja-DebugAssert/swift-linux-x86_64/bin/swiftc -DCLANG_EXEC=../../../build/Ninja-DebugAssert/llvm-linux-x86_64/bin/clang<br></p><p>I imagine this is related to the benchmarks not being supported currently on linux. Patches/bug reports for both of these are welcome.<br></p><p>&gt; <br>&gt; I&#39;m getting:<br>&gt; <br>&gt; CMake Error at CMakeLists.txt:137 (set):<br>&gt;  Syntax error in cmake code at<br>&gt; <br>&gt;    /mnt/swift/swift/benchmark/CMakeLists.txt:138<br>&gt; <br>&gt;  when parsing string<br>&gt; <br>&gt;    A semicolon separated list of benchmark configurations. \<br>&gt; <br>&gt;  Available configurations: &lt;Optlevel&gt;_SINGLEFILE, &lt;Optlevel&gt;_MULTITHREADED<br>&gt; <br>&gt;  syntax error, unexpected cal_SYMBOL, expecting $end (131)<br>&gt; <br>&gt; At this point I don&#39;t know what else to try.<br>&gt; <br>&gt; How do I compile and run the benchmarks?<br>&gt; <br>&gt; Cheers,<br>&gt; <br>&gt; Lars<br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/cbd74eeff0ad1dfbcd0095012f174f2d?s=50"></div><header><strong>Running benchmarks?</strong> from <string>Lars Kotthoff</string> &lt;larsko at cs.ubc.ca&gt;<p>March  5, 2016 at 12:00:00pm</p></header><div class="content"><p>Thanks for your reply.<br></p><p>&gt; build-script should build the benchmarks by default without needing to pass<br>&gt; in any --benchmark flag (see the Readme).<br></p><p>The readme says: &quot;To run Swift benchmarks, pass the --benchmark flag to<br>build-script.&quot; This is what I&#39;m trying to do and what doesn&#39;t work.<br></p><p>&gt; I imagine this is related to the benchmarks not being supported currently on<br>&gt; linux.<br></p><p>What systems are supported? Only Mac OS X?<br></p><p>Cheers,<br></p><p>Lars<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/17d2af4afb70023e28e655d17471a018?s=50"></div><header><strong>Running benchmarks?</strong> from <string>Michael Gottesman</string> &lt;mgottesman at apple.com&gt;<p>March  7, 2016 at 10:00:00am</p></header><div class="content"><p>&gt; On Mar 5, 2016, at 12:06 PM, Lars Kotthoff &lt;larsko at cs.ubc.ca&gt; wrote:<br>&gt; <br>&gt; Thanks for your reply.<br>&gt; <br>&gt;&gt; build-script should build the benchmarks by default without needing to pass<br>&gt;&gt; in any --benchmark flag (see the Readme).<br>&gt; <br>&gt; The readme says: &quot;To run Swift benchmarks, pass the --benchmark flag to<br>&gt; build-script.&quot; This is what I&#39;m trying to do and what doesn&#39;t work.<br></p><p>Ok. We miscommunicated. To build you don&#39;t need any flags, but it seems you are correct that to run it you are supposed to pass in the &quot;--benchmark&quot; flag. So we were both correct ; ).<br></p><p>&gt; <br>&gt;&gt; I imagine this is related to the benchmarks not being supported currently on<br>&gt;&gt; linux.<br>&gt; <br>&gt; What systems are supported? Only Mac OS X?<br></p><p>Currently. But that solely because no one has spent the time to bring it up on Linux.<br></p><p>A patch adding such support would be most welcome = ).<br></p><p>Michael<br></p><p>&gt; <br>&gt; Cheers,<br>&gt; <br>&gt; Lars<br></p></div></li></ul></li></ul></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js?vsn=d"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
