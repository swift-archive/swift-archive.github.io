<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css?vsn=d">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg?vsn=d" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/f921fa5d507b31ef6984fd3d77ae710c?s=50"></div><header><strong>libdispatch on Linux, or C++ std::async?</strong> from <string>Brian Gesiak</string> &lt;modocache at gmail.com&gt;<p>May 30, 2016 at 12:00:00am</p></header><div class="content"><p>Hello all!<br></p><p>I&#39;m working on https://bugs.swift.org/browse/SR-710, which involves porting<br>SourceKit to Linux. SourceKit contains a handful of references to<br>libdispatch symbols.<br></p><p>I have two questions:<br></p><p>1. Could someone share a set of instructions to build<br>swift-corelibs-libdispatch on Linux? I&#39;m using Ubuntu 15.10 and have<br>installed [the dependencies listed here](<br>https://lists.swift.org/pipermail/swift-corelibs-dev/Week-of-Mon-20151207/000122.html).<br>I have tried using both `swift/utils/build-script --libdispatch` as well as<br>the instructions in the swift-corelibs-libdispatch `INSTALL` file. Both<br>fail with the [same errors](<br>https://gist.github.com/modocache/8389d5d64e39ca5a4281500f84e9ce11). Any<br>tips?<br></p><p>2. I don&#39;t know much about C++, but from what I understand the C++ stdlib<br>provides tools for asynchronous programming. I list SourceKit&#39;s uses of<br>libdispatch in a comment on https://bugs.swift.org/browse/SR-1639. For<br>those familiar with both C++ and libdispatch: do you think it&#39;s a good idea<br>to migrate to C++, at least for now?<br></p><p>Any advice would be appreciated. Thanks!!<br></p><p>- Brian Gesiak<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-corelibs-dev/attachments/20160530/631fb366/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/79d9ba388d6b6cf4ec7310cad9fa8c8a?s=50"></div><header><strong>libdispatch on Linux, or C++ std::async?</strong> from <string>Rob Allen</string> &lt;rob at akrabat.com&gt;<p>May 30, 2016 at 08:00:00am</p></header><div class="content"><p>Hi,<br></p><p>For what it&#39;s worth, I can&#39;t get the master branch to build either, but I can get the experimental/foundation branch to build.<br></p><p>Regards,<br></p><p>Rob....<br></p><p><br>&gt; On 30 May 2016, at 05:28, Brian Gesiak via swift-corelibs-dev &lt;swift-corelibs-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; Hello all!<br>&gt; <br>&gt; I&#39;m working on https://bugs.swift.org/browse/SR-710 &lt;https://bugs.swift.org/browse/SR-710&gt;, which involves porting SourceKit to Linux. SourceKit contains a handful of references to libdispatch symbols.<br>&gt; <br>&gt; I have two questions:<br>&gt; <br>&gt; 1. Could someone share a set of instructions to build swift-corelibs-libdispatch on Linux? I&#39;m using Ubuntu 15.10 and have installed [the dependencies listed here](https://lists.swift.org/pipermail/swift-corelibs-dev/Week-of-Mon-20151207/000122.html &lt;https://lists.swift.org/pipermail/swift-corelibs-dev/Week-of-Mon-20151207/000122.html&gt;). I have tried using both `swift/utils/build-script --libdispatch` as well as the instructions in the swift-corelibs-libdispatch `INSTALL` file. Both fail with the [same errors](https://gist.github.com/modocache/8389d5d64e39ca5a4281500f84e9ce11 &lt;https://gist.github.com/modocache/8389d5d64e39ca5a4281500f84e9ce11&gt;). Any tips?<br>&gt; <br>&gt; 2. I don&#39;t know much about C++, but from what I understand the C++ stdlib provides tools for asynchronous programming. I list SourceKit&#39;s uses of libdispatch in a comment on https://bugs.swift.org/browse/SR-1639 &lt;https://bugs.swift.org/browse/SR-1639&gt;. For those familiar with both C++ and libdispatch: do you think it&#39;s a good idea to migrate to C++, at least for now?<br>&gt; <br>&gt; Any advice would be appreciated. Thanks!!<br>&gt; <br>&gt; - Brian Gesiak<br>&gt; <br></p><p>-- <br>Development thoughts at http://akrabat.com<br>Daily Jotter for Mac OS X at http://dailyjotter.com<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-corelibs-dev/attachments/20160530/9b85b671/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8d00f5acbaa7d24e0900e5045462e008?s=50"></div><header><strong>libdispatch on Linux, or C++ std::async?</strong> from <string>Chris Bailey</string> &lt;BAILEYC at uk.ibm.com&gt;<p>May 30, 2016 at 03:00:00pm</p></header><div class="content"><p>I&#39;d certainly recommend picking up the experimental/foundation branch as <br>Rob recommends. Its where we&#39;ve been doing some additional work to get <br>properly built into the Swift toolchain and to open up some internal APIs <br>needed by Foundation.<br></p><p>Whilst I&#39;ve been building Dispatch either independently or as part of a <br>full toolchain using the buildbot_linux preset (with dispatch and <br>install-dispatch added), I&#39;ve just checked your build line and its working <br>fine for me. It might be worth cleaning out any partial build you might <br>have of libdispatch in your build directory, and running &#39;make distclean&#39; <br>from your libdispatch source directory.<br></p><p>FYI, we&#39;ve got some further changes to the experimental/foundation branch <br>of libdispatch with should land in the next couple of days. This fixes <br>some issues with the Swift overlay, and resolves a crash that we&#39;ve found <br>in the underlying libkqueue implementation.<br></p><p>Chris<br></p><p><br></p><p><br>From:   Rob Allen via swift-corelibs-dev &lt;swift-corelibs-dev at swift.org&gt;<br>To:     Brian Gesiak &lt;modocache at gmail.com&gt;<br>Cc:     Swift Core Libs &lt;swift-corelibs-dev at swift.org&gt;<br>Date:   30/05/2016 08:08<br>Subject:        Re: [swift-corelibs-dev] libdispatch on Linux, or C++ <br>std::async?<br>Sent by:        swift-corelibs-dev-bounces at swift.org<br></p><p><br></p><p>Hi,<br></p><p>For what it&#39;s worth, I can&#39;t get the master branch to build either, but I <br>can get the experimental/foundation branch to build.<br></p><p>Regards,<br></p><p>Rob....<br></p><p><br>On 30 May 2016, at 05:28, Brian Gesiak via swift-corelibs-dev &lt;<br>swift-corelibs-dev at swift.org&gt; wrote:<br></p><p>Hello all!<br></p><p>I&#39;m working on https://bugs.swift.org/browse/SR-710, which involves <br>porting SourceKit to Linux. SourceKit contains a handful of references to <br>libdispatch symbols.<br></p><p>I have two questions:<br></p><p>1. Could someone share a set of instructions to build <br>swift-corelibs-libdispatch on Linux? I&#39;m using Ubuntu 15.10 and have <br>installed [the dependencies listed here](<br>https://lists.swift.org/pipermail/swift-corelibs-dev/Week-of-Mon-20151207/000122.html<br>). I have tried using both `swift/utils/build-script --libdispatch` as <br>well as the instructions in the swift-corelibs-libdispatch `INSTALL` file. <br>Both fail with the [same errors](<br>https://gist.github.com/modocache/8389d5d64e39ca5a4281500f84e9ce11). Any <br>tips?<br></p><p>2. I don&#39;t know much about C++, but from what I understand the C++ stdlib <br>provides tools for asynchronous programming. I list SourceKit&#39;s uses of <br>libdispatch in a comment on https://bugs.swift.org/browse/SR-1639. For <br>those familiar with both C++ and libdispatch: do you think it&#39;s a good <br>idea to migrate to C++, at least for now?<br></p><p>Any advice would be appreciated. Thanks!!<br></p><p>- Brian Gesiak<br></p><p><br>-- <br>Development thoughts at http://akrabat.com<br>Daily Jotter for Mac OS X at http://dailyjotter.com<br>_______________________________________________<br>swift-corelibs-dev mailing list<br>swift-corelibs-dev at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-corelibs-dev<br></p><p><br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-corelibs-dev/attachments/20160530/7f3d6b8e/attachment.html&gt;<br></p></div></li></ul></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js?vsn=d"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
