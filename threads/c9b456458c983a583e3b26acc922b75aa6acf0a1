<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css?vsn=d">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg?vsn=d" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/5e59262a999aed6bac9adffcb471759b?s=50"></div><header><strong>Swift is building from source, failing tests.</strong> from <string>Dylan Brown</string> &lt;djwbrown at gmail.com&gt;<p>December 11, 2015 at 09:00:00pm</p></header><div class="content"><p>Hello! When running `utils/build-script --clean -t`, I&#39;m able to complete<br>the build but it regularly fails the same 4/6 tests. Also, check-swift and<br>check-swift-validation are not found in the build directory alongside<br>Ninja-DebugAssert.<br>I&#39;ve been working at this for a while, and I&#39;m not sure where to look next.<br>Any ideas what could be going wrong?<br></p><p>Thanks!<br>Dylan<br></p><p>  Python 2.7.10<br>Installed with homebrew:<br>  ninja version 1.6.0<br>  cmake version 3.4.0<br></p><p>********** Output of `utils/build-script --clean -t` **********<br>build succeeded.<br>[646/646] Generating ../../../lib/swift/macosx/libswiftStdlibUnittest.dylib<br>--- Building tests for cmark ---<br>+ /usr/local/bin/cmake --build<br>/Users/dylan/Developer/Swift/build/Ninja-DebugAssert/cmark-macosx-x86_64 --<br>api_test<br>ninja: no work to do.<br>--- Running tests for cmark ---<br>--- test ---<br>+ cd<br>/Users/dylan/Developer/Swift/build/Ninja-DebugAssert/cmark-macosx-x86_64<br>+ /usr/local/Cellar/cmake/3.4.0/bin/ctest --force-new-ctest-process<br>Test project<br>/Users/dylan/Developer/Swift/build/Ninja-DebugAssert/cmark-macosx-x86_64<br>    Start 1: api_test<br>1/6 Test #1: api_test .........................   Passed    0.01 sec<br>    Start 2: html_normalization<br>2/6 Test #2: html_normalization ...............***Failed    0.09 sec<br>    Start 3: spectest_library<br>3/6 Test #3: spectest_library .................***Failed    0.06 sec<br>    Start 4: pathological_tests_library<br>4/6 Test #4: pathological_tests_library .......   Passed    0.87 sec<br>    Start 5: spectest_executable<br>5/6 Test #5: spectest_executable ..............***Failed    0.06 sec<br>    Start 6: smartpuncttest_executable<br>6/6 Test #6: smartpuncttest_executable ........***Failed    0.06 sec<br></p><p>33% tests passed, 4 tests failed out of 6<br></p><p>Total Test time (real) =   1.15 sec<br></p><p>The following tests FAILED:<br>  2 - html_normalization (Failed)<br>  3 - spectest_library (Failed)<br>  5 - spectest_executable (Failed)<br>  6 - smartpuncttest_executable (Failed)<br>Errors while running CTest<br>*** Failed while running tests for cmark (test)<br>utils/build-script: command terminated with a non-zero exit status 8,<br>aborting<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/c9b4f0a1/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/dbc48a135881e122fea26cf27760d11a?s=50"></div><header><strong>Swift is building from source, failing tests.</strong> from <string>Mish Awadah</string> &lt;mawadah at apple.com&gt;<p>December 11, 2015 at 02:00:00pm</p></header><div class="content"><p>You have a problem with Cmark, not swift. I think you probably have a configuration issue, or are missing some dev library. If you search the archives of swift-users, someone else had a cmark problem too, and the solution provided might help you. <br></p><p>I would also recommend ensuring you have installed all of the relevant dev tools as listed on the readme. <br></p><p>- mish<br></p><p>&gt; On Dec 11, 2015, at 11:12 AM, Dylan Brown via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; Hello! When running `utils/build-script --clean -t`, I&#39;m able to complete the build but it regularly fails the same 4/6 tests. Also, check-swift and check-swift-validation are not found in the build directory alongside Ninja-DebugAssert.<br>&gt; I&#39;ve been working at this for a while, and I&#39;m not sure where to look next. Any ideas what could be going wrong?<br>&gt; <br>&gt; Thanks!<br>&gt; Dylan<br>&gt; <br>&gt;   Python 2.7.10<br>&gt; Installed with homebrew:<br>&gt;   ninja version 1.6.0<br>&gt;   cmake version 3.4.0<br>&gt; <br>&gt; ********** Output of `utils/build-script --clean -t` **********<br>&gt; build succeeded.<br>&gt; [646/646] Generating ../../../lib/swift/macosx/libswiftStdlibUnittest.dylib<br>&gt; --- Building tests for cmark ---<br>&gt; + /usr/local/bin/cmake --build /Users/dylan/Developer/Swift/build/Ninja-DebugAssert/cmark-macosx-x86_64 -- api_test<br>&gt; ninja: no work to do.<br>&gt; --- Running tests for cmark ---<br>&gt; --- test ---<br>&gt; + cd /Users/dylan/Developer/Swift/build/Ninja-DebugAssert/cmark-macosx-x86_64<br>&gt; + /usr/local/Cellar/cmake/3.4.0/bin/ctest --force-new-ctest-process<br>&gt; Test project /Users/dylan/Developer/Swift/build/Ninja-DebugAssert/cmark-macosx-x86_64<br>&gt;     Start 1: api_test<br>&gt; 1/6 Test #1: api_test .........................   Passed    0.01 sec<br>&gt;     Start 2: html_normalization<br>&gt; 2/6 Test #2: html_normalization ...............***Failed    0.09 sec<br>&gt;     Start 3: spectest_library<br>&gt; 3/6 Test #3: spectest_library .................***Failed    0.06 sec<br>&gt;     Start 4: pathological_tests_library<br>&gt; 4/6 Test #4: pathological_tests_library .......   Passed    0.87 sec<br>&gt;     Start 5: spectest_executable<br>&gt; 5/6 Test #5: spectest_executable ..............***Failed    0.06 sec<br>&gt;     Start 6: smartpuncttest_executable<br>&gt; 6/6 Test #6: smartpuncttest_executable ........***Failed    0.06 sec<br>&gt; <br>&gt; 33% tests passed, 4 tests failed out of 6<br>&gt; <br>&gt; Total Test time (real) =   1.15 sec<br>&gt; <br>&gt; The following tests FAILED:<br>&gt;   2 - html_normalization (Failed)<br>&gt;   3 - spectest_library (Failed)<br>&gt;   5 - spectest_executable (Failed)<br>&gt;   6 - smartpuncttest_executable (Failed)<br>&gt; Errors while running CTest<br>&gt; *** Failed while running tests for cmark (test)<br>&gt; utils/build-script: command terminated with a non-zero exit status 8, aborting<br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/a411b533/attachment.html&gt;<br></p></div></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/969b04d28c02f951ccc03f615b9a92b3?s=50"></div><header><strong>Swift is building from source, failing tests.</strong> from <string>Dmitri Gribenko</string> &lt;gribozavr at gmail.com&gt;<p>December 11, 2015 at 02:00:00pm</p></header><div class="content"><p>On Fri, Dec 11, 2015 at 11:12 AM, Dylan Brown via swift-users &lt;<br>swift-users at swift.org&gt; wrote:<br></p><p>&gt; Hello! When running `utils/build-script --clean -t`, I&#39;m able to complete<br>&gt; the build but it regularly fails the same 4/6 tests. Also, check-swift and<br>&gt; check-swift-validation are not found in the build directory alongside<br>&gt; Ninja-DebugAssert.<br>&gt; I&#39;ve been working at this for a while, and I&#39;m not sure where to look<br>&gt; next. Any ideas what could be going wrong?<br>&gt;<br>&gt; Thanks!<br>&gt; Dylan<br>&gt;<br>&gt;   Python 2.7.10<br>&gt;<br></p><p>You probably have Python 3.5 installed.  Cmark tests are incompatible with<br>that revision.<br></p><p>Dmitri<br></p><p>-- <br>main(i,j){for(i=2;;i++){for(j=2;j&lt;i;j++){if(!(i%j)){j=0;break;}}if<br>(j){printf(&quot;%d\n&quot;,i);}}} /*Dmitri Gribenko &lt;gribozavr at gmail.com&gt;*/<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/13538b95/attachment.html&gt;<br></p></div></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/b0f3d20f0d205130240660612589db5f?s=50"></div><header><strong>Swift is building from source, failing tests.</strong> from <string>Alexander Alemayhu</string> &lt;alexander at alemayhu.com&gt;<p>December 12, 2015 at 09:00:00am</p></header><div class="content"><p>&gt; On 11 Dec 2015, at 20:12, Dylan Brown via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; Hello! When running `utils/build-script --clean -t`, I&#39;m able to complete the build but it regularly fails the same 4/6 tests. Also, check-swift and check-swift-validation are not found in the build directory alongside Ninja-DebugAssert.<br>&gt; I&#39;ve been working at this for a while, and I&#39;m not sure where to look next. Any ideas what could be going wrong?<br></p><p>I was also experiencing the same issue.  Have you looked at pull request #1 for<br>swift-cmark[0]?  Pulling in the upstream cmark changes resolved the failures<br>for me.<br></p><p>[0]: https://github.com/apple/swift-cmark/pull/1<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/5e59262a999aed6bac9adffcb471759b?s=50"></div><header><strong>Swift is building from source, failing tests.</strong> from <string>Dylan Brown</string> &lt;djwbrown at gmail.com&gt;<p>December 12, 2015 at 12:00:00pm</p></header><div class="content"><p>Thanks Alexander! I do have Python 3.5 installed via Anaconda on my Mac.<br>Merging in the upstream cmark changes as in pull #1 for swift-cmark seems<br>to have solved my issue.<br>https://github.com/apple/swift-cmark/pull/1<br>https://github.com/jgm/cmark<br></p><p>All tests pass, and I get the final two lines:<br>-- check-swift-macosx-x86_64 finished --<br>--- Finished tests for swift ---<br></p><p>However, I still can&#39;t find check-swift in my build directory. Running<br>`find . -name &#39;*check-swift*&#39;` returns no results. Is there some flag<br>needed on the build-script to create these files?<br></p><p>On Sat, Dec 12, 2015 at 10:51 AM, Alexander Alemayhu &lt;alexander at alemayhu.com<br>&gt; wrote:<br></p><p>&gt;<br>&gt; &gt; On 11 Dec 2015, at 20:12, Dylan Brown via swift-users &lt;<br>&gt; swift-users at swift.org&gt; wrote:<br>&gt; &gt;<br>&gt; &gt; Hello! When running `utils/build-script --clean -t`, I&#39;m able to<br>&gt; complete the build but it regularly fails the same 4/6 tests. Also,<br>&gt; check-swift and check-swift-validation are not found in the build directory<br>&gt; alongside Ninja-DebugAssert.<br>&gt; &gt; I&#39;ve been working at this for a while, and I&#39;m not sure where to look<br>&gt; next. Any ideas what could be going wrong?<br>&gt;<br>&gt; I was also experiencing the same issue.  Have you looked at pull request<br>&gt; #1 for<br>&gt; swift-cmark[0]?  Pulling in the upstream cmark changes resolved the<br>&gt; failures<br>&gt; for me.<br>&gt;<br>&gt; [0]: https://github.com/apple/swift-cmark/pull/1<br>&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151212/a3a3a9f0/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/5e59262a999aed6bac9adffcb471759b?s=50"></div><header><strong>Swift is building from source, failing tests.</strong> from <string>Dylan Brown</string> &lt;djwbrown at gmail.com&gt;<p>December 12, 2015 at 04:00:00pm</p></header><div class="content"><p>Answering my own question: I believe the `check-swift` tools for running<br>tests independently of the utils/build-script are not yet implemented.<br>Please correct me if I&#39;m wrong, otherwise thread closed. Thanks!<br>-Dylan<br></p><p>On Sat, Dec 12, 2015 at 12:22 PM, Dylan Brown &lt;djwbrown at gmail.com&gt; wrote:<br></p><p>&gt; Thanks Alexander! I do have Python 3.5 installed via Anaconda on my Mac.<br>&gt; Merging in the upstream cmark changes as in pull #1 for swift-cmark seems<br>&gt; to have solved my issue.<br>&gt; https://github.com/apple/swift-cmark/pull/1<br>&gt; https://github.com/jgm/cmark<br>&gt;<br>&gt; All tests pass, and I get the final two lines:<br>&gt; -- check-swift-macosx-x86_64 finished --<br>&gt; --- Finished tests for swift ---<br>&gt;<br>&gt; However, I still can&#39;t find check-swift in my build directory. Running<br>&gt; `find . -name &#39;*check-swift*&#39;` returns no results. Is there some flag<br>&gt; needed on the build-script to create these files?<br>&gt;<br>&gt; On Sat, Dec 12, 2015 at 10:51 AM, Alexander Alemayhu &lt;<br>&gt; alexander at alemayhu.com&gt; wrote:<br>&gt;<br>&gt;&gt;<br>&gt;&gt; &gt; On 11 Dec 2015, at 20:12, Dylan Brown via swift-users &lt;<br>&gt;&gt; swift-users at swift.org&gt; wrote:<br>&gt;&gt; &gt;<br>&gt;&gt; &gt; Hello! When running `utils/build-script --clean -t`, I&#39;m able to<br>&gt;&gt; complete the build but it regularly fails the same 4/6 tests. Also,<br>&gt;&gt; check-swift and check-swift-validation are not found in the build directory<br>&gt;&gt; alongside Ninja-DebugAssert.<br>&gt;&gt; &gt; I&#39;ve been working at this for a while, and I&#39;m not sure where to look<br>&gt;&gt; next. Any ideas what could be going wrong?<br>&gt;&gt;<br>&gt;&gt; I was also experiencing the same issue.  Have you looked at pull request<br>&gt;&gt; #1 for<br>&gt;&gt; swift-cmark[0]?  Pulling in the upstream cmark changes resolved the<br>&gt;&gt; failures<br>&gt;&gt; for me.<br>&gt;&gt;<br>&gt;&gt; [0]: https://github.com/apple/swift-cmark/pull/1<br>&gt;&gt;<br>&gt;&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151212/1d79eb19/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/969b04d28c02f951ccc03f615b9a92b3?s=50"></div><header><strong>Swift is building from source, failing tests.</strong> from <string>Dmitri Gribenko</string> &lt;gribozavr at gmail.com&gt;<p>December 12, 2015 at 02:00:00pm</p></header><div class="content"><p>On Sat, Dec 12, 2015 at 6:57 AM, Dylan Brown via swift-users &lt;<br>swift-users at swift.org&gt; wrote:<br></p><p>&gt; Answering my own question: I believe the `check-swift` tools for running<br>&gt; tests independently of the utils/build-script are not yet implemented.<br>&gt; Please correct me if I&#39;m wrong, otherwise thread closed. Thanks!<br>&gt;<br></p><p>cd build/Ninja-ReleaseAssert/swift-linux-x86_64<br>ninja check-swift<br></p><p>Dmitri<br></p><p>-- <br>main(i,j){for(i=2;;i++){for(j=2;j&lt;i;j++){if(!(i%j)){j=0;break;}}if<br>(j){printf(&quot;%d\n&quot;,i);}}} /*Dmitri Gribenko &lt;gribozavr at gmail.com&gt;*/<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151212/befccc52/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/5e59262a999aed6bac9adffcb471759b?s=50"></div><header><strong>Swift is building from source, failing tests.</strong> from <string>Dylan Brown</string> &lt;djwbrown at gmail.com&gt;<p>December 13, 2015 at 09:00:00am</p></header><div class="content"><p>Thanks for the guidance, I hadn&#39;t used Ninja for building before.<br>-Dylan<br></p><p>On Sun, Dec 13, 2015 at 12:59 AM, Dmitri Gribenko &lt;gribozavr at gmail.com&gt;<br>wrote:<br></p><p>&gt; On Sat, Dec 12, 2015 at 6:57 AM, Dylan Brown via swift-users &lt;<br>&gt; swift-users at swift.org&gt; wrote:<br>&gt;<br>&gt;&gt; Answering my own question: I believe the `check-swift` tools for running<br>&gt;&gt; tests independently of the utils/build-script are not yet implemented.<br>&gt;&gt; Please correct me if I&#39;m wrong, otherwise thread closed. Thanks!<br>&gt;&gt;<br>&gt;<br>&gt; cd build/Ninja-ReleaseAssert/swift-linux-x86_64<br>&gt; ninja check-swift<br>&gt;<br>&gt; Dmitri<br>&gt;<br>&gt; --<br>&gt; main(i,j){for(i=2;;i++){for(j=2;j&lt;i;j++){if(!(i%j)){j=0;break;}}if<br>&gt; (j){printf(&quot;%d\n&quot;,i);}}} /*Dmitri Gribenko &lt;gribozavr at gmail.com&gt;*/<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151213/5e35c1f9/attachment.html&gt;<br></p></div></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js?vsn=d"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
