<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/c6c3c6af3a3702ecbe5bfa02e3d89aca?s=50"></div><header><strong>Android: Build error: No such module &quot;SwiftGlibc&quot;</strong> from <string>Eric Wing</string> &lt;ewmailing at gmail.com&gt;<p>September 14, 2016 at 05:00:00am</p></header><div class="content"><p>I&#39;m trying to build Swift 3 for Android. I&#39;m getting an error at<br>compiling android/armv7/Glibc.o<br>Glibc.swift:13<br>error: no such module &#39;SwiftGlibc&#39;<br>@_exported import SwiftGlibc // Clang module<br></p><p>Any ideas what to do?<br></p><p>Thanks,<br>Eric<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/b9904260218b6d7942782c2b2355f2aa?s=50"></div><header><strong>Android: Build error: No such module &quot;SwiftGlibc&quot;</strong> from <string>William Dillon</string> &lt;william at housedillon.com&gt;<p>September 14, 2016 at 08:00:00am</p></header><div class="content"><p>I&#39;m so glad someone else is hitting this problem!<br></p><p>I&#39;ve been seeing this relatively often.  I have a set of superstitions that allow me to get past it, and once I do, I try very hard not to delete anything in my build directory.<br></p><p>- Will<br></p><p>&gt; On Sep 14, 2016, at 5:49 AM, Eric Wing via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; I&#39;m trying to build Swift 3 for Android. I&#39;m getting an error at<br>&gt; compiling android/armv7/Glibc.o<br>&gt; Glibc.swift:13<br>&gt; error: no such module &#39;SwiftGlibc&#39;<br>&gt; @_exported import SwiftGlibc // Clang module<br>&gt; <br>&gt; Any ideas what to do?<br>&gt; <br>&gt; Thanks,<br>&gt; Eric<br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/c6c3c6af3a3702ecbe5bfa02e3d89aca?s=50"></div><header><strong>Android: Build error: No such module &quot;SwiftGlibc&quot;</strong> from <string>Eric Wing</string> &lt;ewmailing at gmail.com&gt;<p>September 14, 2016 at 03:00:00pm</p></header><div class="content"><p>On 9/14/16, william &lt;william at housedillon.com&gt; wrote:<br>&gt; I&#39;m so glad someone else is hitting this problem!<br>&gt;<br>&gt; I&#39;ve been seeing this relatively often.  I have a set of superstitions that<br>&gt; allow me to get past it, and once I do, I try very hard not to delete<br>&gt; anything in my build directory.<br>&gt;<br>&gt; - Will<br>&gt;<br></p><p>Can you suggest some mirrors to break or rabbit feet to rub, because I<br>have no idea where to start for this.<br></p><p>Thanks,<br>Eric<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/b9904260218b6d7942782c2b2355f2aa?s=50"></div><header><strong>Android: Build error: No such module &quot;SwiftGlibc&quot;</strong> from <string>William Dillon</string> &lt;william at housedillon.com&gt;<p>September 14, 2016 at 11:00:00pm</p></header><div class="content"><p>I haven&#39;t succeeded in re-creating the requisite magic since the release of Swift 3.  The full moon is coming, though, so we may see success soon.<br></p><p>In all seriousness, what has worked in the past has been using the swift-3.0 branch, but also, not trying to build everything at once.  I&#39;ll start with a `utils/build-script -R` then one-by-one add packages like --foundation, --llbuild, etc.<br></p><p>Good luck!<br>- Will<br></p><p>&gt; On Sep 14, 2016, at 5:51 PM, Eric Wing &lt;ewmailing at gmail.com&gt; wrote:<br>&gt; <br>&gt; On 9/14/16, william &lt;william at housedillon.com&gt; wrote:<br>&gt;&gt; I&#39;m so glad someone else is hitting this problem!<br>&gt;&gt; <br>&gt;&gt; I&#39;ve been seeing this relatively often.  I have a set of superstitions that<br>&gt;&gt; allow me to get past it, and once I do, I try very hard not to delete<br>&gt;&gt; anything in my build directory.<br>&gt;&gt; <br>&gt;&gt; - Will<br>&gt;&gt; <br>&gt; <br>&gt; Can you suggest some mirrors to break or rabbit feet to rub, because I<br>&gt; have no idea where to start for this.<br>&gt; <br>&gt; Thanks,<br>&gt; Eric<br></p></div></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/b9904260218b6d7942782c2b2355f2aa?s=50"></div><header><strong>Android: Build error: No such module &quot;SwiftGlibc&quot;</strong> from <string>William Dillon</string> &lt;william at housedillon.com&gt;<p>September 18, 2016 at 07:00:00pm</p></header><div class="content"><p>I&#39;ve finally succeeded in re-creating the process for building (not on the Android port, mind).<br></p><p>The trick this time was to build without the install options:<br></p><p>./swift/utils/build-script -R<br></p><p>This should SUCCEED<br></p><p>Then, delete the swift build directory:<br></p><p>rm -rf build/Ninja-ReleaseAssert/swift-linux-armv7<br></p><p>Then, build swift again *with* the install options:<br></p><p>./swift/utils/build-script -R -- --install-swift --install-prefix=/usr &#39;--swift-install-components=autolink-driver;compiler;clang-builtin-headers;stdlib;swift-remote-mirror;sdk-overlay;dev&#39; --build-swift-static-stdlib --build-swift-static-sdk-overlay --skip-test-lldb --install-destdir=swift-install --installable-package=swift.tar.gz<br></p><p>If that succeeds, go ahead and build the whole project:<br></p><p>./swift/utils/build-script -R --llbuild --lldb --foundation --xctest --swiftpm --libdispatch -- --install-libdispatch --install-swift --install-lldb --install-llbuild --install-foundation --install-swiftpm --install-xctest --install-prefix=/usr &#39;--swift-install-components=autolink-driver;compiler;clang-builtin-headers;stdlib;swift-remote-mirror;sdk-overlay;dev&#39; --build-swift-static-stdlib --build-swift-static-sdk-overlay --skip-test-lldb --install-destdir=swift-install --installable-package=swift.tar.gz<br></p><p>I hope that helps.<br></p><p>- Will<br></p><p>&gt; On Sep 14, 2016, at 3:51 PM, Eric Wing &lt;ewmailing at gmail.com&gt; wrote:<br>&gt; <br>&gt; On 9/14/16, william &lt;william at housedillon.com&gt; wrote:<br>&gt;&gt; I&#39;m so glad someone else is hitting this problem!<br>&gt;&gt; <br>&gt;&gt; I&#39;ve been seeing this relatively often.  I have a set of superstitions that<br>&gt;&gt; allow me to get past it, and once I do, I try very hard not to delete<br>&gt;&gt; anything in my build directory.<br>&gt;&gt; <br>&gt;&gt; - Will<br>&gt;&gt; <br>&gt; <br>&gt; Can you suggest some mirrors to break or rabbit feet to rub, because I<br>&gt; have no idea where to start for this.<br>&gt; <br>&gt; Thanks,<br>&gt; Eric<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/f921fa5d507b31ef6984fd3d77ae710c?s=50"></div><header><strong>Android: Build error: No such module &quot;SwiftGlibc&quot;</strong> from <string>Brian Gesiak</string> &lt;modocache at gmail.com&gt;<p>September 19, 2016 at 09:00:00am</p></header><div class="content"><p>Swift Android builds successfully for me. Following all the preliminary<br>steps from https://github.com/apple/swift/blob/master/docs/Android.md, such<br>as building libicu, I can successfully build with the following command on<br>the master branch of apple/swift this morning:<br></p><p>utils/build-script -R \<br>    --android \<br>    --android-ndk ~/android-ndk-r12b \<br>    --android-api-level 21 \<br>    --android-icu-uc ~/GitHub/apple/libiconv-libicu-android/armeabi-v7a \<br>    --android-icu-uc-include<br>~/GitHub/apple/libiconv-libicu-android/armeabi-v7a/icu/source/common \<br>    --android-icu-i18n ~/GitHub/apple/libiconv-libicu-android/armeabi-v7a \<br>    --android-icu-i18n-include<br>~/GitHub/apple/libiconv-libicu-android/armeabi-v7a/icu/source/i18n \<br>    -- --reconfigure<br></p><p>I haven&#39;t tried building --lldb and --foundation, so I&#39;m not sure about<br>those. I also haven&#39;t tried checking out the swift-3.0-release branch.<br>(It&#39;d be handy if utils/update-checkout could checkout a particular tag<br>across all repositories!)<br></p><p>I&#39;d recommend using `--reconfigure` to ensure CMake isn&#39;t carrying over<br>values from previous builds. Also, keep in mind that only an Ubnutu 15.10<br>host is currently supported, as per the documentation. If you&#39;re still<br>having trouble despite all that, let me know as much about your build<br>environment as you can, and I&#39;ll try to help!<br></p><p>- Brian Gesiak<br></p><p><br>On Sun, Sep 18, 2016 at 10:52 PM, william via swift-dev &lt;swift-dev at swift.org<br>&gt; wrote:<br></p><p>&gt; I&#39;ve finally succeeded in re-creating the process for building (not on the<br>&gt; Android port, mind).<br>&gt;<br>&gt; The trick this time was to build without the install options:<br>&gt;<br>&gt; ./swift/utils/build-script -R<br>&gt;<br>&gt; This should SUCCEED<br>&gt;<br>&gt; Then, delete the swift build directory:<br>&gt;<br>&gt; rm -rf build/Ninja-ReleaseAssert/swift-linux-armv7<br>&gt;<br>&gt; Then, build swift again *with* the install options:<br>&gt;<br>&gt; ./swift/utils/build-script -R -- --install-swift --install-prefix=/usr<br>&gt; &#39;--swift-install-components=autolink-driver;compiler;<br>&gt; clang-builtin-headers;stdlib;swift-remote-mirror;sdk-overlay;dev&#39;<br>&gt; --build-swift-static-stdlib --build-swift-static-sdk-overlay<br>&gt; --skip-test-lldb --install-destdir=swift-install<br>&gt; --installable-package=swift.tar.gz<br>&gt;<br>&gt; If that succeeds, go ahead and build the whole project:<br>&gt;<br>&gt; ./swift/utils/build-script -R --llbuild --lldb --foundation --xctest<br>&gt; --swiftpm --libdispatch -- --install-libdispatch --install-swift<br>&gt; --install-lldb --install-llbuild --install-foundation --install-swiftpm<br>&gt; --install-xctest --install-prefix=/usr &#39;--swift-install-components=<br>&gt; autolink-driver;compiler;clang-builtin-headers;stdlib;<br>&gt; swift-remote-mirror;sdk-overlay;dev&#39; --build-swift-static-stdlib<br>&gt; --build-swift-static-sdk-overlay --skip-test-lldb --install-destdir=swift-install<br>&gt; --installable-package=swift.tar.gz<br>&gt;<br>&gt; I hope that helps.<br>&gt;<br>&gt; - Will<br>&gt;<br>&gt; &gt; On Sep 14, 2016, at 3:51 PM, Eric Wing &lt;ewmailing at gmail.com&gt; wrote:<br>&gt; &gt;<br>&gt; &gt; On 9/14/16, william &lt;william at housedillon.com&gt; wrote:<br>&gt; &gt;&gt; I&#39;m so glad someone else is hitting this problem!<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; I&#39;ve been seeing this relatively often.  I have a set of superstitions<br>&gt; that<br>&gt; &gt;&gt; allow me to get past it, and once I do, I try very hard not to delete<br>&gt; &gt;&gt; anything in my build directory.<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; - Will<br>&gt; &gt;&gt;<br>&gt; &gt;<br>&gt; &gt; Can you suggest some mirrors to break or rabbit feet to rub, because I<br>&gt; &gt; have no idea where to start for this.<br>&gt; &gt;<br>&gt; &gt; Thanks,<br>&gt; &gt; Eric<br>&gt;<br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160919/c6023a7e/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/f921fa5d507b31ef6984fd3d77ae710c?s=50"></div><header><strong>Android: Build error: No such module &quot;SwiftGlibc&quot;</strong> from <string>Brian Gesiak</string> &lt;modocache at gmail.com&gt;<p>September 19, 2016 at 09:00:00am</p></header><div class="content"><p>In case anyone&#39;s interested in writing some Python, here&#39;s a task for<br>giving utils/update-checkout a --tag option:<br>https://bugs.swift.org/browse/SR-2695<br></p><p>- Brian<br></p><p><br>On Mon, Sep 19, 2016 at 9:01 AM, Brian Gesiak &lt;modocache at gmail.com&gt; wrote:<br></p><p>&gt; Swift Android builds successfully for me. Following all the preliminary<br>&gt; steps from https://github.com/apple/swift/blob/master/docs/Android.md,<br>&gt; such as building libicu, I can successfully build with the following<br>&gt; command on the master branch of apple/swift this morning:<br>&gt;<br>&gt; utils/build-script -R \<br>&gt;     --android \<br>&gt;     --android-ndk ~/android-ndk-r12b \<br>&gt;     --android-api-level 21 \<br>&gt;     --android-icu-uc ~/GitHub/apple/libiconv-libicu-android/armeabi-v7a \<br>&gt;     --android-icu-uc-include ~/GitHub/apple/libiconv-<br>&gt; libicu-android/armeabi-v7a/icu/source/common \<br>&gt;     --android-icu-i18n ~/GitHub/apple/libiconv-libicu-android/armeabi-v7a<br>&gt; \<br>&gt;     --android-icu-i18n-include ~/GitHub/apple/libiconv-<br>&gt; libicu-android/armeabi-v7a/icu/source/i18n \<br>&gt;     -- --reconfigure<br>&gt;<br>&gt; I haven&#39;t tried building --lldb and --foundation, so I&#39;m not sure about<br>&gt; those. I also haven&#39;t tried checking out the swift-3.0-release branch.<br>&gt; (It&#39;d be handy if utils/update-checkout could checkout a particular tag<br>&gt; across all repositories!)<br>&gt;<br>&gt; I&#39;d recommend using `--reconfigure` to ensure CMake isn&#39;t carrying over<br>&gt; values from previous builds. Also, keep in mind that only an Ubnutu 15.10<br>&gt; host is currently supported, as per the documentation. If you&#39;re still<br>&gt; having trouble despite all that, let me know as much about your build<br>&gt; environment as you can, and I&#39;ll try to help!<br>&gt;<br>&gt; - Brian Gesiak<br>&gt;<br>&gt;<br>&gt; On Sun, Sep 18, 2016 at 10:52 PM, william via swift-dev &lt;<br>&gt; swift-dev at swift.org&gt; wrote:<br>&gt;<br>&gt;&gt; I&#39;ve finally succeeded in re-creating the process for building (not on<br>&gt;&gt; the Android port, mind).<br>&gt;&gt;<br>&gt;&gt; The trick this time was to build without the install options:<br>&gt;&gt;<br>&gt;&gt; ./swift/utils/build-script -R<br>&gt;&gt;<br>&gt;&gt; This should SUCCEED<br>&gt;&gt;<br>&gt;&gt; Then, delete the swift build directory:<br>&gt;&gt;<br>&gt;&gt; rm -rf build/Ninja-ReleaseAssert/swift-linux-armv7<br>&gt;&gt;<br>&gt;&gt; Then, build swift again *with* the install options:<br>&gt;&gt;<br>&gt;&gt; ./swift/utils/build-script -R -- --install-swift --install-prefix=/usr<br>&gt;&gt; &#39;--swift-install-components=autolink-driver;compiler;clang-<br>&gt;&gt; builtin-headers;stdlib;swift-remote-mirror;sdk-overlay;dev&#39;<br>&gt;&gt; --build-swift-static-stdlib --build-swift-static-sdk-overlay<br>&gt;&gt; --skip-test-lldb --install-destdir=swift-install<br>&gt;&gt; --installable-package=swift.tar.gz<br>&gt;&gt;<br>&gt;&gt; If that succeeds, go ahead and build the whole project:<br>&gt;&gt;<br>&gt;&gt; ./swift/utils/build-script -R --llbuild --lldb --foundation --xctest<br>&gt;&gt; --swiftpm --libdispatch -- --install-libdispatch --install-swift<br>&gt;&gt; --install-lldb --install-llbuild --install-foundation --install-swiftpm<br>&gt;&gt; --install-xctest --install-prefix=/usr &#39;--swift-install-components=au<br>&gt;&gt; tolink-driver;compiler;clang-builtin-headers;stdlib;swift-remote-mirror;sdk-overlay;dev&#39;<br>&gt;&gt; --build-swift-static-stdlib --build-swift-static-sdk-overlay<br>&gt;&gt; --skip-test-lldb --install-destdir=swift-install<br>&gt;&gt; --installable-package=swift.tar.gz<br>&gt;&gt;<br>&gt;&gt; I hope that helps.<br>&gt;&gt;<br>&gt;&gt; - Will<br>&gt;&gt;<br>&gt;&gt; &gt; On Sep 14, 2016, at 3:51 PM, Eric Wing &lt;ewmailing at gmail.com&gt; wrote:<br>&gt;&gt; &gt;<br>&gt;&gt; &gt; On 9/14/16, william &lt;william at housedillon.com&gt; wrote:<br>&gt;&gt; &gt;&gt; I&#39;m so glad someone else is hitting this problem!<br>&gt;&gt; &gt;&gt;<br>&gt;&gt; &gt;&gt; I&#39;ve been seeing this relatively often.  I have a set of superstitions<br>&gt;&gt; that<br>&gt;&gt; &gt;&gt; allow me to get past it, and once I do, I try very hard not to delete<br>&gt;&gt; &gt;&gt; anything in my build directory.<br>&gt;&gt; &gt;&gt;<br>&gt;&gt; &gt;&gt; - Will<br>&gt;&gt; &gt;&gt;<br>&gt;&gt; &gt;<br>&gt;&gt; &gt; Can you suggest some mirrors to break or rabbit feet to rub, because I<br>&gt;&gt; &gt; have no idea where to start for this.<br>&gt;&gt; &gt;<br>&gt;&gt; &gt; Thanks,<br>&gt;&gt; &gt; Eric<br>&gt;&gt;<br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-dev mailing list<br>&gt;&gt; swift-dev at swift.org<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;&gt;<br>&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160919/71590a45/attachment.html&gt;<br></p></div></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/c6c3c6af3a3702ecbe5bfa02e3d89aca?s=50"></div><header><strong>Android: Build error: No such module &quot;SwiftGlibc&quot;</strong> from <string>Eric Wing</string> &lt;ewmailing at gmail.com&gt;<p>September 19, 2016 at 07:00:00am</p></header><div class="content"><p>So I did some superstition as William suggested and started removing<br>and changing a bunch of build flags. At some point, the message went<br>away, and when I put the flags back, the message didn&#39;t come back.<br></p><p>My original attempt should have been a completely clean checkout and<br>rebuild from scratch. (The old build directory was removed.) I was<br>building from inside Steam-Runtime. I suspect it should be pretty easy<br>to reproduce since its point is to provide a reproducible build/dev<br>environment.<br></p><p>Even though I&#39;m past this one hurdle, I&#39;m still trying to get past a<br>bunch of other build problems, so I&#39;m not completely past this problem<br>for sure.<br></p><p><br>Thanks,<br>Eric<br></p></div></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
