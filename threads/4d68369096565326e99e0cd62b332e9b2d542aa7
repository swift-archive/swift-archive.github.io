<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/14477c366d6ee4e41adf14837bc4f2f9?s=50"></div><header><strong>libdispatch Arch Linux</strong> from <string>Ryan Lovelett</string> &lt;swift-dev at ryan.lovelett.me&gt;<p>August 13, 2016 at 05:00:00pm</p></header><div class="content"><p>(I know that this is not 100% expected to work yet. AND I&#39;m working on<br>an unsupported distro... but I thought I&#39;d ask).<br></p><p>Trying to build libdispatch on Linux (Arch Linux 4.6.4-1-ARCH). The<br>build seems to go fine up until the tests. At this point there are 3<br>failing tests (see the attached test-suite.log).<br></p><p>Two questions:<br></p><p>1. Can someone help me decipher that log to figure out what is going<br>wrong?<br>2. It tells me to report the errors to libdispatch at macosforge.org. Is<br>that something I really should do?<br>-------------- next part --------------<br>A non-text attachment was scrubbed...<br>Name: test-suite.log<br>Type: text/x-log<br>Size: 3967 bytes<br>Desc: not available<br>URL: &lt;https://lists.swift.org/pipermail/swift-corelibs-dev/attachments/20160813/4d682aa7/attachment.bin&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8d00f5acbaa7d24e0900e5045462e008?s=50"></div><header><strong>libdispatch Arch Linux</strong> from <string>Chris Bailey</string> &lt;BAILEYC at uk.ibm.com&gt;<p>August 14, 2016 at 12:00:00pm</p></header><div class="content"><p>Hi Ryan:<br></p><p>The three failures:<br>dispatch_select: <br>dispatch_io<br>dispatch_io_net <br></p><p>most likely occur because you don&#39;t have a /usr/share/dict/words file, <br>which you can get by installing something like the wamerican or wbritish <br>backage.<br></p><p><br></p><p><br></p><p>From:   Ryan Lovelett via swift-corelibs-dev <br>&lt;swift-corelibs-dev at swift.org&gt;<br>To:     swift-corelibs-dev at swift.org<br>Date:   13/08/2016 22:11<br>Subject:        [swift-corelibs-dev] libdispatch Arch Linux<br>Sent by:        swift-corelibs-dev-bounces at swift.org<br></p><p><br></p><p>(I know that this is not 100% expected to work yet. AND I&#39;m working on<br>an unsupported distro... but I thought I&#39;d ask).<br></p><p>Trying to build libdispatch on Linux (Arch Linux 4.6.4-1-ARCH). The<br>build seems to go fine up until the tests. At this point there are 3<br>failing tests (see the attached test-suite.log).<br></p><p>Two questions:<br></p><p>1. Can someone help me decipher that log to figure out what is going<br>wrong?<br>2. It tells me to report the errors to libdispatch at macosforge.org. Is<br>that something I really should do?<br>[attachment &quot;test-suite.log&quot; deleted by Chris Bailey/UK/IBM] <br>_______________________________________________<br>swift-corelibs-dev mailing list<br>swift-corelibs-dev at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-corelibs-dev<br></p><p><br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-corelibs-dev/attachments/20160814/c7c593d2/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/14477c366d6ee4e41adf14837bc4f2f9?s=50"></div><header><strong>libdispatch Arch Linux</strong> from <string>Ryan Lovelett</string> &lt;swift-dev at ryan.lovelett.me&gt;<p>August 14, 2016 at 05:00:00pm</p></header><div class="content"><p>Chris/David,<br></p><p>Thank you for the responses! That got rid of 2/3rds of the test<br>failures.<br></p><p>However, the `dispatch_io` test is still failing. I&#39;ve added the test-<br>suite.log once more.<br></p><p>Again thanks for the help!<br></p><p>On Sun, Aug 14, 2016, at 07:59 AM, Chris Bailey wrote:<br>&gt; Hi Ryan:<br>&gt;<br>&gt; The three failures:<br>&gt; dispatch_select:<br>&gt; dispatch_io<br>&gt; dispatch_io_net<br>&gt;<br>&gt; most likely occur because you don&#39;t have a /usr/share/dict/words file,<br>&gt; which you can get by installing something like the wamerican or<br>&gt; wbritish backage.<br>&gt;<br>&gt;<br>&gt;<br>&gt;<br>&gt; From:        Ryan Lovelett via swift-corelibs-dev &lt;swift-corelibs-<br>&gt; dev at swift.org&gt;<br>&gt; To:        swift-corelibs-dev at swift.org<br>&gt; Date:        13/08/2016 22:11<br>&gt; Subject:        [swift-corelibs-dev] libdispatch Arch Linux<br>&gt; Sent by:        swift-corelibs-dev-bounces at swift.org<br>&gt;<br>&gt;<br>&gt;<br>&gt; (I know that this is not 100% expected to work yet. AND I&#39;m working on<br>&gt; an unsupported distro... but I thought I&#39;d ask).<br>&gt;<br>&gt;  Trying to build libdispatch on Linux (Arch Linux 4.6.4-1-ARCH). The<br>&gt;  build seems to go fine up until the tests. At this point there are 3<br>&gt;  failing tests (see the attached test-suite.log).<br>&gt;<br>&gt;  Two questions:<br>&gt;<br>&gt;  1. Can someone help me decipher that log to figure out what is going<br>&gt;     wrong?<br>&gt;  2. It tells me to report the errors to libdispatch at macosforge.org. Is<br>&gt;     that something I really should do? [attachment &quot;test-suite.log&quot;<br>&gt;     deleted by Chris Bailey/UK/IBM]<br>&gt;     _______________________________________________ swift-corelibs-dev<br>&gt;     mailing list swift-corelibs-dev at swift.org<br>&gt;     https://lists.swift.org/mailman/listinfo/swift-corelibs-dev<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-corelibs-dev/attachments/20160814/89a370c4/attachment.html&gt;<br>-------------- next part --------------<br>A non-text attachment was scrubbed...<br>Name: test-suite.log<br>Type: text/x-log<br>Size: 1439 bytes<br>Desc: not available<br>URL: &lt;https://lists.swift.org/pipermail/swift-corelibs-dev/attachments/20160814/89a370c4/attachment.bin&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/2ddf7419fbdd69635522af227c08327c?s=50"></div><header><strong>libdispatch Arch Linux</strong> from <string>David P Grove</string> &lt;groved at us.ibm.com&gt;<p>August 15, 2016 at 10:00:00am</p></header><div class="content"><p>Ryan Lovelett &lt;swift-dev at ryan.lovelett.me&gt; wrote on 08/14/2016 05:10:34 PM:<br>&gt;<br>&gt; However, the `dispatch_io` test is still failing. I&#39;ve added the<br>&gt; test-suite.log once more.<br>&gt;<br></p><p>Hi Ryan,<br></p><p>	The test that is failing creates a temporary directory, sets it to be<br>read-only, and then attempts to write into the directory.  It is expecting<br>the write to fail with errno value EACESS (13).  Instead, the write attempt<br>is succeeding (errno is 0).<br></p><p>	I&#39;d guess that either you are running the test as root/sudo or the<br>chmod operation on the temporary directory to make it read-only failed.<br></p><p>--dave<br></p><p><br>[BEGIN] error from write to write protected directory<br>	Actual: 0<br>	Expected: 13	Permission denied<br>[FAIL] error from write to write protected directory (dispatch_io.c:611)<br>	dispatch_io.c:611<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-corelibs-dev/attachments/20160815/23b9f30a/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/14477c366d6ee4e41adf14837bc4f2f9?s=50"></div><header><strong>libdispatch Arch Linux</strong> from <string>Ryan Lovelett</string> &lt;swift-dev at ryan.lovelett.me&gt;<p>August 15, 2016 at 12:00:00pm</p></header><div class="content"><p>That seems about right. The tests run in a chroot, where the script is<br>root, to ensure that I control dependencies and such.<br></p><p>Not sure what I I can do about this test. ðŸ¤”<br></p><p>Thanks for the help Dave!<br></p><p>On Mon, Aug 15, 2016, at 10:57 AM, David P Grove wrote:<br>&gt; Ryan Lovelett &lt;swift-dev at ryan.lovelett.me&gt; wrote on 08/14/2016<br>&gt; 05:10:34 PM:<br>&gt; &gt;<br>&gt; &gt; However, the `dispatch_io` test is still failing. I&#39;ve added the test-<br>&gt; &gt; suite.log once more.<br>&gt; &gt;<br>&gt; Hi Ryan,<br>&gt;<br>&gt;  The test that is failing creates a temporary directory, sets it to be<br>&gt;  read-only, and then attempts to write into the directory.  It is<br>&gt;  expecting the write to fail with errno value EACESS (13).  Instead,<br>&gt;  the write attempt is succeeding (errno is 0).<br>&gt;<br>&gt;  I&#39;d guess that either you are running the test as root/sudo or the<br>&gt;  chmod operation on the temporary directory to make it read-only<br>&gt;  failed.<br>&gt;<br>&gt; --dave<br>&gt;<br>&gt;<br>&gt; [BEGIN] error from write to write protected directory<br>&gt;  Actual: 0<br>&gt;  Expected: 13        Permission denied<br>&gt; [FAIL] error from write to write protected directory<br>&gt; (dispatch_io.c:611)<br>&gt;  dispatch_io.c:611<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-corelibs-dev/attachments/20160815/2d9edb61/attachment.html&gt;<br></p></div></li></ul></li></ul></li></ul></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
