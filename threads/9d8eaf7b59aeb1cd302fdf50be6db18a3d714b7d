<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css?vsn=d">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg?vsn=d" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/db8f7ec49b64f737efa572bc93dd4d3d?s=50"></div><header><strong>Does it make sense to fold FreeBSD specific patches to Swift into the upstream codebase?</strong> from <string>Brendan Sechter</string> &lt;sgeos at hotmail.com&gt;<p>October  2, 2016 at 05:00:00pm</p></header><div class="content"><p>Currently the Swift source code is being patched so that it will build on FreeBSD.  Does it make sense to just fold (most of?) these changes into the upstream Swift codebase?<br></p><p><br>A total of 9 files are patched.  A casual review of the patches indicates that they are all making simple modifications so that FreeBSD is a supported operating system.  Here is an example of one of the patches.<br></p><p><br>/usr/ports/lang/swift/files/patch-llvm_lib_Support_Unix_Process.inc complete listing<br></p><p><br>--- llvm/lib/Support/Unix/Process.inc.orig 2016-02-26 00:51:43 UTC<br></p><p>+++ llvm/lib/Support/Unix/Process.inc<br></p><p>@@ -36,7 +36,7 @@<br></p><p> // DragonFlyBSD, OpenBSD, and Bitrig have deprecated &lt;malloc.h&gt; for<br></p><p> // &lt;stdlib.h&gt; instead. Unix.h includes this for us already.<br></p><p> #if defined(HAVE_MALLOC_H) &amp;&amp; !defined(__DragonFly__) &amp;&amp; \<br></p><p>-    !defined(__OpenBSD__) &amp;&amp; !defined(__Bitrig__)<br></p><p>+    !defined(__OpenBSD__) &amp;&amp; !defined(__Bitrig__) &amp;&amp; !defined(__FreeBSD__)<br></p><p> #include &lt;malloc.h&gt;<br></p><p> #endif<br></p><p> #if defined(HAVE_MALLCTL)<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20161002/9d8e4b7d/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/ded59bffa54a5135b6be40d286ae243a?s=50"></div><header><strong>Does it make sense to fold FreeBSD specific patches to Swift into the upstream codebase?</strong> from <string>Steve Wills</string> &lt;swills at FreeBSD.org&gt;<p>October  2, 2016 at 01:00:00pm</p></header><div class="content"><p>Hi,<br></p><p>On 10/02/2016 13:38, Brendan Sechter wrote:<br>&gt; Currently the Swift source code is being patched so that it will build<br>&gt; on FreeBSD.  Does it make sense to just fold (most of?) these changes<br>&gt; into the upstream Swift codebase?<br>&gt; <br></p><p>That would be great. Also nice would be if there were an upstream CI for<br>FreeBSD at https://ci.swift.org/. I&#39;m happy to help however I can.<br></p><p>&gt; A total of 9 files are patched.  A casual review of the patches<br>&gt; indicates that they are all making simple modifications so that FreeBSD<br>&gt; is a supported operating system.  Here is an example of one of the patches.<br>&gt; <br>&gt; <br>&gt; /usr/ports/lang/swift/files/patch-llvm_lib_Support_Unix_Process.inc<br>&gt; complete listing<br>&gt; <br></p><p>Yep, and there are still some issues with certain versions of FreeBSD<br>that would be nice to iron out.<br></p><p>Steve<br></p><p><br>-------------- next part --------------<br>A non-text attachment was scrubbed...<br>Name: signature.asc<br>Type: application/pgp-signature<br>Size: 632 bytes<br>Desc: OpenPGP digital signature<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20161002/165a8f8a/attachment.sig&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/c69b8eb4df5af15923fd1647a8276890?s=50"></div><header><strong>Does it make sense to fold FreeBSD specific patches to Swift into the upstream codebase?</strong> from <string>John McCall</string> &lt;rjmccall at apple.com&gt;<p>October  3, 2016 at 11:00:00am</p></header><div class="content"><p>&gt; On Oct 2, 2016, at 10:59 AM, Steve Wills via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt; On 10/02/2016 13:38, Brendan Sechter wrote:<br>&gt;&gt; Currently the Swift source code is being patched so that it will build<br>&gt;&gt; on FreeBSD.  Does it make sense to just fold (most of?) these changes<br>&gt;&gt; into the upstream Swift codebase?<br>&gt;&gt; <br>&gt; <br>&gt; That would be great. Also nice would be if there were an upstream CI for<br>&gt; FreeBSD at https://ci.swift.org/. I&#39;m happy to help however I can.<br>&gt; <br>&gt;&gt; A total of 9 files are patched.  A casual review of the patches<br>&gt;&gt; indicates that they are all making simple modifications so that FreeBSD<br>&gt;&gt; is a supported operating system.  Here is an example of one of the patches.<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; /usr/ports/lang/swift/files/patch-llvm_lib_Support_Unix_Process.inc<br>&gt;&gt; complete listing<br>&gt;&gt; <br>&gt; <br>&gt; Yep, and there are still some issues with certain versions of FreeBSD<br>&gt; that would be nice to iron out.<br></p><p>Patches to support new targets are always(*) welcome in-tree.<br></p><p>John.<br></p><p>(*) Within reason.  If your operating system only runs on an architecture with 7-bit bytes, sorry. :)<br></p></div></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/c4fe988326eed161b989d0c5521cb105?s=50"></div><header><strong>Does it make sense to fold FreeBSD specific patches to Swift into the upstream codebase?</strong> from <string>Jordan Rose</string> &lt;jordan_rose at apple.com&gt;<p>October  3, 2016 at 11:00:00am</p></header><div class="content"><p>&gt; On Oct 2, 2016, at 10:59, Steve Wills via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; On 10/02/2016 13:38, Brendan Sechter wrote:<br>&gt;&gt; Currently the Swift source code is being patched so that it will build<br>&gt;&gt; on FreeBSD.  Does it make sense to just fold (most of?) these changes<br>&gt;&gt; into the upstream Swift codebase?<br>&gt;&gt; <br>&gt; <br>&gt; That would be great. Also nice would be if there were an upstream CI for<br>&gt; FreeBSD at https://ci.swift.org/ &lt;https://ci.swift.org/&gt;. I&#39;m happy to help however I can.<br></p><p>We&#39;re still looking into a good way to allow machines outside our network to interface with our CI, but we may come back and talk to you if/when that happens. :-)<br></p><p>Jordan<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20161003/2ad78e2f/attachment.html&gt;<br></p></div></li></ul></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js?vsn=d"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
