<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css?vsn=d">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg?vsn=d" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/85a454a69ee2cf2ac4b990dc9e87b664?s=50"></div><header><strong>Proposal: Pattern Matching Partial Function	(#111)</strong> from <string>Thorsten Seitz</string> &lt;tseitz42 at icloud.com&gt;<p>February  4, 2016 at 02:00:00pm</p></header><div class="content"><p>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-evolution/attachments/20160204/12ccb709/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/3d118cdf2fe31053bc7032466c4da282?s=50"></div><header><strong>Proposal: Pattern Matching Partial Function (#111)</strong> from <string>Craig Cruden</string> &lt;ccruden at novafore.com&gt;<p>February  4, 2016 at 09:00:00pm</p></header><div class="content"><p>Can we have a vote on removing / keeping the cases clause.  I personally would not typically use it, but there was a split on whether to keep it or delete it so I just kept it in the original until — as I expected — it would be dropped during review (assuming it has a chance of passing).<br></p><p>I though, do not find cases to be particularly hard to read if you have 10 key/value pairs over two lines…. and no mixture….. readability is of the sample in the document is concise in that example and quite readable for me (but I would probably still not use it).<br></p><p><br>&gt; On 2016-02-04, at 21:30:48, Thorsten Seitz &lt;tseitz42 at icloud.com&gt; wrote:<br>&gt; <br>&gt; I already stated that I&#39;m opposed to &quot;cases&quot; by themselves (too unreadably IMO because the keys and values are not sufficiently separated visually) so it should be no surprise that I&#39;m similarly opposed to mixing &quot;case&quot; and &quot;cases&quot; (too confusing IMO). <br>&gt; <br>&gt; -Thorsten<br>&gt; <br>&gt; <br>&gt; Am 04. Februar 2016 um 15:18 schrieb Craig Cruden via swift-evolution &lt;swift-evolution at swift.org&gt;:<br>&gt; <br>&gt;&gt; I originally had them mutually exclusive but there was pushback and the fact that no harm would be done by mixing them - I did not see the reason why not to allow them.<br>&gt;&gt; <br>&gt;&gt; You could have a couple cases each with several lines of code then a value, and then a few that are just key/value mappings…. <br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt;&gt; On 2016-02-04, at 21:14:58, Maximilian Hünenberger &lt;m.huenenberger at me.com&gt; wrote:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Should we allow mixing &quot;case&quot; and &quot;cases&quot;?<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; I don&#39;t think so since a &quot;cases&quot; between several &quot;case&quot;&#39;s is not recognizable enough.<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; With the current grammar &quot;cases&quot; is also allowed after &quot;case&quot; labels:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Example (this is currently allowed):<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; match(3) {<br>&gt;&gt;&gt; case 1: &quot;one&quot;<br>&gt;&gt;&gt; case 2: &quot;two&quot;<br>&gt;&gt;&gt; cases 3: &quot;three&quot;, 4: &quot;four&quot;<br>&gt;&gt;&gt; default: &quot;undefined&quot;<br>&gt;&gt;&gt; }<br>&gt;&gt; <br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-evolution mailing list<br>&gt;&gt; swift-evolution at swift.org &lt;mailto:swift-evolution at swift.org&gt;<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-evolution &lt;https://lists.swift.org/mailman/listinfo/swift-evolution&gt;<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-evolution/attachments/20160204/07b33fe6/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/85c55778d88fe0cd357b60a7a3ad81b3?s=50"></div><header><strong>Proposal: Pattern Matching Partial Function (#111)</strong> from <string>Paul Ossenbruggen</string> &lt;possen at gmail.com&gt;<p>February  4, 2016 at 07:00:00am</p></header><div class="content"><p>Having it be compact was a goal, especially when doing simple mappings. Some of the feedback has been that conciseness is very important. However if means that the proposal won’t be accepted because of it then I will drop it. <br></p><p>The thing is when you are just mapping expressions the repetition of the case is often bigger than what you are mapping. Also, case is necessary when you have multiple lines to get a result or when there is more complex pattern matching. With expressions there can only be one line each. <br></p><p>	let v = match(3) { cases 1:  “A”, 2: “B”, 3: “C”, default: “D” }<br></p><p>or even when fully specified in the cases for example:<br></p><p>	let v = match(3) { cases 1: “A”, 2: “B”, 3: “C”, _: “D” }<br></p><p>is much simpler and I would say easier to read than<br></p><p>	let v = match(3) { case 1: “A”, case 2: “B”, case 3: “C”, default: “D” }<br></p><p>Some will say that you are trying to do too much on one line but it may just be a situation that you don’t want the weight of a multiline statement. <br></p><p>I don’t think that the cases syntax is any harder than reading a dictionary with multiple key values on one line. Especially when syntax coloring ion. <br></p><p>For multi line mappings it can also help.<br></p><p>	let s = match(3) { cases<br>		1: “here is a long sentence that fills the line”,<br>		2: “another sentence that fills the line”,<br>		3: “a final sentence that fills the line”,<br>		_: “default sentence that fills the line&quot;<br>	}<br></p><p>the repeated word “case&quot; in this situation does not add anything or make it any clearer. It can be used like a dictionary with a default, with the advantage that it does an exhaustiveness test.<br></p><p>- Paul<br></p><p>&gt; On Feb 4, 2016, at 6:36 AM, Craig Cruden via swift-evolution &lt;swift-evolution at swift.org&gt; wrote:<br>&gt; <br>&gt; Can we have a vote on removing / keeping the cases clause.  I personally would not typically use it, but there was a split on whether to keep it or delete it so I just kept it in the original until — as I expected — it would be dropped during review (assuming it has a chance of passing).<br>&gt; <br>&gt; I though, do not find cases to be particularly hard to read if you have 10 key/value pairs over two lines…. and no mixture….. readability is of the sample in the document is concise in that example and quite readable for me (but I would probably still not use it).<br>&gt; <br>&gt; <br>&gt;&gt; On 2016-02-04, at 21:30:48, Thorsten Seitz &lt;tseitz42 at icloud.com &lt;mailto:tseitz42 at icloud.com&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; I already stated that I&#39;m opposed to &quot;cases&quot; by themselves (too unreadably IMO because the keys and values are not sufficiently separated visually) so it should be no surprise that I&#39;m similarly opposed to mixing &quot;case&quot; and &quot;cases&quot; (too confusing IMO). <br>&gt;&gt; <br>&gt;&gt; -Thorsten<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; Am 04. Februar 2016 um 15:18 schrieb Craig Cruden via swift-evolution &lt;swift-evolution at swift.org &lt;mailto:swift-evolution at swift.org&gt;&gt;:<br>&gt;&gt; <br>&gt;&gt;&gt; I originally had them mutually exclusive but there was pushback and the fact that no harm would be done by mixing them - I did not see the reason why not to allow them.<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; You could have a couple cases each with several lines of code then a value, and then a few that are just key/value mappings…. <br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; On 2016-02-04, at 21:14:58, Maximilian Hünenberger &lt;m.huenenberger at me.com &lt;mailto:m.huenenberger at me.com&gt;&gt; wrote:<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; Should we allow mixing &quot;case&quot; and &quot;cases&quot;?<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; I don&#39;t think so since a &quot;cases&quot; between several &quot;case&quot;&#39;s is not recognizable enough.<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; With the current grammar &quot;cases&quot; is also allowed after &quot;case&quot; labels:<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; Example (this is currently allowed):<br>&gt;&gt;&gt;&gt; <br>&gt;&gt;&gt;&gt; match(3) {<br>&gt;&gt;&gt;&gt; case 1: &quot;one&quot;<br>&gt;&gt;&gt;&gt; case 2: &quot;two&quot;<br>&gt;&gt;&gt;&gt; cases 3: &quot;three&quot;, 4: &quot;four&quot;<br>&gt;&gt;&gt;&gt; default: &quot;undefined&quot;<br>&gt;&gt;&gt;&gt; }<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt; swift-evolution mailing list<br>&gt;&gt;&gt; swift-evolution at swift.org &lt;mailto:swift-evolution at swift.org&gt;<br>&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-evolution &lt;https://lists.swift.org/mailman/listinfo/swift-evolution&gt;<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-evolution mailing list<br>&gt; swift-evolution at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-evolution<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-evolution/attachments/20160204/c467fad8/attachment.html&gt;<br></p></div></li></ul></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js?vsn=d"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
