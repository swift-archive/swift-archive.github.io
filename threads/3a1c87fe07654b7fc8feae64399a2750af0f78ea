<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css?vsn=d">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg?vsn=d" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 01:00:00am</p></header><div class="content"><p>So, if I had this code written in C:<br>int<br>main (int argc, char *argv[])<br>{<br>        cairo_surface_t *surface =<br>            cairo_image_surface_create (CAIRO_FORMAT_ARGB32, 240, 80);<br>        cairo_t *cr =<br>            cairo_create (surface);<br></p><p>        cairo_select_font_face (cr, &quot;serif&quot;, CAIRO_FONT_SLANT_NORMAL, CAIRO_FONT_WEIGHT_BOLD);<br>        cairo_set_font_size (cr, 32.0);<br>        cairo_set_source_rgb (cr, 0.0, 0.0, 1.0);<br>        cairo_move_to (cr, 10.0, 50.0);<br>        cairo_show_text (cr, &quot;Hello, world&quot;);<br></p><p>        cairo_destroy (cr);<br>        cairo_surface_write_to_png (surface, &quot;hello.png&quot;);<br>        cairo_surface_destroy (surface);<br>        return 0;<br>}<br>how would I output to Swift? If I can get one or two examples, I&#39;ll be closer to finished with using Cairo in Swift.<br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/3a1c78ea/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/94064636d740f54a1ea944b46f4dd8bd?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Jason Dusek</string> &lt;jason.dusek at gmail.com&gt;<p>December 11, 2015 at 06:00:00am</p></header><div class="content"><p>When you say, output to Swift, do you mean, call it from Swift? Return the<br>PNG or surface to Swift?<br></p><p>On Thu, 10 Dec 2015 at 22:39 Gage Morgan via swift-users &lt;<br>swift-users at swift.org&gt; wrote:<br></p><p>&gt; So, if I had this code written in C:<br>&gt;<br>&gt; int<br>&gt; main (int argc, char *argv[])<br>&gt; {<br>&gt;         cairo_surface_t *surface =<br>&gt;             cairo_image_surface_create (CAIRO_FORMAT_ARGB32, 240, 80);<br>&gt;         cairo_t *cr =<br>&gt;             cairo_create (surface);<br>&gt;<br>&gt;         cairo_select_font_face (cr, &quot;serif&quot;, CAIRO_FONT_SLANT_NORMAL, CAIRO_FONT_WEIGHT_BOLD);<br>&gt;         cairo_set_font_size (cr, 32.0);<br>&gt;         cairo_set_source_rgb (cr, 0.0, 0.0, 1.0);<br>&gt;         cairo_move_to (cr, 10.0, 50.0);<br>&gt;         cairo_show_text (cr, &quot;Hello, world&quot;);<br>&gt;<br>&gt;         cairo_destroy (cr);<br>&gt;         cairo_surface_write_to_png (surface, &quot;hello.png&quot;);<br>&gt;         cairo_surface_destroy (surface);<br>&gt;         return 0;<br>&gt; }<br>&gt;<br>&gt;<br>&gt; how would I output to Swift? If I can get one or two examples, I&#39;ll be<br>&gt; closer to finished with using Cairo in Swift.<br>&gt;<br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/b6388770/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 07:00:00pm</p></header><div class="content"><p>I want to call PNG surfaces from Swift, as well as use cairo_line_to() and cairo_move_to() in Swift. Thing is, I need an example of cairo used in Swift so I can apply it to the rest of cairo.<br>My goal is to generate an executable that outputs *.png images using swift.<br>Thanks for the support,--MGage--<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p><br>On Thu, Dec 10, 2015 at 10:40 PM -0800, &quot;Jason Dusek&quot; &lt;jason.dusek at gmail.com&gt; wrote:<br></p><p><br></p><p><br></p><p>When you say, output to Swift, do you mean, call it from Swift? Return the<br>PNG or surface to Swift?<br></p><p>On Thu, 10 Dec 2015 at 22:39 Gage Morgan via swift-users &lt;<br>swift-users at swift.org&gt; wrote:<br></p><p>&gt; So, if I had this code written in C:<br>&gt;<br>&gt; int<br>&gt; main (int argc, char *argv[])<br>&gt; {<br>&gt;         cairo_surface_t *surface =<br>&gt;             cairo_image_surface_create (CAIRO_FORMAT_ARGB32, 240, 80);<br>&gt;         cairo_t *cr =<br>&gt;             cairo_create (surface);<br>&gt;<br>&gt;         cairo_select_font_face (cr, &quot;serif&quot;, CAIRO_FONT_SLANT_NORMAL, CAIRO_FONT_WEIGHT_BOLD);<br>&gt;         cairo_set_font_size (cr, 32.0);<br>&gt;         cairo_set_source_rgb (cr, 0.0, 0.0, 1.0);<br>&gt;         cairo_move_to (cr, 10.0, 50.0);<br>&gt;         cairo_show_text (cr, &quot;Hello, world&quot;);<br>&gt;<br>&gt;         cairo_destroy (cr);<br>&gt;         cairo_surface_write_to_png (surface, &quot;hello.png&quot;);<br>&gt;         cairo_surface_destroy (surface);<br>&gt;         return 0;<br>&gt; }<br>&gt;<br>&gt;<br>&gt; how would I output to Swift? If I can get one or two examples, I&#39;ll be<br>&gt; closer to finished with using Cairo in Swift.<br>&gt;<br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/a744cb15/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8ae34e6aaf28c0e1fe929f36897d107e?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Harlan Haskins</string> &lt;harlan at harlanhaskins.com&gt;<p>December 11, 2015 at 03:00:00pm</p></header><div class="content"><p>Mind sending your CCairo modulemap?<br></p><p>I’d love to help you get this translated to Swift.<br></p><p>&gt; On Dec 11, 2015, at 2:44 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I want to call PNG surfaces from Swift, as well as use cairo_line_to() and cairo_move_to() in Swift. Thing is, I need an example of cairo used in Swift so I can apply it to the rest of cairo. <br>&gt; <br>&gt; My goal is to generate an executable that outputs *.png images using swift. <br>&gt; <br>&gt; Thanks for the support,<br>&gt; --MGage--<br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; On Thu, Dec 10, 2015 at 10:40 PM -0800, &quot;Jason Dusek&quot; &lt;jason.dusek at gmail.com &lt;mailto:jason.dusek at gmail.com&gt;&gt; wrote:<br>&gt; <br>&gt; When you say, output to Swift, do you mean, call it from Swift? Return the PNG or surface to Swift?<br>&gt; <br>&gt; On Thu, 10 Dec 2015 at 22:39 Gage Morgan via swift-users &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt; So, if I had this code written in C:<br>&gt; <br>&gt; int<br>&gt; main (int argc, char *argv[])<br>&gt; {<br>&gt;         cairo_surface_t *surface =<br>&gt;             cairo_image_surface_create (CAIRO_FORMAT_ARGB32, 240, 80);<br>&gt;         cairo_t *cr =<br>&gt;             cairo_create (surface);<br>&gt; <br>&gt;         cairo_select_font_face (cr, &quot;serif&quot;, CAIRO_FONT_SLANT_NORMAL, CAIRO_FONT_WEIGHT_BOLD);<br>&gt;         cairo_set_font_size (cr, 32.0);<br>&gt;         cairo_set_source_rgb (cr, 0.0, 0.0, 1.0);<br>&gt;         cairo_move_to (cr, 10.0, 50.0);<br>&gt;         cairo_show_text (cr, &quot;Hello, world&quot;);<br>&gt; <br>&gt;         cairo_destroy (cr);<br>&gt;         cairo_surface_write_to_png (surface, &quot;hello.png&quot;);<br>&gt;         cairo_surface_destroy (surface);<br>&gt;         return 0;<br>&gt; }<br>&gt; <br>&gt; how would I output to Swift? If I can get one or two examples, I&#39;ll be closer to finished with using Cairo in Swift.<br>&gt; <br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users &lt;https://lists.swift.org/mailman/listinfo/swift-users&gt;<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/0d80cd66/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 08:00:00pm</p></header><div class="content"><p>Do so here in a few. Want a bug report for that?<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p><br>On Fri, Dec 11, 2015 at 12:08 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p><br></p><p><br></p><p>Mind sending your CCairo modulemap?<br></p><p>I’d love to help you get this translated to Swift.<br></p><p>&gt; On Dec 11, 2015, at 2:44 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt;<br>&gt; I want to call PNG surfaces from Swift, as well as use cairo_line_to() and cairo_move_to() in Swift. Thing is, I need an example of cairo used in Swift so I can apply it to the rest of cairo.<br>&gt;<br>&gt; My goal is to generate an executable that outputs *.png images using swift.<br>&gt;<br>&gt; Thanks for the support,<br>&gt; --MGage--<br>&gt;<br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt;<br>&gt;<br>&gt;<br>&gt; On Thu, Dec 10, 2015 at 10:40 PM -0800, &quot;Jason Dusek&quot; &lt;jason.dusek at gmail.com &lt;mailto:jason.dusek at gmail.com&gt;&gt; wrote:<br>&gt;<br>&gt; When you say, output to Swift, do you mean, call it from Swift? Return the PNG or surface to Swift?<br>&gt;<br>&gt; On Thu, 10 Dec 2015 at 22:39 Gage Morgan via swift-users &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt; So, if I had this code written in C:<br>&gt;<br>&gt; int<br>&gt; main (int argc, char *argv[])<br>&gt; {<br>&gt;         cairo_surface_t *surface =<br>&gt;             cairo_image_surface_create (CAIRO_FORMAT_ARGB32, 240, 80);<br>&gt;         cairo_t *cr =<br>&gt;             cairo_create (surface);<br>&gt;<br>&gt;         cairo_select_font_face (cr, &quot;serif&quot;, CAIRO_FONT_SLANT_NORMAL, CAIRO_FONT_WEIGHT_BOLD);<br>&gt;         cairo_set_font_size (cr, 32.0);<br>&gt;         cairo_set_source_rgb (cr, 0.0, 0.0, 1.0);<br>&gt;         cairo_move_to (cr, 10.0, 50.0);<br>&gt;         cairo_show_text (cr, &quot;Hello, world&quot;);<br>&gt;<br>&gt;         cairo_destroy (cr);<br>&gt;         cairo_surface_write_to_png (surface, &quot;hello.png&quot;);<br>&gt;         cairo_surface_destroy (surface);<br>&gt;         return 0;<br>&gt; }<br>&gt;<br>&gt; how would I output to Swift? If I can get one or two examples, I&#39;ll be closer to finished with using Cairo in Swift.<br>&gt;<br>&gt;<br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users &lt;https://lists.swift.org/mailman/listinfo/swift-users&gt;<br>&gt;<br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/9572693e/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8ae34e6aaf28c0e1fe929f36897d107e?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Harlan Haskins</string> &lt;harlan at harlanhaskins.com&gt;<p>December 11, 2015 at 03:00:00pm</p></header><div class="content"><p>So, it’s a very simple almost one-to-one translation of that C code block to Swift.<br>You have to make sure to import CCairo at the beginning of the file, and change the variable declarations to use let instead of the C declaration.<br></p><p>This works for me, as is.<br></p><p>import CCairo<br></p><p>let surface = cairo_image_surface_create(CAIRO_FORMAT_ARGB32, 240, 80)<br>let cr = cairo_create (surface);<br></p><p>cairo_select_font_face(cr, &quot;serif&quot;, CAIRO_FONT_SLANT_NORMAL, CAIRO_FONT_WEIGHT_BOLD)<br>cairo_set_font_size(cr, 32.0)<br>cairo_set_source_rgb(cr, 0.0, 0.0, 1.0)<br>cairo_move_to(cr, 10.0, 50.0)<br>cairo_show_text(cr, &quot;Hello, world&quot;)<br></p><p>cairo_destroy(cr)<br>cairo_surface_write_to_png(surface, &quot;hello.png&quot;)<br>cairo_surface_destroy(surface)<br></p><p>&gt; On Dec 11, 2015, at 3:21 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Do so here in a few. Want a bug report for that?<br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 12:08 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com &lt;mailto:harlan at harlanhaskins.com&gt;&gt; wrote:<br>&gt; <br>&gt; Mind sending your CCairo modulemap?<br>&gt; <br>&gt; I’d love to help you get this translated to Swift.<br>&gt; <br>&gt;&gt; On Dec 11, 2015, at 2:44 PM, Gage Morgan via swift-users &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; I want to call PNG surfaces from Swift, as well as use cairo_line_to() and cairo_move_to() in Swift. Thing is, I need an example of cairo used in Swift so I can apply it to the rest of cairo. <br>&gt;&gt; <br>&gt;&gt; My goal is to generate an executable that outputs *.png images using swift. <br>&gt;&gt; <br>&gt;&gt; Thanks for the support,<br>&gt;&gt; --MGage--<br>&gt;&gt; <br>&gt;&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; On Thu, Dec 10, 2015 at 10:40 PM -0800, &quot;Jason Dusek&quot; &lt;jason.dusek at gmail.com &lt;mailto:jason.dusek at gmail.com&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; When you say, output to Swift, do you mean, call it from Swift? Return the PNG or surface to Swift?<br>&gt;&gt; <br>&gt;&gt; On Thu, 10 Dec 2015 at 22:39 Gage Morgan via swift-users &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt;&gt; So, if I had this code written in C:<br>&gt;&gt; <br>&gt;&gt; int<br>&gt;&gt; main (int argc, char *argv[])<br>&gt;&gt; {<br>&gt;&gt;         cairo_surface_t *surface =<br>&gt;&gt;             cairo_image_surface_create (CAIRO_FORMAT_ARGB32, 240, 80);<br>&gt;&gt;         cairo_t *cr =<br>&gt;&gt;             cairo_create (surface);<br>&gt;&gt; <br>&gt;&gt;         cairo_select_font_face (cr, &quot;serif&quot;, CAIRO_FONT_SLANT_NORMAL, CAIRO_FONT_WEIGHT_BOLD);<br>&gt;&gt;         cairo_set_font_size (cr, 32.0);<br>&gt;&gt;         cairo_set_source_rgb (cr, 0.0, 0.0, 1.0);<br>&gt;&gt;         cairo_move_to (cr, 10.0, 50.0);<br>&gt;&gt;         cairo_show_text (cr, &quot;Hello, world&quot;);<br>&gt;&gt; <br>&gt;&gt;         cairo_destroy (cr);<br>&gt;&gt;         cairo_surface_write_to_png (surface, &quot;hello.png&quot;);<br>&gt;&gt;         cairo_surface_destroy (surface);<br>&gt;&gt;         return 0;<br>&gt;&gt; }<br>&gt;&gt; <br>&gt;&gt; how would I output to Swift? If I can get one or two examples, I&#39;ll be closer to finished with using Cairo in Swift.<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-users mailing list<br>&gt;&gt; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-users &lt;https://lists.swift.org/mailman/listinfo/swift-users&gt;<br>&gt;&gt; <br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-users mailing list<br>&gt;&gt; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/92262a1b/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 03:00:00pm</p></header><div class="content"><p>Sir, you&#39;ve just made my day. So it&#39;s really that simple?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 15:24:48 -0500<br>CC: jason.dusek at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>So, it’s a very simple almost one-to-one translation of that C code block to Swift.You have to make sure to import CCairo at the beginning of the file, and change the variable declarations to use let instead of the C declaration.<br>This works for me, as is.<br></p><p>import CCairo<br>let surface = cairo_image_surface_create(CAIRO_FORMAT_ARGB32, 240, 80)let cr = cairo_create (surface);<br>cairo_select_font_face(cr, &quot;serif&quot;, CAIRO_FONT_SLANT_NORMAL, CAIRO_FONT_WEIGHT_BOLD)cairo_set_font_size(cr, 32.0)cairo_set_source_rgb(cr, 0.0, 0.0, 1.0)cairo_move_to(cr, 10.0, 50.0)cairo_show_text(cr, &quot;Hello, world&quot;)<br>cairo_destroy(cr)cairo_surface_write_to_png(surface, &quot;hello.png&quot;)cairo_surface_destroy(surface)<br>On Dec 11, 2015, at 3:21 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Do so here in a few. Want a bug report for that?<br></p><p><br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p><br></p><p><br></p><p><br></p><p>On Fri, Dec 11, 2015 at 12:08 PM -0800, &quot;Harlan Haskins&quot;<br>&lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p><br></p><p><br>Mind sending your CCairo modulemap?<br></p><p><br></p><p>I’d love to help you get this translated to Swift.<br></p><p><br></p><p><br>On Dec 11, 2015, at 2:44 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p>I want to call PNG surfaces from Swift, as well as use cairo_line_to() and cairo_move_to() in Swift. Thing is, I need an example of cairo used in Swift so I can apply it to the rest of cairo. <br></p><p><br></p><p>My goal is to generate an executable that outputs *.png images using swift. <br></p><p><br></p><p>Thanks for the support,<br>--MGage--<br></p><p><br></p><p>Sent from <br>Outlook Mobile<br></p><p><br></p><p><br></p><p><br></p><p><br></p><p>On Thu, Dec 10, 2015 at 10:40 PM -0800, &quot;Jason Dusek&quot; <br>&lt;jason.dusek at gmail.com&gt; wrote:<br></p><p><br></p><p><br></p><p>When you say, output to Swift, do you mean, call it from Swift? Return the PNG or surface to Swift?<br></p><p><br></p><p>On Thu, 10 Dec 2015 at 22:39 Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br>So, if I had this code written in C:<br></p><p><br></p><p><br>int<br>main (int argc, char *argv[])<br>{<br>        cairo_surface_t *surface =<br>            cairo_image_surface_create (CAIRO_FORMAT_ARGB32, 240, 80);<br>        cairo_t *cr =<br>            cairo_create (surface);<br></p><p>        cairo_select_font_face (cr, &quot;serif&quot;, CAIRO_FONT_SLANT_NORMAL, CAIRO_FONT_WEIGHT_BOLD);<br>        cairo_set_font_size (cr, 32.0);<br>        cairo_set_source_rgb (cr, 0.0, 0.0, 1.0);<br>        cairo_move_to (cr, 10.0, 50.0);<br>        cairo_show_text (cr, &quot;Hello, world&quot;);<br></p><p>        cairo_destroy (cr);<br>        cairo_surface_write_to_png (surface, &quot;hello.png&quot;);<br>        cairo_surface_destroy (surface);<br>        return 0;<br>}<br></p><p><br></p><p><br>how would I output to Swift? If I can get one or two examples, I&#39;ll be closer to finished with using Cairo in Swift.<br></p><p><br></p><p><br></p><p><br>_______________________________________________<br></p><p>swift-users mailing list<br></p><p>swift-users at swift.org<br></p><p>https://lists.swift.org/mailman/listinfo/swift-users<br></p><p><br></p><p><br></p><p><br>_______________________________________________<br></p><p>swift-users mailing list<br></p><p>swift-users at swift.org<br></p><p>https://lists.swift.org/mailman/listinfo/swift-users<br></p><p><br></p><p><br></p><p><br></p><p><br></p><p><br></p><p> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/08e82321/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/34cd360a799c6cbf3ddcd69e6498b77f?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Farhan Ahmed</string> &lt;inshany at gmail.com&gt;<p>December 11, 2015 at 12:00:00pm</p></header><div class="content"><p>That is awesome!<br></p><p>Best,<br>Farhan<br></p></div></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8ae34e6aaf28c0e1fe929f36897d107e?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Harlan Haskins</string> &lt;harlan at harlanhaskins.com&gt;<p>December 11, 2015 at 03:00:00pm</p></header><div class="content"><p>It’s deceptively simple!<br></p><p>Using just the functions exposed by cairo will be a piece of cake. The code will look almost exactly the same and work just as fast/well.<br></p><p>However, bridging the C has some nasty effects to the types of your Swift code. For example, surface is of type COpaquePointer which is really unhelpful.<br></p><p>It’d probably be a great exercise for you and the community to make nice, Swifty wrappers around Cairo to allow people to write beautiful, Cairo-using code.<br></p><p>Like this, except with an actual understanding of libcairo: https://gist.github.com/6b96a1e0ec1ef838b5ea<br></p><p>Best,<br>Harlan<br></p><p><br>&gt; On Dec 11, 2015, at 3:31 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Sir, you&#39;ve just made my day. So it&#39;s really that simple?<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com &lt;mailto:harlan at harlanhaskins.com&gt;<br>&gt; Date: Fri, 11 Dec 2015 15:24:48 -0500<br>&gt; CC: jason.dusek at gmail.com &lt;mailto:jason.dusek at gmail.com&gt;; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; To: gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;<br>&gt; <br>&gt; So, it’s a very simple almost one-to-one translation of that C code block to Swift.<br>&gt; You have to make sure to import CCairo at the beginning of the file, and change the variable declarations to use let instead of the C declaration.<br>&gt; <br>&gt; This works for me, as is.<br>&gt; <br>&gt; import CCairo<br>&gt; <br>&gt; let surface = cairo_image_surface_create(CAIRO_FORMAT_ARGB32, 240, 80)<br>&gt; let cr = cairo_create (surface);<br>&gt; <br>&gt; cairo_select_font_face(cr, &quot;serif&quot;, CAIRO_FONT_SLANT_NORMAL, CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo_set_font_size(cr, 32.0)<br>&gt; cairo_set_source_rgb(cr, 0.0, 0.0, 1.0)<br>&gt; cairo_move_to(cr, 10.0, 50.0)<br>&gt; cairo_show_text(cr, &quot;Hello, world&quot;)<br>&gt; <br>&gt; cairo_destroy(cr)<br>&gt; cairo_surface_write_to_png(surface, &quot;hello.png&quot;)<br>&gt; cairo_surface_destroy(surface)<br>&gt; <br>&gt; On Dec 11, 2015, at 3:21 PM, Gage Morgan &lt;gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;&gt; wrote:<br>&gt; <br>&gt; Do so here in a few. Want a bug report for that?<br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 12:08 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com &lt;mailto:harlan at harlanhaskins.com&gt;&gt; wrote:<br>&gt; <br>&gt; Mind sending your CCairo modulemap?<br>&gt; <br>&gt; I’d love to help you get this translated to Swift.<br>&gt; <br>&gt; On Dec 11, 2015, at 2:44 PM, Gage Morgan via swift-users &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt; <br>&gt; I want to call PNG surfaces from Swift, as well as use cairo_line_to() and cairo_move_to() in Swift. Thing is, I need an example of cairo used in Swift so I can apply it to the rest of cairo. <br>&gt; <br>&gt; My goal is to generate an executable that outputs *.png images using swift. <br>&gt; <br>&gt; Thanks for the support,<br>&gt; --MGage--<br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; On Thu, Dec 10, 2015 at 10:40 PM -0800, &quot;Jason Dusek&quot; &lt;jason.dusek at gmail.com &lt;mailto:jason.dusek at gmail.com&gt;&gt; wrote:<br>&gt; <br>&gt; When you say, output to Swift, do you mean, call it from Swift? Return the PNG or surface to Swift?<br>&gt; <br>&gt; On Thu, 10 Dec 2015 at 22:39 Gage Morgan via swift-users &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt; So, if I had this code written in C:<br>&gt; <br>&gt; int<br>&gt; main (int argc, char *argv[])<br>&gt; {<br>&gt;         cairo_surface_t *surface =<br>&gt;             cairo_image_surface_create (CAIRO_FORMAT_ARGB32, 240, 80);<br>&gt;         cairo_t *cr =<br>&gt;             cairo_create (surface);<br>&gt; <br>&gt;         cairo_select_font_face (cr, &quot;serif&quot;, CAIRO_FONT_SLANT_NORMAL, CAIRO_FONT_WEIGHT_BOLD);<br>&gt;         cairo_set_font_size (cr, 32.0);<br>&gt;         cairo_set_source_rgb (cr, 0.0, 0.0, 1.0);<br>&gt;         cairo_move_to (cr, 10.0, 50.0);<br>&gt;         cairo_show_text (cr, &quot;Hello, world&quot;);<br>&gt; <br>&gt;         cairo_destroy (cr);<br>&gt;         cairo_surface_write_to_png (surface, &quot;hello.png&quot;);<br>&gt;         cairo_surface_destroy (surface);<br>&gt;         return 0;<br>&gt; }<br>&gt; <br>&gt; how would I output to Swift? If I can get one or two examples, I&#39;ll be closer to finished with using Cairo in Swift.<br>&gt; <br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users &lt;https://lists.swift.org/mailman/listinfo/swift-users&gt;<br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users &lt;https://lists.swift.org/mailman/listinfo/swift-users&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/98fa2a6d/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 04:00:00pm</p></header><div class="content"><p>Could you put some comments explaining what you did in that code? I wouldn&#39;t mind learning to write some wrappers...it&#39;s inevitable in the end anyways.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 15:46:21 -0500<br>CC: jason.dusek at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>It’s deceptively simple!<br>Using just the functions exposed by cairo will be a piece of cake. The code will look almost exactly the same and work just as fast/well.<br>However, bridging the C has some nasty effects to the types of your Swift code. For example, surface is of type COpaquePointer which is really unhelpful.<br>It’d probably be a great exercise for you and the community to make nice, Swifty wrappers around Cairo to allow people to write beautiful, Cairo-using code.<br>Like this, except with an actual understanding of libcairo: https://gist.github.com/6b96a1e0ec1ef838b5ea<br>Best,Harlan<br></p><p>On Dec 11, 2015, at 3:31 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Sir, you&#39;ve just made my day. So it&#39;s really that simple?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 15:24:48 -0500<br>CC: jason.dusek at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>So, it’s a very simple almost one-to-one translation of that C code block to Swift.You have to make sure to import CCairo at the beginning of the file, and change the variable declarations to use let instead of the C declaration.<br>This works for me, as is.<br></p><p>import CCairo<br>let surface = cairo_image_surface_create(CAIRO_FORMAT_ARGB32, 240, 80)let cr = cairo_create (surface);<br>cairo_select_font_face(cr, &quot;serif&quot;, CAIRO_FONT_SLANT_NORMAL, CAIRO_FONT_WEIGHT_BOLD)cairo_set_font_size(cr, 32.0)cairo_set_source_rgb(cr, 0.0, 0.0, 1.0)cairo_move_to(cr, 10.0, 50.0)cairo_show_text(cr, &quot;Hello, world&quot;)<br>cairo_destroy(cr)cairo_surface_write_to_png(surface, &quot;hello.png&quot;)cairo_surface_destroy(surface)<br>On Dec 11, 2015, at 3:21 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Do so here in a few. Want a bug report for that?<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 12:08 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p>Mind sending your CCairo modulemap?<br>I’d love to help you get this translated to Swift.<br>On Dec 11, 2015, at 2:44 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:I want to call PNG surfaces from Swift, as well as use cairo_line_to() and cairo_move_to() in Swift. Thing is, I need an example of cairo used in Swift so I can apply it to the rest of cairo. <br>My goal is to generate an executable that outputs *.png images using swift. <br>Thanks for the support,--MGage--<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Thu, Dec 10, 2015 at 10:40 PM -0800, &quot;Jason Dusek&quot; &lt;jason.dusek at gmail.com&gt; wrote:<br></p><p>When you say, output to Swift, do you mean, call it from Swift? Return the PNG or surface to Swift?<br>On Thu, 10 Dec 2015 at 22:39 Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>So, if I had this code written in C:<br>int<br>main (int argc, char *argv[])<br>{<br>        cairo_surface_t *surface =<br>            cairo_image_surface_create (CAIRO_FORMAT_ARGB32, 240, 80);<br>        cairo_t *cr =<br>            cairo_create (surface);<br></p><p>        cairo_select_font_face (cr, &quot;serif&quot;, CAIRO_FONT_SLANT_NORMAL, CAIRO_FONT_WEIGHT_BOLD);<br>        cairo_set_font_size (cr, 32.0);<br>        cairo_set_source_rgb (cr, 0.0, 0.0, 1.0);<br>        cairo_move_to (cr, 10.0, 50.0);<br>        cairo_show_text (cr, &quot;Hello, world&quot;);<br></p><p>        cairo_destroy (cr);<br>        cairo_surface_write_to_png (surface, &quot;hello.png&quot;);<br>        cairo_surface_destroy (surface);<br>        return 0;<br>}<br>how would I output to Swift? If I can get one or two examples, I&#39;ll be closer to finished with using Cairo in Swift.<br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/b90bddb0/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/355cfb661f7d21135ffd756f4059d982?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Kwame Bryan</string> &lt;kwame.bryan at gmail.com&gt;<p>December 11, 2015 at 04:00:00pm</p></header><div class="content"><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html &lt;http://chris.eidhof.nl/posts/swift-c-interop.html&gt; <br></p><p>Regards<br>Kwame<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/98f30a97/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 09:00:00pm</p></header><div class="content"><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p><br>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot; &lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p><br></p><p><br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html &lt;http://chris.eidhof.nl/posts/swift-c-interop.html&gt;<br></p><p>Regards<br>Kwame<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/8b8381e3/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 10:00:00pm</p></header><div class="content"><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines.<br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p><br>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p><br>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot; &lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p><br></p><p><br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html &lt;http://chris.eidhof.nl/posts/swift-c-interop.html&gt;<br></p><p>Regards<br>Kwame<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/086579e3/attachment.html&gt;<br>-------------- next part --------------<br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 10:00:00pm</p></header><div class="content"><p>Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo&quot;?<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p><br>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines.<br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p><br>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p><br>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot; &lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p><br></p><p><br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html &lt;http://chris.eidhof.nl/posts/swift-c-interop.html&gt;<br></p><p>Regards<br>Kwame<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/4919268a/attachment.html&gt;<br>-------------- next part --------------<br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br>-------------- next part --------------<br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8ae34e6aaf28c0e1fe929f36897d107e?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Harlan Haskins</string> &lt;harlan at harlanhaskins.com&gt;<p>December 11, 2015 at 05:00:00pm</p></header><div class="content"><p>Gage,<br></p><p>Sorry, I just got back from class.<br></p><p>I’ll respond in line!<br></p><p>&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; I read on cairographics.org &lt;http://cairographics.org/&gt; about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt; <br>&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo.setFontSize(32.0)<br>&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt; cairo.moveTo(x: 10, y: 50)<br>&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt; <br>&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt; <br>&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt; <br>&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br></p><p>There’s an example of using those modules together.<br></p><p>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt; <br>&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot; &lt;kwame.bryan at gmail.com &lt;mailto:kwame.bryan at gmail.com&gt;&gt; wrote:<br>&gt; <br>&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html &lt;http://chris.eidhof.nl/posts/swift-c-interop.html&gt; <br>&gt; <br>&gt; Regards<br>&gt; Kwame<br>&gt; <br>&gt; <br>&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/c4391d9f/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 07:00:00pm</p></header><div class="content"><p>Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Harlan,<br></p><p><br></p><p>I read on <br>cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br></p><p><br></p><p>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>cairo.setFontSize(32.0)<br>cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>cairo.moveTo(x: 10, y: 50)<br>cairo.showText(&quot;Hello, World!&quot;)<br>cairo.writeToPNG(&quot;hello.png&quot;)<br></p><p><br></p><p>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p><br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p><br></p><p><br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot;<br>&lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more<br> verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br></p><p><br></p><p>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p><br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot;<br>&lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p><br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;<br>&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p><br></p><p><br>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br></p><p><br></p><p>Regards<br>Kwame<br></p><p><br></p><p><br></p><p><br></p><p>&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/cf301a99/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/ec21faaf010581d3b9d6ef507644e622?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Jack Lawrence</string> &lt;jackl at apple.com&gt;<p>December 11, 2015 at 04:00:00pm</p></header><div class="content"><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br></p><p>cairo.setLineWidth(0.1) // old<br>cairo.lineWidth = 0.1 // new<br></p><p>&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; cairo.scale(10.0, y: 10.0)<br>&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt; cairo.setLineWidth(0.1)<br>&gt; cairo.stroke()<br>&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; <br>&gt; Swift is both really neat and really frustrating when learning it. <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com &lt;mailto:harlan at harlanhaskins.com&gt;<br>&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt; CC: kwame.bryan at gmail.com &lt;mailto:kwame.bryan at gmail.com&gt;; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; To: gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;<br>&gt; <br>&gt; Gage,<br>&gt; <br>&gt; Sorry, I just got back from class.<br>&gt; <br>&gt; I’ll respond in line!<br>&gt; <br>&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; I read on cairographics.org &lt;http://cairographics.org/&gt; about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt; <br>&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo.setFontSize(32.0)<br>&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt; cairo.moveTo(x: 10, y: 50)<br>&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt; <br>&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt; <br>&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt; <br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt; <br>&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt; <br>&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation &lt;http://github.com/Christoffen-Corporation&gt;. <br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md &lt;https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md&gt;<br>&gt; <br>&gt; There’s an example of using those modules together.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt; <br>&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com &lt;mailto:kwame.bryan at gmail.com&gt;&gt; wrote:<br>&gt; <br>&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html &lt;http://chris.eidhof.nl/posts/swift-c-interop.html&gt; <br>&gt; <br>&gt; Regards<br>&gt; Kwame<br>&gt; <br>&gt; <br>&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt; <br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users &lt;https://lists.swift.org/mailman/listinfo/swift-users&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/d2ffdf9c/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8ae34e6aaf28c0e1fe929f36897d107e?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Harlan Haskins</string> &lt;harlan at harlanhaskins.com&gt;<p>December 11, 2015 at 07:00:00pm</p></header><div class="content"><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br></p><p>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br></p><p>&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br>&gt; <br>&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt; <br>&gt; cairo.setLineWidth(0.1) // old<br>&gt; cairo.lineWidth = 0.1 // new<br>&gt; <br>&gt;&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Harlan,<br>&gt;&gt; <br>&gt;&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt;&gt; <br>&gt;&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;&gt; cairo.scale(10.0, y: 10.0)<br>&gt;&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt;&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt;&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt;&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt;&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt;&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt;&gt; cairo.setLineWidth(0.1)<br>&gt;&gt; cairo.stroke()<br>&gt;&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt;&gt; <br>&gt;&gt; Swift is both really neat and really frustrating when learning it. <br>&gt;&gt; <br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt;&gt; CC: kwame.bryan at gmail.com; swift-users at swift.org<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt; <br>&gt;&gt; Gage,<br>&gt;&gt; <br>&gt;&gt; Sorry, I just got back from class.<br>&gt;&gt; <br>&gt;&gt; I’ll respond in line!<br>&gt;&gt; <br>&gt;&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Harlan,<br>&gt;&gt; <br>&gt;&gt; I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt;&gt; <br>&gt;&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt;&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt;&gt; cairo.setFontSize(32.0)<br>&gt;&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt;&gt; cairo.moveTo(x: 10, y: 50)<br>&gt;&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt;&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt;&gt; <br>&gt;&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt;&gt; <br>&gt;&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; Sent from Outlook Mobile<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt;&gt; <br>&gt;&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br>&gt;&gt; <br>&gt;&gt; Sent from Outlook Mobile<br>&gt;&gt; <br>&gt;&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>&gt;&gt; <br>&gt;&gt; There’s an example of using those modules together.<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt;&gt; <br>&gt;&gt; Sent from Outlook Mobile<br>&gt;&gt; <br>&gt;&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>&gt;&gt; <br>&gt;&gt; Regards<br>&gt;&gt; Kwame<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt;&gt; <br>&gt;&gt;  _______________________________________________<br>&gt;&gt; swift-users mailing list<br>&gt;&gt; swift-users at swift.org<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/4ca71252/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 07:00:00pm</p></header><div class="content"><p>How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)Why can I not call Cairo()? The error:Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)            ~~~~~^&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I don&#39;t know whether or not I want to translate methods into straight-up properties yet.Thanks, support here has been great so far. Cheers!--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 19:35:46 -0500<br>CC: gagemorgan at outlook.com; swift-users at swift.org<br>To: jackl at apple.com<br></p><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br></p><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>cairo.setLineWidth(0.1) // oldcairo.lineWidth = 0.1 // new<br>On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>RegardsKwame&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> _______________________________________________swift-users mailing listswift-users at swift.orghttps://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/2d1769ea/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8ae34e6aaf28c0e1fe929f36897d107e?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Harlan Haskins</string> &lt;harlan at harlanhaskins.com&gt;<p>December 11, 2015 at 08:00:00pm</p></header><div class="content"><p>Is your struct named Cairo or Surface?<br></p><p>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br></p><p>&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; <br>&gt; Why can I not call Cairo()? The error:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;             ~~~~~^<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt; <br>&gt; Thanks, support here has been great so far. Cheers!<br>&gt; --MGage--<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt; CC: gagemorgan at outlook.com; swift-users at swift.org<br>&gt; To: jackl at apple.com<br>&gt; <br>&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter <br>&gt; <br>&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br>&gt; <br>&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt; <br>&gt; cairo.setLineWidth(0.1) // old<br>&gt; cairo.lineWidth = 0.1 // new<br>&gt; <br>&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; cairo.scale(10.0, y: 10.0)<br>&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt; cairo.setLineWidth(0.1)<br>&gt; cairo.stroke()<br>&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; <br>&gt; Swift is both really neat and really frustrating when learning it. <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt; CC: kwame.bryan at gmail.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gage,<br>&gt; <br>&gt; Sorry, I just got back from class.<br>&gt; <br>&gt; I’ll respond in line!<br>&gt; <br>&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt; <br>&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo.setFontSize(32.0)<br>&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt; cairo.moveTo(x: 10, y: 50)<br>&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt; <br>&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt; <br>&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt; <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt; <br>&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>&gt; <br>&gt; There’s an example of using those modules together.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br>&gt; <br>&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>&gt; <br>&gt; Regards<br>&gt; Kwame<br>&gt; <br>&gt; <br>&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt; <br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/2c175ea9/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 12, 2015 at 01:00:00am</p></header><div class="content"><p>The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p><br>On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p><br></p><p><br></p><p>Is your struct named Cairo or Surface?<br></p><p>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br></p><p>&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;<br>&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;<br>&gt; Why can I not call Cairo()? The error:<br>&gt;<br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;             ~~~~~^<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;<br>&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt;<br>&gt; Thanks, support here has been great so far. Cheers!<br>&gt; --MGage--<br>&gt;<br>&gt;<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt; CC: gagemorgan at outlook.com; swift-users at swift.org<br>&gt; To: jackl at apple.com<br>&gt;<br>&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter<br>&gt;<br>&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt;<br>&gt; - Harlan<br>&gt;<br>&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br>&gt;<br>&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt;<br>&gt; cairo.setLineWidth(0.1) // old<br>&gt; cairo.lineWidth = 0.1 // new<br>&gt;<br>&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt;<br>&gt; Harlan,<br>&gt;<br>&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; cairo.scale(10.0, y: 10.0)<br>&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt; cairo.setLineWidth(0.1)<br>&gt; cairo.stroke()<br>&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt;<br>&gt; Swift is both really neat and really frustrating when learning it.<br>&gt;<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt; CC: kwame.bryan at gmail.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt;<br>&gt; Gage,<br>&gt;<br>&gt; Sorry, I just got back from class.<br>&gt;<br>&gt; I’ll respond in line!<br>&gt;<br>&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;<br>&gt; Harlan,<br>&gt;<br>&gt; I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt;<br>&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo.setFontSize(32.0)<br>&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt; cairo.moveTo(x: 10, y: 50)<br>&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt;<br>&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt;<br>&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt;<br>&gt;<br>&gt; Sent from Outlook Mobile<br>&gt;<br>&gt;<br>&gt;<br>&gt;<br>&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt;<br>&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines.<br>&gt;<br>&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation.<br>&gt;<br>&gt; Sent from Outlook Mobile<br>&gt;<br>&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>&gt;<br>&gt; There’s an example of using those modules together.<br>&gt;<br>&gt;<br>&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt;<br>&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo.<br>&gt;<br>&gt; Sent from Outlook Mobile<br>&gt;<br>&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt;<br>&gt;<br>&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br>&gt;<br>&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html<br>&gt;<br>&gt; Regards<br>&gt; Kwame<br>&gt;<br>&gt;<br>&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt;<br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151212/673137ca/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8ae34e6aaf28c0e1fe929f36897d107e?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Harlan Haskins</string> &lt;harlan at harlanhaskins.com&gt;<p>December 11, 2015 at 08:00:00pm</p></header><div class="content"><p>Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br></p><p>Cairo.Cairo should work fine.<br></p><p>&gt; On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com &lt;mailto:harlan at harlanhaskins.com&gt;&gt; wrote:<br>&gt; <br>&gt; Is your struct named Cairo or Surface?<br>&gt; <br>&gt; If Cairo is the module name, you&#39;re trying to instantiate the module.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;&gt; wrote:<br>&gt; <br>&gt;&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt;&gt; <br>&gt;&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;&gt; <br>&gt;&gt; Why can I not call Cairo()? The error:<br>&gt;&gt; <br>&gt;&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt;&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;&gt;             ~~~~~^<br>&gt;&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt;&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;&gt; <br>&gt;&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt;&gt; <br>&gt;&gt; Thanks, support here has been great so far. Cheers!<br>&gt;&gt; --MGage--<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com &lt;mailto:harlan at harlanhaskins.com&gt;<br>&gt;&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt;&gt; CC: gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt;&gt; To: jackl at apple.com &lt;mailto:jackl at apple.com&gt;<br>&gt;&gt; <br>&gt;&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter <br>&gt;&gt; <br>&gt;&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt;&gt; <br>&gt;&gt; - Harlan<br>&gt;&gt; <br>&gt;&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com &lt;mailto:jackl at apple.com&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt;&gt; <br>&gt;&gt; cairo.setLineWidth(0.1) // old<br>&gt;&gt; cairo.lineWidth = 0.1 // new<br>&gt;&gt; <br>&gt;&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Harlan,<br>&gt;&gt; <br>&gt;&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt;&gt; <br>&gt;&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;&gt; cairo.scale(10.0, y: 10.0)<br>&gt;&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt;&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt;&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt;&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt;&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt;&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt;&gt; cairo.setLineWidth(0.1)<br>&gt;&gt; cairo.stroke()<br>&gt;&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt;&gt; <br>&gt;&gt; Swift is both really neat and really frustrating when learning it. <br>&gt;&gt; <br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com &lt;mailto:harlan at harlanhaskins.com&gt;<br>&gt;&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt;&gt; CC: kwame.bryan at gmail.com &lt;mailto:kwame.bryan at gmail.com&gt;; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt;&gt; To: gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;<br>&gt;&gt; <br>&gt;&gt; Gage,<br>&gt;&gt; <br>&gt;&gt; Sorry, I just got back from class.<br>&gt;&gt; <br>&gt;&gt; I’ll respond in line!<br>&gt;&gt; <br>&gt;&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Harlan,<br>&gt;&gt; <br>&gt;&gt; I read on cairographics.org &lt;http://cairographics.org/&gt; about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt;&gt; <br>&gt;&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt;&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt;&gt; cairo.setFontSize(32.0)<br>&gt;&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt;&gt; cairo.moveTo(x: 10, y: 50)<br>&gt;&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt;&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt;&gt; <br>&gt;&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt;&gt; <br>&gt;&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt;&gt; <br>&gt;&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation &lt;http://github.com/Christoffen-Corporation&gt;. <br>&gt;&gt; <br>&gt;&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt;&gt; <br>&gt;&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md &lt;https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md&gt;<br>&gt;&gt; <br>&gt;&gt; There’s an example of using those modules together.<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt;&gt; <br>&gt;&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt;&gt; <br>&gt;&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com &lt;mailto:kwame.bryan at gmail.com&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html &lt;http://chris.eidhof.nl/posts/swift-c-interop.html&gt; <br>&gt;&gt; <br>&gt;&gt; Regards<br>&gt;&gt; Kwame<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt;&gt; <br>&gt;&gt;  _______________________________________________<br>&gt;&gt; swift-users mailing list<br>&gt;&gt; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-users &lt;https://lists.swift.org/mailman/listinfo/swift-users&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/92fae5cd/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 09:00:00pm</p></header><div class="content"><p>Here&#39;s what I&#39;m getting:<br>/home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~ ~~~~~~~&lt;unknown&gt;:0: error: build had 1 command failures<br>So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 20:31:20 -0500<br>CC: jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>Cairo.Cairo should work fine.<br>On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br></p><p>Sent from Outlook Mobile<br>On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p>Is your struct named Cairo or Surface?<br>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p>How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)Why can I not call Cairo()? The error:Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)            ~~~~~^&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I don&#39;t know whether or not I want to translate methods into straight-up properties yet.Thanks, support here has been great so far. Cheers!--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 19:35:46 -0500<br>CC: gagemorgan at outlook.com; swift-users at swift.org<br>To: jackl at apple.com<br></p><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br></p><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>cairo.setLineWidth(0.1) // oldcairo.lineWidth = 0.1 // new<br>On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>RegardsKwame&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> _______________________________________________swift-users mailing listswift-users at swift.orghttps://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/800e0ce1/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8ae34e6aaf28c0e1fe929f36897d107e?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Harlan Haskins</string> &lt;harlan at harlanhaskins.com&gt;<p>December 11, 2015 at 09:00:00pm</p></header><div class="content"><p>If they&#39;re not the same name, you don&#39;t need Cairo.Surface, just Surface.<br></p><p>Sent from my iPhone<br></p><p>&gt; On Dec 11, 2015, at 9:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what I&#39;m getting:<br>&gt; <br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;<br>&gt; let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~ ~~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; <br>&gt; So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 20:31:20 -0500<br>&gt; CC: jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>&gt; <br>&gt; Cairo.Cairo should work fine.<br>&gt; <br>&gt; On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br>&gt; <br>&gt; Is your struct named Cairo or Surface?<br>&gt; <br>&gt; If Cairo is the module name, you&#39;re trying to instantiate the module.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; <br>&gt; Why can I not call Cairo()? The error:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;             ~~~~~^<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt; <br>&gt; Thanks, support here has been great so far. Cheers!<br>&gt; --MGage--<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt; CC: gagemorgan at outlook.com; swift-users at swift.org<br>&gt; To: jackl at apple.com<br>&gt; <br>&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter <br>&gt; <br>&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br>&gt; <br>&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt; <br>&gt; cairo.setLineWidth(0.1) // old<br>&gt; cairo.lineWidth = 0.1 // new<br>&gt; <br>&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; cairo.scale(10.0, y: 10.0)<br>&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt; cairo.setLineWidth(0.1)<br>&gt; cairo.stroke()<br>&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; <br>&gt; Swift is both really neat and really frustrating when learning it. <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt; CC: kwame.bryan at gmail.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gage,<br>&gt; <br>&gt; Sorry, I just got back from class.<br>&gt; <br>&gt; I’ll respond in line!<br>&gt; <br>&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt; <br>&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo.setFontSize(32.0)<br>&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt; cairo.moveTo(x: 10, y: 50)<br>&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt; <br>&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt; <br>&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt; <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt; <br>&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>&gt; <br>&gt; There’s an example of using those modules together.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br>&gt; <br>&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>&gt; <br>&gt; Regards<br>&gt; Kwame<br>&gt; <br>&gt; <br>&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt; <br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/839cb158/attachment.html&gt;<br></p></div></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/c4fe988326eed161b989d0c5521cb105?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Jordan Rose</string> &lt;jordan_rose at apple.com&gt;<p>December 11, 2015 at 06:00:00pm</p></header><div class="content"><p>If you&#39;re using multiple modules, then you&#39;ll need to define which parts of your API are intended to be used from outside the module. That means using the &#39;public&#39; keyword. Swift takes publishing API seriously, so &#39;public&#39; is never* inferred.<br></p><p>Jordan<br></p><p>* technically &quot;almost never&quot;<br></p><p><br>&gt; On Dec 11, 2015, at 18:16 , Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what I&#39;m getting:<br>&gt; <br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;<br>&gt; let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~ ~~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; <br>&gt; So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com &lt;mailto:harlan at harlanhaskins.com&gt;<br>&gt; Date: Fri, 11 Dec 2015 20:31:20 -0500<br>&gt; CC: jackl at apple.com &lt;mailto:jackl at apple.com&gt;; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; To: gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;<br>&gt; <br>&gt; Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>&gt; <br>&gt; Cairo.Cairo should work fine.<br>&gt; <br>&gt; On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;&gt; wrote:<br>&gt; <br>&gt; The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com &lt;mailto:harlan at harlanhaskins.com&gt;&gt; wrote:<br>&gt; <br>&gt; Is your struct named Cairo or Surface?<br>&gt; <br>&gt; If Cairo is the module name, you&#39;re trying to instantiate the module.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;&gt; wrote:<br>&gt; <br>&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; <br>&gt; Why can I not call Cairo()? The error:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;             ~~~~~^<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt; <br>&gt; Thanks, support here has been great so far. Cheers!<br>&gt; --MGage--<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com &lt;mailto:harlan at harlanhaskins.com&gt;<br>&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt; CC: gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; To: jackl at apple.com &lt;mailto:jackl at apple.com&gt;<br>&gt; <br>&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter <br>&gt; <br>&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com &lt;mailto:jackl at apple.com&gt;&gt; wrote:<br>&gt; <br>&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt; <br>&gt; cairo.setLineWidth(0.1) // old<br>&gt; cairo.lineWidth = 0.1 // new<br>&gt; <br>&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; cairo.scale(10.0, y: 10.0)<br>&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt; cairo.setLineWidth(0.1)<br>&gt; cairo.stroke()<br>&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; <br>&gt; Swift is both really neat and really frustrating when learning it. <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com &lt;mailto:harlan at harlanhaskins.com&gt;<br>&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt; CC: kwame.bryan at gmail.com &lt;mailto:kwame.bryan at gmail.com&gt;; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; To: gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;<br>&gt; <br>&gt; Gage,<br>&gt; <br>&gt; Sorry, I just got back from class.<br>&gt; <br>&gt; I’ll respond in line!<br>&gt; <br>&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; I read on cairographics.org &lt;http://cairographics.org/&gt; about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt; <br>&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo.setFontSize(32.0)<br>&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt; cairo.moveTo(x: 10, y: 50)<br>&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt; <br>&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt; <br>&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt; <br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt; <br>&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt; <br>&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation &lt;http://github.com/Christoffen-Corporation&gt;. <br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md &lt;https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md&gt;<br>&gt; <br>&gt; There’s an example of using those modules together.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt; <br>&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com &lt;mailto:kwame.bryan at gmail.com&gt;&gt; wrote:<br>&gt; <br>&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html &lt;http://chris.eidhof.nl/posts/swift-c-interop.html&gt; <br>&gt; <br>&gt; Regards<br>&gt; Kwame<br>&gt; <br>&gt; <br>&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt; <br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users &lt;https://lists.swift.org/mailman/listinfo/swift-users&gt;<br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users &lt;https://lists.swift.org/mailman/listinfo/swift-users&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/4cd67348/attachment.html&gt;<br></p></div></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/ec21faaf010581d3b9d6ef507644e622?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Jack Lawrence</string> &lt;jackl at apple.com&gt;<p>December 11, 2015 at 06:00:00pm</p></header><div class="content"><p>Did you make the class and its methods public?<br></p><p>Jack<br>&gt; On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what I&#39;m getting:<br>&gt; <br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;<br>&gt; let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~ ~~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; <br>&gt; So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 20:31:20 -0500<br>&gt; CC: jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>&gt; <br>&gt; Cairo.Cairo should work fine.<br>&gt; <br>&gt; On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;&gt; wrote:<br>&gt; <br>&gt; The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com &lt;mailto:harlan at harlanhaskins.com&gt;&gt; wrote:<br>&gt; <br>&gt; Is your struct named Cairo or Surface?<br>&gt; <br>&gt; If Cairo is the module name, you&#39;re trying to instantiate the module.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;&gt; wrote:<br>&gt; <br>&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; <br>&gt; Why can I not call Cairo()? The error:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;             ~~~~~^<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt; <br>&gt; Thanks, support here has been great so far. Cheers!<br>&gt; --MGage--<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com &lt;mailto:harlan at harlanhaskins.com&gt;<br>&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt; CC: gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; To: jackl at apple.com &lt;mailto:jackl at apple.com&gt;<br>&gt; <br>&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter <br>&gt; <br>&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com &lt;mailto:jackl at apple.com&gt;&gt; wrote:<br>&gt; <br>&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt; <br>&gt; cairo.setLineWidth(0.1) // old<br>&gt; cairo.lineWidth = 0.1 // new<br>&gt; <br>&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; cairo.scale(10.0, y: 10.0)<br>&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt; cairo.setLineWidth(0.1)<br>&gt; cairo.stroke()<br>&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; <br>&gt; Swift is both really neat and really frustrating when learning it. <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com &lt;mailto:harlan at harlanhaskins.com&gt;<br>&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt; CC: kwame.bryan at gmail.com &lt;mailto:kwame.bryan at gmail.com&gt;; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; To: gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;<br>&gt; <br>&gt; Gage,<br>&gt; <br>&gt; Sorry, I just got back from class.<br>&gt; <br>&gt; I’ll respond in line!<br>&gt; <br>&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com &lt;mailto:gagemorgan at outlook.com&gt;&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; I read on cairographics.org &lt;http://cairographics.org/&gt; about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt; <br>&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo.setFontSize(32.0)<br>&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt; cairo.moveTo(x: 10, y: 50)<br>&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt; <br>&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt; <br>&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt; <br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt; <br>&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt; <br>&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation &lt;http://github.com/Christoffen-Corporation&gt;. <br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md &lt;https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md&gt;<br>&gt; <br>&gt; There’s an example of using those modules together.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt; <br>&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt; <br>&gt; Sent from Outlook Mobile &lt;https://aka.ms/qtex0l&gt;<br>&gt; <br>&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com &lt;mailto:kwame.bryan at gmail.com&gt;&gt; wrote:<br>&gt; <br>&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html &lt;http://chris.eidhof.nl/posts/swift-c-interop.html&gt; <br>&gt; <br>&gt; Regards<br>&gt; Kwame<br>&gt; <br>&gt; <br>&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt; <br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users &lt;https://lists.swift.org/mailman/listinfo/swift-users&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/12270349/attachment-0001.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 09:00:00pm</p></header><div class="content"><p>I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: jackl at apple.com<br>Date: Fri, 11 Dec 2015 18:19:55 -0800<br>CC: harlan at harlanhaskins.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Did you make the class and its methods public?<br>Jack<br>On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Here&#39;s what I&#39;m getting:<br>/home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~ ~~~~~~~&lt;unknown&gt;:0: error: build had 1 command failures<br>So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 20:31:20 -0500<br>CC: jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>Cairo.Cairo should work fine.<br>On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br></p><p>Sent from Outlook Mobile<br>On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p>Is your struct named Cairo or Surface?<br>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p>How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)Why can I not call Cairo()? The error:Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)            ~~~~~^&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I don&#39;t know whether or not I want to translate methods into straight-up properties yet.Thanks, support here has been great so far. Cheers!--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 19:35:46 -0500<br>CC: gagemorgan at outlook.com; swift-users at swift.org<br>To: jackl at apple.com<br></p><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br></p><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>cairo.setLineWidth(0.1) // oldcairo.lineWidth = 0.1 // new<br>On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>RegardsKwame&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> _______________________________________________swift-users mailing listswift-users at swift.orghttps://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/ea7ecd6a/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/ae51ca494b37cc270597830da66f089f?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Max Howell</string> &lt;max.howell at apple.com&gt;<p>December 11, 2015 at 06:00:00pm</p></header><div class="content"><p>If you could publish your sources on GitHub or somewhere similar we could probably be more help.<br></p><p>&gt; On Dec 11, 2015, at 6:21 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 18:19:55 -0800<br>&gt; CC: harlan at harlanhaskins.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Did you make the class and its methods public?<br>&gt; <br>&gt; Jack<br>&gt; On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what I&#39;m getting:<br>&gt; <br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;<br>&gt; let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~ ~~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; <br>&gt; So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 20:31:20 -0500<br>&gt; CC: jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>&gt; <br>&gt; Cairo.Cairo should work fine.<br>&gt; <br>&gt; On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br>&gt; <br>&gt; Is your struct named Cairo or Surface?<br>&gt; <br>&gt; If Cairo is the module name, you&#39;re trying to instantiate the module.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; <br>&gt; Why can I not call Cairo()? The error:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;             ~~~~~^<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt; <br>&gt; Thanks, support here has been great so far. Cheers!<br>&gt; --MGage--<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt; CC: gagemorgan at outlook.com; swift-users at swift.org<br>&gt; To: jackl at apple.com<br>&gt; <br>&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter <br>&gt; <br>&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br>&gt; <br>&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt; <br>&gt; cairo.setLineWidth(0.1) // old<br>&gt; cairo.lineWidth = 0.1 // new<br>&gt; <br>&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; cairo.scale(10.0, y: 10.0)<br>&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt; cairo.setLineWidth(0.1)<br>&gt; cairo.stroke()<br>&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; <br>&gt; Swift is both really neat and really frustrating when learning it. <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt; CC: kwame.bryan at gmail.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gage,<br>&gt; <br>&gt; Sorry, I just got back from class.<br>&gt; <br>&gt; I’ll respond in line!<br>&gt; <br>&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt; <br>&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo.setFontSize(32.0)<br>&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt; cairo.moveTo(x: 10, y: 50)<br>&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt; <br>&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt; <br>&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt; <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt; <br>&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>&gt; <br>&gt; There’s an example of using those modules together.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br>&gt; <br>&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>&gt; <br>&gt; Regards<br>&gt; Kwame<br>&gt; <br>&gt; <br>&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt; <br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/9a2956b2/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 09:00:00pm</p></header><div class="content"><p>Right up ahead lol<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 18:42:03 -0800<br>CC: jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>If you could publish your sources on GitHub or somewhere similar we could probably be more help.<br>On Dec 11, 2015, at 6:21 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br>I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: jackl at apple.com<br>Date: Fri, 11 Dec 2015 18:19:55 -0800<br>CC: harlan at harlanhaskins.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Did you make the class and its methods public?<br>Jack<br>On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Here&#39;s what I&#39;m getting:<br>/home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~ ~~~~~~~&lt;unknown&gt;:0: error: build had 1 command failures<br>So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 20:31:20 -0500<br>CC: jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>Cairo.Cairo should work fine.<br>On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br></p><p>Sent from Outlook Mobile<br>On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p>Is your struct named Cairo or Surface?<br>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p>How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)Why can I not call Cairo()? The error:Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)            ~~~~~^&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I don&#39;t know whether or not I want to translate methods into straight-up properties yet.Thanks, support here has been great so far. Cheers!--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 19:35:46 -0500<br>CC: gagemorgan at outlook.com; swift-users at swift.org<br>To: jackl at apple.com<br></p><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br></p><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>cairo.setLineWidth(0.1) // oldcairo.lineWidth = 0.1 // new<br>On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>RegardsKwame&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> _______________________________________________swift-users mailing listswift-users at swift.orghttps://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br></p><p><br></p><p>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/b59e6c37/attachment.html&gt;<br></p></div></li></ul></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 09:00:00pm</p></header><div class="content"><p>I have no idea what happened here, but:<br>Cloning Packages/CCairoCloning Packages/CairoCompiling Swift Module &#39;Cairo&#39; (1 sources)Linking Executable:  .build/debug/CairoCompiling Swift Module &#39;test&#39; (1 sources)Linking Executable:  .build/debug/test/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:https://gist.github.com/anonymous/11691be627d619066b8b<br>I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>To: jackl at apple.com<br>Date: Fri, 11 Dec 2015 21:21:06 -0500<br>CC: swift-users at swift.org<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: swift-users at swift.org<br></p><p><br></p><p><br>I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: jackl at apple.com<br>Date: Fri, 11 Dec 2015 18:19:55 -0800<br>CC: harlan at harlanhaskins.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Did you make the class and its methods public?<br>Jack<br>On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Here&#39;s what I&#39;m getting:<br>/home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~ ~~~~~~~&lt;unknown&gt;:0: error: build had 1 command failures<br>So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 20:31:20 -0500<br>CC: jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>Cairo.Cairo should work fine.<br>On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br></p><p>Sent from Outlook Mobile<br>On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p>Is your struct named Cairo or Surface?<br>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p>How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)Why can I not call Cairo()? The error:Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)            ~~~~~^&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I don&#39;t know whether or not I want to translate methods into straight-up properties yet.Thanks, support here has been great so far. Cheers!--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 19:35:46 -0500<br>CC: gagemorgan at outlook.com; swift-users at swift.org<br>To: jackl at apple.com<br></p><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br></p><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>cairo.setLineWidth(0.1) // oldcairo.lineWidth = 0.1 // new<br>On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>RegardsKwame&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> _______________________________________________swift-users mailing listswift-users at swift.orghttps://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br></p><p><br></p><p><br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/aa9395ac/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/ae51ca494b37cc270597830da66f089f?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Max Howell</string> &lt;max.howell at apple.com&gt;<p>December 11, 2015 at 06:00:00pm</p></header><div class="content"><p>The link failure is for the constructor for your Cairo class.<br></p><p>I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br></p><p>In the mean time try `swift build -v` for some more information.<br></p><p>&gt; On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I have no idea what happened here, but:<br>&gt; <br>&gt; Cloning Packages/CCairo<br>&gt; Cloning Packages/Cairo<br>&gt; Compiling Swift Module &#39;Cairo&#39; (1 sources)<br>&gt; Linking Executable:  .build/debug/Cairo<br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; Linking Executable:  .build/debug/test<br>&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>&gt; <br>&gt; Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:<br>&gt; https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>&gt; <br>&gt; And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:<br>&gt; https://gist.github.com/anonymous/11691be627d619066b8b<br>&gt; <br>&gt; I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>&gt; <br>&gt; To: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 21:21:06 -0500<br>&gt; CC: swift-users at swift.org<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: swift-users at swift.org<br>&gt; <br>&gt; I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 18:19:55 -0800<br>&gt; CC: harlan at harlanhaskins.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Did you make the class and its methods public?<br>&gt; <br>&gt; Jack<br>&gt; On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what I&#39;m getting:<br>&gt; <br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;<br>&gt; let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~ ~~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; <br>&gt; So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 20:31:20 -0500<br>&gt; CC: jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>&gt; <br>&gt; Cairo.Cairo should work fine.<br>&gt; <br>&gt; On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br>&gt; <br>&gt; Is your struct named Cairo or Surface?<br>&gt; <br>&gt; If Cairo is the module name, you&#39;re trying to instantiate the module.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; <br>&gt; Why can I not call Cairo()? The error:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;             ~~~~~^<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt; <br>&gt; Thanks, support here has been great so far. Cheers!<br>&gt; --MGage--<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt; CC: gagemorgan at outlook.com; swift-users at swift.org<br>&gt; To: jackl at apple.com<br>&gt; <br>&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter <br>&gt; <br>&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br>&gt; <br>&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt; <br>&gt; cairo.setLineWidth(0.1) // old<br>&gt; cairo.lineWidth = 0.1 // new<br>&gt; <br>&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; cairo.scale(10.0, y: 10.0)<br>&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt; cairo.setLineWidth(0.1)<br>&gt; cairo.stroke()<br>&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; <br>&gt; Swift is both really neat and really frustrating when learning it. <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt; CC: kwame.bryan at gmail.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gage,<br>&gt; <br>&gt; Sorry, I just got back from class.<br>&gt; <br>&gt; I’ll respond in line!<br>&gt; <br>&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt; <br>&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo.setFontSize(32.0)<br>&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt; cairo.moveTo(x: 10, y: 50)<br>&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt; <br>&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt; <br>&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt; <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt; <br>&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>&gt; <br>&gt; There’s an example of using those modules together.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br>&gt; <br>&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>&gt; <br>&gt; Regards<br>&gt; Kwame<br>&gt; <br>&gt; <br>&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt; <br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>&gt;  <br>&gt; _______________________________________________ swift-users mailing list swift-users at swift.org https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/7546b254/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 09:00:00pm</p></header><div class="content"><p>Here&#39;s what is inhibited when using swift build -v:<br>mgage at mgage:~/swift-cairo-bindings/test$ swift build -v/home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 18:51:09 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>The link failure is for the constructor for your Cairo class.<br>I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>In the mean time try `swift build -v` for some more information.<br>On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br>I have no idea what happened here, but:<br>Cloning Packages/CCairoCloning Packages/CairoCompiling Swift Module &#39;Cairo&#39; (1 sources)Linking Executable:  .build/debug/CairoCompiling Swift Module &#39;test&#39; (1 sources)Linking Executable:  .build/debug/test/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:https://gist.github.com/anonymous/11691be627d619066b8b<br>I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>To: jackl at apple.com<br>Date: Fri, 11 Dec 2015 21:21:06 -0500<br>CC: swift-users at swift.org<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: swift-users at swift.org<br></p><p><br></p><p><br>I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: jackl at apple.com<br>Date: Fri, 11 Dec 2015 18:19:55 -0800<br>CC: harlan at harlanhaskins.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Did you make the class and its methods public?<br>Jack<br>On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Here&#39;s what I&#39;m getting:<br>/home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~ ~~~~~~~&lt;unknown&gt;:0: error: build had 1 command failures<br>So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 20:31:20 -0500<br>CC: jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>Cairo.Cairo should work fine.<br>On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br></p><p>Sent from Outlook Mobile<br>On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p>Is your struct named Cairo or Surface?<br>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p>How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)Why can I not call Cairo()? The error:Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)            ~~~~~^&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I don&#39;t know whether or not I want to translate methods into straight-up properties yet.Thanks, support here has been great so far. Cheers!--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 19:35:46 -0500<br>CC: gagemorgan at outlook.com; swift-users at swift.org<br>To: jackl at apple.com<br></p><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br></p><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>cairo.setLineWidth(0.1) // oldcairo.lineWidth = 0.1 // new<br>On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>RegardsKwame&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> _______________________________________________swift-users mailing listswift-users at swift.orghttps://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br></p><p><br></p><p><br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users 		 	   		  <br></p><p><br></p><p>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/a6e40c59/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/ae51ca494b37cc270597830da66f089f?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Max Howell</string> &lt;max.howell at apple.com&gt;<p>December 11, 2015 at 07:00:00pm</p></header><div class="content"><p>Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br></p><p>I&#39;ll open a ticket to ensure swift build warns for this in future.<br></p><p>&gt; On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what is inhibited when using swift build -v:<br>&gt; <br>&gt; mgage at mgage:~/swift-cairo-bindings/test$ swift build -v<br>&gt; /home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib<br>&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: max.howell at apple.com<br>&gt; Date: Fri, 11 Dec 2015 18:51:09 -0800<br>&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; The link failure is for the constructor for your Cairo class.<br>&gt; <br>&gt; I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>&gt; <br>&gt; In the mean time try `swift build -v` for some more information.<br>&gt; <br>&gt; On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I have no idea what happened here, but:<br>&gt; <br>&gt; Cloning Packages/CCairo<br>&gt; Cloning Packages/Cairo<br>&gt; Compiling Swift Module &#39;Cairo&#39; (1 sources)<br>&gt; Linking Executable:  .build/debug/Cairo<br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; Linking Executable:  .build/debug/test<br>&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>&gt; <br>&gt; Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:<br>&gt; https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>&gt; <br>&gt; And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:<br>&gt; https://gist.github.com/anonymous/11691be627d619066b8b<br>&gt; <br>&gt; I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>&gt; <br>&gt; To: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 21:21:06 -0500<br>&gt; CC: swift-users at swift.org<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: swift-users at swift.org<br>&gt; <br>&gt; I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 18:19:55 -0800<br>&gt; CC: harlan at harlanhaskins.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Did you make the class and its methods public?<br>&gt; <br>&gt; Jack<br>&gt; On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what I&#39;m getting:<br>&gt; <br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;<br>&gt; let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~ ~~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; <br>&gt; So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 20:31:20 -0500<br>&gt; CC: jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>&gt; <br>&gt; Cairo.Cairo should work fine.<br>&gt; <br>&gt; On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br>&gt; <br>&gt; Is your struct named Cairo or Surface?<br>&gt; <br>&gt; If Cairo is the module name, you&#39;re trying to instantiate the module.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; <br>&gt; Why can I not call Cairo()? The error:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;             ~~~~~^<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt; <br>&gt; Thanks, support here has been great so far. Cheers!<br>&gt; --MGage--<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt; CC: gagemorgan at outlook.com; swift-users at swift.org<br>&gt; To: jackl at apple.com<br>&gt; <br>&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter <br>&gt; <br>&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br>&gt; <br>&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt; <br>&gt; cairo.setLineWidth(0.1) // old<br>&gt; cairo.lineWidth = 0.1 // new<br>&gt; <br>&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; cairo.scale(10.0, y: 10.0)<br>&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt; cairo.setLineWidth(0.1)<br>&gt; cairo.stroke()<br>&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; <br>&gt; Swift is both really neat and really frustrating when learning it. <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt; CC: kwame.bryan at gmail.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gage,<br>&gt; <br>&gt; Sorry, I just got back from class.<br>&gt; <br>&gt; I’ll respond in line!<br>&gt; <br>&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt; <br>&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo.setFontSize(32.0)<br>&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt; cairo.moveTo(x: 10, y: 50)<br>&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt; <br>&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt; <br>&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt; <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt; <br>&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>&gt; <br>&gt; There’s an example of using those modules together.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br>&gt; <br>&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>&gt; <br>&gt; Regards<br>&gt; Kwame<br>&gt; <br>&gt; <br>&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt; <br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>&gt;  <br>&gt; _______________________________________________ swift-users mailing list swift-users at swift.org https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/28be34d5/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 10:00:00pm</p></header><div class="content"><p>I&#39;m in the process of uploading the bits to GitHub, so I can push them over if anything else happens.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 19:02:41 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>I&#39;ll open a ticket to ensure swift build warns for this in future.<br>On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Here&#39;s what is inhibited when using swift build -v:<br>mgage at mgage:~/swift-cairo-bindings/test$ swift build -v/home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 18:51:09 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>The link failure is for the constructor for your Cairo class.<br>I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>In the mean time try `swift build -v` for some more information.<br>On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br>I have no idea what happened here, but:<br>Cloning Packages/CCairoCloning Packages/CairoCompiling Swift Module &#39;Cairo&#39; (1 sources)Linking Executable:  .build/debug/CairoCompiling Swift Module &#39;test&#39; (1 sources)Linking Executable:  .build/debug/test/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:https://gist.github.com/anonymous/11691be627d619066b8b<br>I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>To: jackl at apple.com<br>Date: Fri, 11 Dec 2015 21:21:06 -0500<br>CC: swift-users at swift.org<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: swift-users at swift.org<br></p><p><br></p><p><br>I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: jackl at apple.com<br>Date: Fri, 11 Dec 2015 18:19:55 -0800<br>CC: harlan at harlanhaskins.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Did you make the class and its methods public?<br>Jack<br>On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Here&#39;s what I&#39;m getting:<br>/home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~ ~~~~~~~&lt;unknown&gt;:0: error: build had 1 command failures<br>So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 20:31:20 -0500<br>CC: jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>Cairo.Cairo should work fine.<br>On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br></p><p>Sent from Outlook Mobile<br>On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p>Is your struct named Cairo or Surface?<br>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p>How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)Why can I not call Cairo()? The error:Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)            ~~~~~^&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I don&#39;t know whether or not I want to translate methods into straight-up properties yet.Thanks, support here has been great so far. Cheers!--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 19:35:46 -0500<br>CC: gagemorgan at outlook.com; swift-users at swift.org<br>To: jackl at apple.com<br></p><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br></p><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>cairo.setLineWidth(0.1) // oldcairo.lineWidth = 0.1 // new<br>On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>RegardsKwame&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> _______________________________________________swift-users mailing listswift-users at swift.orghttps://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br></p><p><br></p><p><br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users 		 	   		  <br></p><p><br></p><p>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/641ce212/attachment.html&gt;<br></p></div></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 10:00:00pm</p></header><div class="content"><p>Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 19:02:41 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>I&#39;ll open a ticket to ensure swift build warns for this in future.<br>On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Here&#39;s what is inhibited when using swift build -v:<br>mgage at mgage:~/swift-cairo-bindings/test$ swift build -v/home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 18:51:09 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>The link failure is for the constructor for your Cairo class.<br>I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>In the mean time try `swift build -v` for some more information.<br>On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br>I have no idea what happened here, but:<br>Cloning Packages/CCairoCloning Packages/CairoCompiling Swift Module &#39;Cairo&#39; (1 sources)Linking Executable:  .build/debug/CairoCompiling Swift Module &#39;test&#39; (1 sources)Linking Executable:  .build/debug/test/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:https://gist.github.com/anonymous/11691be627d619066b8b<br>I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>To: jackl at apple.com<br>Date: Fri, 11 Dec 2015 21:21:06 -0500<br>CC: swift-users at swift.org<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: swift-users at swift.org<br></p><p><br></p><p><br>I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: jackl at apple.com<br>Date: Fri, 11 Dec 2015 18:19:55 -0800<br>CC: harlan at harlanhaskins.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Did you make the class and its methods public?<br>Jack<br>On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Here&#39;s what I&#39;m getting:<br>/home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~ ~~~~~~~&lt;unknown&gt;:0: error: build had 1 command failures<br>So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 20:31:20 -0500<br>CC: jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>Cairo.Cairo should work fine.<br>On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br></p><p>Sent from Outlook Mobile<br>On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p>Is your struct named Cairo or Surface?<br>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p>How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)Why can I not call Cairo()? The error:Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)            ~~~~~^&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I don&#39;t know whether or not I want to translate methods into straight-up properties yet.Thanks, support here has been great so far. Cheers!--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 19:35:46 -0500<br>CC: gagemorgan at outlook.com; swift-users at swift.org<br>To: jackl at apple.com<br></p><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br></p><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>cairo.setLineWidth(0.1) // oldcairo.lineWidth = 0.1 // new<br>On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>RegardsKwame&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> _______________________________________________swift-users mailing listswift-users at swift.orghttps://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br></p><p><br></p><p><br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users 		 	   		  <br></p><p><br></p><p>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/c5237c6b/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8ae34e6aaf28c0e1fe929f36897d107e?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Harlan Haskins</string> &lt;harlan at harlanhaskins.com&gt;<p>December 11, 2015 at 10:00:00pm</p></header><div class="content"><p>Gotta make sure to make a git tag<br></p><p>git tag 1.0.0<br>git push --tags<br></p><p>Sent from my iPhone<br></p><p>&gt; On Dec 11, 2015, at 10:29 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: max.howell at apple.com<br>&gt; Date: Fri, 11 Dec 2015 19:02:41 -0800<br>&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>&gt; <br>&gt; I&#39;ll open a ticket to ensure swift build warns for this in future.<br>&gt; <br>&gt; On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what is inhibited when using swift build -v:<br>&gt; <br>&gt; mgage at mgage:~/swift-cairo-bindings/test$ swift build -v<br>&gt; /home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib<br>&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: max.howell at apple.com<br>&gt; Date: Fri, 11 Dec 2015 18:51:09 -0800<br>&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; The link failure is for the constructor for your Cairo class.<br>&gt; <br>&gt; I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>&gt; <br>&gt; In the mean time try `swift build -v` for some more information.<br>&gt; <br>&gt; On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I have no idea what happened here, but:<br>&gt; <br>&gt; Cloning Packages/CCairo<br>&gt; Cloning Packages/Cairo<br>&gt; Compiling Swift Module &#39;Cairo&#39; (1 sources)<br>&gt; Linking Executable:  .build/debug/Cairo<br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; Linking Executable:  .build/debug/test<br>&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>&gt; <br>&gt; Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:<br>&gt; https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>&gt; <br>&gt; And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:<br>&gt; https://gist.github.com/anonymous/11691be627d619066b8b<br>&gt; <br>&gt; I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>&gt; <br>&gt; To: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 21:21:06 -0500<br>&gt; CC: swift-users at swift.org<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: swift-users at swift.org<br>&gt; <br>&gt; I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 18:19:55 -0800<br>&gt; CC: harlan at harlanhaskins.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Did you make the class and its methods public?<br>&gt; <br>&gt; Jack<br>&gt; On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what I&#39;m getting:<br>&gt; <br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;<br>&gt; let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~ ~~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; <br>&gt; So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 20:31:20 -0500<br>&gt; CC: jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>&gt; <br>&gt; Cairo.Cairo should work fine.<br>&gt; <br>&gt; On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br>&gt; <br>&gt; Is your struct named Cairo or Surface?<br>&gt; <br>&gt; If Cairo is the module name, you&#39;re trying to instantiate the module.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; <br>&gt; Why can I not call Cairo()? The error:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;             ~~~~~^<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt; <br>&gt; Thanks, support here has been great so far. Cheers!<br>&gt; --MGage--<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt; CC: gagemorgan at outlook.com; swift-users at swift.org<br>&gt; To: jackl at apple.com<br>&gt; <br>&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter <br>&gt; <br>&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br>&gt; <br>&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt; <br>&gt; cairo.setLineWidth(0.1) // old<br>&gt; cairo.lineWidth = 0.1 // new<br>&gt; <br>&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; cairo.scale(10.0, y: 10.0)<br>&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt; cairo.setLineWidth(0.1)<br>&gt; cairo.stroke()<br>&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; <br>&gt; Swift is both really neat and really frustrating when learning it. <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt; CC: kwame.bryan at gmail.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gage,<br>&gt; <br>&gt; Sorry, I just got back from class.<br>&gt; <br>&gt; I’ll respond in line!<br>&gt; <br>&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt; <br>&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo.setFontSize(32.0)<br>&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt; cairo.moveTo(x: 10, y: 50)<br>&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt; <br>&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt; <br>&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt; <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt; <br>&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>&gt; <br>&gt; There’s an example of using those modules together.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br>&gt; <br>&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>&gt; <br>&gt; Regards<br>&gt; Kwame<br>&gt; <br>&gt; <br>&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt; <br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>&gt;  <br>&gt; _______________________________________________ swift-users mailing list swift-users at swift.org https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/204b86d4/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 10:00:00pm</p></header><div class="content"><p>Just when I think I make a breakthrough...Cairo and CCairo build, but this test file separates methods from wrappers still won&#39;t:<br>Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/test.swift:4:1: error: expressions are not allowed at the top levelsurface.scale(10.0, y: 10.0)^/home/mgage/swift-cairo-bindings/test/test.swift:5:1: error: expressions are not allowed at the top levelsurface.moveTo(29.0, y: 14.7)^/home/mgage/swift-cairo-bindings/test/test.swift:6:1: error: expressions are not allowed at the top levelsurface.lineTo(37.6, y: 13.0)^/home/mgage/swift-cairo-bindings/test/test.swift:7:1: error: expressions are not allowed at the top levelsurface.moveTo(37.6, y: 13.0)^/home/mgage/swift-cairo-bindings/test/test.swift:8:1: error: expressions are not allowed at the top levelsurface.lineTo(30.4, y: 22.2)^/home/mgage/swift-cairo-bindings/test/test.swift:9:1: error: expressions are not allowed at the top levelsurface.moveTo(30.4, y: 22.2)^/home/mgage/swift-cairo-bindings/test/test.swift:10:1: error: expressions are not allowed at the top levelsurface.lineTo(29.0, y: 14.7)^/home/mgage/swift-cairo-bindings/test/test.swift:11:1: error: expressions are not allowed at the top levelsurface.setLineWidth(0.1)^/home/mgage/swift-cairo-bindings/test/test.swift:12:1: error: expressions are not allowed at the top levelsurface.stroke()^/home/mgage/swift-cairo-bindings/test/test.swift:13:1: error: expressions are not allowed at the top levelsurface.surfaceWriteToPNG(&quot;boobs.png&quot;)^/home/mgage/swift-cairo-bindings/test/test.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~~~&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>What is this &quot;top level&quot; thing? Not the first time I&#39;ve seen it.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:30:25 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gotta make sure to make a git tag<br>git tag 1.0.0git push --tags<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:29 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 19:02:41 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>I&#39;ll open a ticket to ensure swift build warns for this in future.<br>On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Here&#39;s what is inhibited when using swift build -v:<br>mgage at mgage:~/swift-cairo-bindings/test$ swift build -v/home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 18:51:09 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>The link failure is for the constructor for your Cairo class.<br>I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>In the mean time try `swift build -v` for some more information.<br>On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br>I have no idea what happened here, but:<br>Cloning Packages/CCairoCloning Packages/CairoCompiling Swift Module &#39;Cairo&#39; (1 sources)Linking Executable:  .build/debug/CairoCompiling Swift Module &#39;test&#39; (1 sources)Linking Executable:  .build/debug/test/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:https://gist.github.com/anonymous/11691be627d619066b8b<br>I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>To: jackl at apple.com<br>Date: Fri, 11 Dec 2015 21:21:06 -0500<br>CC: swift-users at swift.org<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: swift-users at swift.org<br></p><p><br></p><p><br>I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: jackl at apple.com<br>Date: Fri, 11 Dec 2015 18:19:55 -0800<br>CC: harlan at harlanhaskins.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Did you make the class and its methods public?<br>Jack<br>On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Here&#39;s what I&#39;m getting:<br>/home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~ ~~~~~~~&lt;unknown&gt;:0: error: build had 1 command failures<br>So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 20:31:20 -0500<br>CC: jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>Cairo.Cairo should work fine.<br>On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br></p><p>Sent from Outlook Mobile<br>On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p>Is your struct named Cairo or Surface?<br>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p>How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)Why can I not call Cairo()? The error:Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)            ~~~~~^&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I don&#39;t know whether or not I want to translate methods into straight-up properties yet.Thanks, support here has been great so far. Cheers!--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 19:35:46 -0500<br>CC: gagemorgan at outlook.com; swift-users at swift.org<br>To: jackl at apple.com<br></p><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br></p><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>cairo.setLineWidth(0.1) // oldcairo.lineWidth = 0.1 // new<br>On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>RegardsKwame&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> _______________________________________________swift-users mailing listswift-users at swift.orghttps://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br></p><p><br></p><p><br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users 		 	   		  <br></p><p><br></p><p>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/3f5a30b2/attachment-0001.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8ae34e6aaf28c0e1fe929f36897d107e?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Harlan Haskins</string> &lt;harlan at harlanhaskins.com&gt;<p>December 11, 2015 at 10:00:00pm</p></header><div class="content"><p>Gotta rename test.swift to main.swift, otherwise it&#39;ll try to compile it as a module.<br></p><p>This seems to be unintuitive -- we should probably file some structural bug reports to make this process more straightforward.<br></p><p>Sent from my iPhone<br></p><p>&gt; On Dec 11, 2015, at 10:36 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Just when I think I make a breakthrough...Cairo and CCairo build, but this test file separates methods from wrappers still won&#39;t:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:4:1: error: expressions are not allowed at the top level<br>&gt; surface.scale(10.0, y: 10.0)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:5:1: error: expressions are not allowed at the top level<br>&gt; surface.moveTo(29.0, y: 14.7)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:6:1: error: expressions are not allowed at the top level<br>&gt; surface.lineTo(37.6, y: 13.0)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:7:1: error: expressions are not allowed at the top level<br>&gt; surface.moveTo(37.6, y: 13.0)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:8:1: error: expressions are not allowed at the top level<br>&gt; surface.lineTo(30.4, y: 22.2)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:9:1: error: expressions are not allowed at the top level<br>&gt; surface.moveTo(30.4, y: 22.2)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:10:1: error: expressions are not allowed at the top level<br>&gt; surface.lineTo(29.0, y: 14.7)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:11:1: error: expressions are not allowed at the top level<br>&gt; surface.setLineWidth(0.1)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:12:1: error: expressions are not allowed at the top level<br>&gt; surface.stroke()<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:13:1: error: expressions are not allowed at the top level<br>&gt; surface.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;<br>&gt; let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; What is this &quot;top level&quot; thing? Not the first time I&#39;ve seen it.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 22:30:25 -0500<br>&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gotta make sure to make a git tag<br>&gt; <br>&gt; git tag 1.0.0<br>&gt; git push --tags<br>&gt; <br>&gt; Sent from my iPhone<br>&gt; <br>&gt; On Dec 11, 2015, at 10:29 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: max.howell at apple.com<br>&gt; Date: Fri, 11 Dec 2015 19:02:41 -0800<br>&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>&gt; <br>&gt; I&#39;ll open a ticket to ensure swift build warns for this in future.<br>&gt; <br>&gt; On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what is inhibited when using swift build -v:<br>&gt; <br>&gt; mgage at mgage:~/swift-cairo-bindings/test$ swift build -v<br>&gt; /home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib<br>&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: max.howell at apple.com<br>&gt; Date: Fri, 11 Dec 2015 18:51:09 -0800<br>&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; The link failure is for the constructor for your Cairo class.<br>&gt; <br>&gt; I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>&gt; <br>&gt; In the mean time try `swift build -v` for some more information.<br>&gt; <br>&gt; On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I have no idea what happened here, but:<br>&gt; <br>&gt; Cloning Packages/CCairo<br>&gt; Cloning Packages/Cairo<br>&gt; Compiling Swift Module &#39;Cairo&#39; (1 sources)<br>&gt; Linking Executable:  .build/debug/Cairo<br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; Linking Executable:  .build/debug/test<br>&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>&gt; <br>&gt; Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:<br>&gt; https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>&gt; <br>&gt; And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:<br>&gt; https://gist.github.com/anonymous/11691be627d619066b8b<br>&gt; <br>&gt; I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>&gt; <br>&gt; To: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 21:21:06 -0500<br>&gt; CC: swift-users at swift.org<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: swift-users at swift.org<br>&gt; <br>&gt; I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 18:19:55 -0800<br>&gt; CC: harlan at harlanhaskins.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Did you make the class and its methods public?<br>&gt; <br>&gt; Jack<br>&gt; On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what I&#39;m getting:<br>&gt; <br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;<br>&gt; let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~ ~~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; <br>&gt; So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 20:31:20 -0500<br>&gt; CC: jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>&gt; <br>&gt; Cairo.Cairo should work fine.<br>&gt; <br>&gt; On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br>&gt; <br>&gt; Is your struct named Cairo or Surface?<br>&gt; <br>&gt; If Cairo is the module name, you&#39;re trying to instantiate the module.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; <br>&gt; Why can I not call Cairo()? The error:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;             ~~~~~^<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt; <br>&gt; Thanks, support here has been great so far. Cheers!<br>&gt; --MGage--<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt; CC: gagemorgan at outlook.com; swift-users at swift.org<br>&gt; To: jackl at apple.com<br>&gt; <br>&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter <br>&gt; <br>&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br>&gt; <br>&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt; <br>&gt; cairo.setLineWidth(0.1) // old<br>&gt; cairo.lineWidth = 0.1 // new<br>&gt; <br>&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; cairo.scale(10.0, y: 10.0)<br>&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt; cairo.setLineWidth(0.1)<br>&gt; cairo.stroke()<br>&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; <br>&gt; Swift is both really neat and really frustrating when learning it. <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt; CC: kwame.bryan at gmail.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gage,<br>&gt; <br>&gt; Sorry, I just got back from class.<br>&gt; <br>&gt; I’ll respond in line!<br>&gt; <br>&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt; <br>&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo.setFontSize(32.0)<br>&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt; cairo.moveTo(x: 10, y: 50)<br>&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt; <br>&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt; <br>&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt; <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt; <br>&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>&gt; <br>&gt; There’s an example of using those modules together.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br>&gt; <br>&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>&gt; <br>&gt; Regards<br>&gt; Kwame<br>&gt; <br>&gt; <br>&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt; <br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>&gt;  <br>&gt; _______________________________________________ swift-users mailing list swift-users at swift.org https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/f7a971e4/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 10:00:00pm</p></header><div class="content"><p>Yes, we seem to have uncovered some....uhhhhh.....difficulties.<br>Was anyone else aware that stuff like this is a wild-goose chase until now?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:38:42 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gotta rename test.swift to main.swift, otherwise it&#39;ll try to compile it as a module.<br>This seems to be unintuitive -- we should probably file some structural bug reports to make this process more straightforward.<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:36 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Just when I think I make a breakthrough...Cairo and CCairo build, but this test file separates methods from wrappers still won&#39;t:<br>Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/test.swift:4:1: error: expressions are not allowed at the top levelsurface.scale(10.0, y: 10.0)^/home/mgage/swift-cairo-bindings/test/test.swift:5:1: error: expressions are not allowed at the top levelsurface.moveTo(29.0, y: 14.7)^/home/mgage/swift-cairo-bindings/test/test.swift:6:1: error: expressions are not allowed at the top levelsurface.lineTo(37.6, y: 13.0)^/home/mgage/swift-cairo-bindings/test/test.swift:7:1: error: expressions are not allowed at the top levelsurface.moveTo(37.6, y: 13.0)^/home/mgage/swift-cairo-bindings/test/test.swift:8:1: error: expressions are not allowed at the top levelsurface.lineTo(30.4, y: 22.2)^/home/mgage/swift-cairo-bindings/test/test.swift:9:1: error: expressions are not allowed at the top levelsurface.moveTo(30.4, y: 22.2)^/home/mgage/swift-cairo-bindings/test/test.swift:10:1: error: expressions are not allowed at the top levelsurface.lineTo(29.0, y: 14.7)^/home/mgage/swift-cairo-bindings/test/test.swift:11:1: error: expressions are not allowed at the top levelsurface.setLineWidth(0.1)^/home/mgage/swift-cairo-bindings/test/test.swift:12:1: error: expressions are not allowed at the top levelsurface.stroke()^/home/mgage/swift-cairo-bindings/test/test.swift:13:1: error: expressions are not allowed at the top levelsurface.surfaceWriteToPNG(&quot;boobs.png&quot;)^/home/mgage/swift-cairo-bindings/test/test.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~~~&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>What is this &quot;top level&quot; thing? Not the first time I&#39;ve seen it.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:30:25 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gotta make sure to make a git tag<br>git tag 1.0.0git push --tags<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:29 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 19:02:41 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>I&#39;ll open a ticket to ensure swift build warns for this in future.<br>On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Here&#39;s what is inhibited when using swift build -v:<br>mgage at mgage:~/swift-cairo-bindings/test$ swift build -v/home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 18:51:09 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>The link failure is for the constructor for your Cairo class.<br>I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>In the mean time try `swift build -v` for some more information.<br>On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br>I have no idea what happened here, but:<br>Cloning Packages/CCairoCloning Packages/CairoCompiling Swift Module &#39;Cairo&#39; (1 sources)Linking Executable:  .build/debug/CairoCompiling Swift Module &#39;test&#39; (1 sources)Linking Executable:  .build/debug/test/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:https://gist.github.com/anonymous/11691be627d619066b8b<br>I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>To: jackl at apple.com<br>Date: Fri, 11 Dec 2015 21:21:06 -0500<br>CC: swift-users at swift.org<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: swift-users at swift.org<br></p><p><br></p><p><br>I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: jackl at apple.com<br>Date: Fri, 11 Dec 2015 18:19:55 -0800<br>CC: harlan at harlanhaskins.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Did you make the class and its methods public?<br>Jack<br>On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Here&#39;s what I&#39;m getting:<br>/home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~ ~~~~~~~&lt;unknown&gt;:0: error: build had 1 command failures<br>So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 20:31:20 -0500<br>CC: jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>Cairo.Cairo should work fine.<br>On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br></p><p>Sent from Outlook Mobile<br>On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p>Is your struct named Cairo or Surface?<br>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p>How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)Why can I not call Cairo()? The error:Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)            ~~~~~^&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I don&#39;t know whether or not I want to translate methods into straight-up properties yet.Thanks, support here has been great so far. Cheers!--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 19:35:46 -0500<br>CC: gagemorgan at outlook.com; swift-users at swift.org<br>To: jackl at apple.com<br></p><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br></p><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>cairo.setLineWidth(0.1) // oldcairo.lineWidth = 0.1 // new<br>On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>RegardsKwame&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> _______________________________________________swift-users mailing listswift-users at swift.orghttps://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br></p><p><br></p><p><br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users 		 	   		  <br></p><p><br></p><p>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/c7157bd2/attachment.html&gt;<br></p></div></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 10:00:00pm</p></header><div class="content"><p>Okay, so test.swift is now main.swift, which outputs a much shorter but not better:<br>Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~~~&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>Compilers and debuggers these days...Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:38:42 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gotta rename test.swift to main.swift, otherwise it&#39;ll try to compile it as a module.<br>This seems to be unintuitive -- we should probably file some structural bug reports to make this process more straightforward.<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:36 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Just when I think I make a breakthrough...Cairo and CCairo build, but this test file separates methods from wrappers still won&#39;t:<br>Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/test.swift:4:1: error: expressions are not allowed at the top levelsurface.scale(10.0, y: 10.0)^/home/mgage/swift-cairo-bindings/test/test.swift:5:1: error: expressions are not allowed at the top levelsurface.moveTo(29.0, y: 14.7)^/home/mgage/swift-cairo-bindings/test/test.swift:6:1: error: expressions are not allowed at the top levelsurface.lineTo(37.6, y: 13.0)^/home/mgage/swift-cairo-bindings/test/test.swift:7:1: error: expressions are not allowed at the top levelsurface.moveTo(37.6, y: 13.0)^/home/mgage/swift-cairo-bindings/test/test.swift:8:1: error: expressions are not allowed at the top levelsurface.lineTo(30.4, y: 22.2)^/home/mgage/swift-cairo-bindings/test/test.swift:9:1: error: expressions are not allowed at the top levelsurface.moveTo(30.4, y: 22.2)^/home/mgage/swift-cairo-bindings/test/test.swift:10:1: error: expressions are not allowed at the top levelsurface.lineTo(29.0, y: 14.7)^/home/mgage/swift-cairo-bindings/test/test.swift:11:1: error: expressions are not allowed at the top levelsurface.setLineWidth(0.1)^/home/mgage/swift-cairo-bindings/test/test.swift:12:1: error: expressions are not allowed at the top levelsurface.stroke()^/home/mgage/swift-cairo-bindings/test/test.swift:13:1: error: expressions are not allowed at the top levelsurface.surfaceWriteToPNG(&quot;boobs.png&quot;)^/home/mgage/swift-cairo-bindings/test/test.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~~~&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>What is this &quot;top level&quot; thing? Not the first time I&#39;ve seen it.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:30:25 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gotta make sure to make a git tag<br>git tag 1.0.0git push --tags<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:29 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 19:02:41 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>I&#39;ll open a ticket to ensure swift build warns for this in future.<br>On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Here&#39;s what is inhibited when using swift build -v:<br>mgage at mgage:~/swift-cairo-bindings/test$ swift build -v/home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 18:51:09 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>The link failure is for the constructor for your Cairo class.<br>I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>In the mean time try `swift build -v` for some more information.<br>On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br>I have no idea what happened here, but:<br>Cloning Packages/CCairoCloning Packages/CairoCompiling Swift Module &#39;Cairo&#39; (1 sources)Linking Executable:  .build/debug/CairoCompiling Swift Module &#39;test&#39; (1 sources)Linking Executable:  .build/debug/test/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:https://gist.github.com/anonymous/11691be627d619066b8b<br>I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>To: jackl at apple.com<br>Date: Fri, 11 Dec 2015 21:21:06 -0500<br>CC: swift-users at swift.org<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: swift-users at swift.org<br></p><p><br></p><p><br>I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: jackl at apple.com<br>Date: Fri, 11 Dec 2015 18:19:55 -0800<br>CC: harlan at harlanhaskins.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Did you make the class and its methods public?<br>Jack<br>On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Here&#39;s what I&#39;m getting:<br>/home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~ ~~~~~~~&lt;unknown&gt;:0: error: build had 1 command failures<br>So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 20:31:20 -0500<br>CC: jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>Cairo.Cairo should work fine.<br>On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br></p><p>Sent from Outlook Mobile<br>On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p>Is your struct named Cairo or Surface?<br>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p>How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)Why can I not call Cairo()? The error:Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)            ~~~~~^&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I don&#39;t know whether or not I want to translate methods into straight-up properties yet.Thanks, support here has been great so far. Cheers!--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 19:35:46 -0500<br>CC: gagemorgan at outlook.com; swift-users at swift.org<br>To: jackl at apple.com<br></p><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br></p><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>cairo.setLineWidth(0.1) // oldcairo.lineWidth = 0.1 // new<br>On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>RegardsKwame&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> _______________________________________________swift-users mailing listswift-users at swift.orghttps://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br></p><p><br></p><p><br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users 		 	   		  <br></p><p><br></p><p>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/990bbd36/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8ae34e6aaf28c0e1fe929f36897d107e?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Harlan Haskins</string> &lt;harlan at harlanhaskins.com&gt;<p>December 11, 2015 at 10:00:00pm</p></header><div class="content"><p>Could you push the latest code to GitHub?<br></p><p>Sent from my iPhone<br></p><p>&gt; On Dec 11, 2015, at 10:42 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Okay, so test.swift is now main.swift, which outputs a much shorter but not better:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;<br>&gt; let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; Compilers and debuggers these days...<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 22:38:42 -0500<br>&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gotta rename test.swift to main.swift, otherwise it&#39;ll try to compile it as a module.<br>&gt; <br>&gt; This seems to be unintuitive -- we should probably file some structural bug reports to make this process more straightforward.<br>&gt; <br>&gt; Sent from my iPhone<br>&gt; <br>&gt; On Dec 11, 2015, at 10:36 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Just when I think I make a breakthrough...Cairo and CCairo build, but this test file separates methods from wrappers still won&#39;t:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:4:1: error: expressions are not allowed at the top level<br>&gt; surface.scale(10.0, y: 10.0)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:5:1: error: expressions are not allowed at the top level<br>&gt; surface.moveTo(29.0, y: 14.7)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:6:1: error: expressions are not allowed at the top level<br>&gt; surface.lineTo(37.6, y: 13.0)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:7:1: error: expressions are not allowed at the top level<br>&gt; surface.moveTo(37.6, y: 13.0)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:8:1: error: expressions are not allowed at the top level<br>&gt; surface.lineTo(30.4, y: 22.2)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:9:1: error: expressions are not allowed at the top level<br>&gt; surface.moveTo(30.4, y: 22.2)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:10:1: error: expressions are not allowed at the top level<br>&gt; surface.lineTo(29.0, y: 14.7)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:11:1: error: expressions are not allowed at the top level<br>&gt; surface.setLineWidth(0.1)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:12:1: error: expressions are not allowed at the top level<br>&gt; surface.stroke()<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:13:1: error: expressions are not allowed at the top level<br>&gt; surface.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;<br>&gt; let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; What is this &quot;top level&quot; thing? Not the first time I&#39;ve seen it.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 22:30:25 -0500<br>&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gotta make sure to make a git tag<br>&gt; <br>&gt; git tag 1.0.0<br>&gt; git push --tags<br>&gt; <br>&gt; Sent from my iPhone<br>&gt; <br>&gt; On Dec 11, 2015, at 10:29 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: max.howell at apple.com<br>&gt; Date: Fri, 11 Dec 2015 19:02:41 -0800<br>&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>&gt; <br>&gt; I&#39;ll open a ticket to ensure swift build warns for this in future.<br>&gt; <br>&gt; On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what is inhibited when using swift build -v:<br>&gt; <br>&gt; mgage at mgage:~/swift-cairo-bindings/test$ swift build -v<br>&gt; /home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib<br>&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: max.howell at apple.com<br>&gt; Date: Fri, 11 Dec 2015 18:51:09 -0800<br>&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; The link failure is for the constructor for your Cairo class.<br>&gt; <br>&gt; I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>&gt; <br>&gt; In the mean time try `swift build -v` for some more information.<br>&gt; <br>&gt; On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I have no idea what happened here, but:<br>&gt; <br>&gt; Cloning Packages/CCairo<br>&gt; Cloning Packages/Cairo<br>&gt; Compiling Swift Module &#39;Cairo&#39; (1 sources)<br>&gt; Linking Executable:  .build/debug/Cairo<br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; Linking Executable:  .build/debug/test<br>&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>&gt; <br>&gt; Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:<br>&gt; https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>&gt; <br>&gt; And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:<br>&gt; https://gist.github.com/anonymous/11691be627d619066b8b<br>&gt; <br>&gt; I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>&gt; <br>&gt; To: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 21:21:06 -0500<br>&gt; CC: swift-users at swift.org<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: swift-users at swift.org<br>&gt; <br>&gt; I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 18:19:55 -0800<br>&gt; CC: harlan at harlanhaskins.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Did you make the class and its methods public?<br>&gt; <br>&gt; Jack<br>&gt; On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what I&#39;m getting:<br>&gt; <br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;<br>&gt; let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~ ~~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; <br>&gt; So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 20:31:20 -0500<br>&gt; CC: jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>&gt; <br>&gt; Cairo.Cairo should work fine.<br>&gt; <br>&gt; On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br>&gt; <br>&gt; Is your struct named Cairo or Surface?<br>&gt; <br>&gt; If Cairo is the module name, you&#39;re trying to instantiate the module.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; <br>&gt; Why can I not call Cairo()? The error:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;             ~~~~~^<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt; <br>&gt; Thanks, support here has been great so far. Cheers!<br>&gt; --MGage--<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt; CC: gagemorgan at outlook.com; swift-users at swift.org<br>&gt; To: jackl at apple.com<br>&gt; <br>&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter <br>&gt; <br>&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br>&gt; <br>&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt; <br>&gt; cairo.setLineWidth(0.1) // old<br>&gt; cairo.lineWidth = 0.1 // new<br>&gt; <br>&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; cairo.scale(10.0, y: 10.0)<br>&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt; cairo.setLineWidth(0.1)<br>&gt; cairo.stroke()<br>&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; <br>&gt; Swift is both really neat and really frustrating when learning it. <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt; CC: kwame.bryan at gmail.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gage,<br>&gt; <br>&gt; Sorry, I just got back from class.<br>&gt; <br>&gt; I’ll respond in line!<br>&gt; <br>&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt; <br>&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo.setFontSize(32.0)<br>&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt; cairo.moveTo(x: 10, y: 50)<br>&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt; <br>&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt; <br>&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt; <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt; <br>&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>&gt; <br>&gt; There’s an example of using those modules together.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br>&gt; <br>&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>&gt; <br>&gt; Regards<br>&gt; Kwame<br>&gt; <br>&gt; <br>&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt; <br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>&gt;  <br>&gt; _______________________________________________ swift-users mailing list swift-users at swift.org https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/1aabf12e/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 10:00:00pm</p></header><div class="content"><p>I&#39;m on it...I&#39;ll post the link when up.<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:44:20 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Could you push the latest code to GitHub?<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:42 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Okay, so test.swift is now main.swift, which outputs a much shorter but not better:<br>Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~~~&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>Compilers and debuggers these days...Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:38:42 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gotta rename test.swift to main.swift, otherwise it&#39;ll try to compile it as a module.<br>This seems to be unintuitive -- we should probably file some structural bug reports to make this process more straightforward.<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:36 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Just when I think I make a breakthrough...Cairo and CCairo build, but this test file separates methods from wrappers still won&#39;t:<br>Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/test.swift:4:1: error: expressions are not allowed at the top levelsurface.scale(10.0, y: 10.0)^/home/mgage/swift-cairo-bindings/test/test.swift:5:1: error: expressions are not allowed at the top levelsurface.moveTo(29.0, y: 14.7)^/home/mgage/swift-cairo-bindings/test/test.swift:6:1: error: expressions are not allowed at the top levelsurface.lineTo(37.6, y: 13.0)^/home/mgage/swift-cairo-bindings/test/test.swift:7:1: error: expressions are not allowed at the top levelsurface.moveTo(37.6, y: 13.0)^/home/mgage/swift-cairo-bindings/test/test.swift:8:1: error: expressions are not allowed at the top levelsurface.lineTo(30.4, y: 22.2)^/home/mgage/swift-cairo-bindings/test/test.swift:9:1: error: expressions are not allowed at the top levelsurface.moveTo(30.4, y: 22.2)^/home/mgage/swift-cairo-bindings/test/test.swift:10:1: error: expressions are not allowed at the top levelsurface.lineTo(29.0, y: 14.7)^/home/mgage/swift-cairo-bindings/test/test.swift:11:1: error: expressions are not allowed at the top levelsurface.setLineWidth(0.1)^/home/mgage/swift-cairo-bindings/test/test.swift:12:1: error: expressions are not allowed at the top levelsurface.stroke()^/home/mgage/swift-cairo-bindings/test/test.swift:13:1: error: expressions are not allowed at the top levelsurface.surfaceWriteToPNG(&quot;boobs.png&quot;)^/home/mgage/swift-cairo-bindings/test/test.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~~~&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>What is this &quot;top level&quot; thing? Not the first time I&#39;ve seen it.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:30:25 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gotta make sure to make a git tag<br>git tag 1.0.0git push --tags<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:29 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 19:02:41 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>I&#39;ll open a ticket to ensure swift build warns for this in future.<br>On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Here&#39;s what is inhibited when using swift build -v:<br>mgage at mgage:~/swift-cairo-bindings/test$ swift build -v/home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 18:51:09 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>The link failure is for the constructor for your Cairo class.<br>I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>In the mean time try `swift build -v` for some more information.<br>On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br>I have no idea what happened here, but:<br>Cloning Packages/CCairoCloning Packages/CairoCompiling Swift Module &#39;Cairo&#39; (1 sources)Linking Executable:  .build/debug/CairoCompiling Swift Module &#39;test&#39; (1 sources)Linking Executable:  .build/debug/test/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:https://gist.github.com/anonymous/11691be627d619066b8b<br>I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>To: jackl at apple.com<br>Date: Fri, 11 Dec 2015 21:21:06 -0500<br>CC: swift-users at swift.org<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: swift-users at swift.org<br></p><p><br></p><p><br>I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: jackl at apple.com<br>Date: Fri, 11 Dec 2015 18:19:55 -0800<br>CC: harlan at harlanhaskins.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Did you make the class and its methods public?<br>Jack<br>On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Here&#39;s what I&#39;m getting:<br>/home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~ ~~~~~~~&lt;unknown&gt;:0: error: build had 1 command failures<br>So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 20:31:20 -0500<br>CC: jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>Cairo.Cairo should work fine.<br>On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br></p><p>Sent from Outlook Mobile<br>On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p>Is your struct named Cairo or Surface?<br>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p>How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)Why can I not call Cairo()? The error:Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)            ~~~~~^&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I don&#39;t know whether or not I want to translate methods into straight-up properties yet.Thanks, support here has been great so far. Cheers!--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 19:35:46 -0500<br>CC: gagemorgan at outlook.com; swift-users at swift.org<br>To: jackl at apple.com<br></p><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br></p><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>cairo.setLineWidth(0.1) // oldcairo.lineWidth = 0.1 // new<br>On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>RegardsKwame&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> _______________________________________________swift-users mailing listswift-users at swift.orghttps://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br></p><p><br></p><p><br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users 		 	   		  <br></p><p><br></p><p>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/98806429/attachment.html&gt;<br></p></div></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 11:00:00pm</p></header><div class="content"><p>I&#39;ve pushed all three into three separate repos at GitHub. The first one is at:https://github.com/Christoffen-Corporation/swift-cairo-test<br>It hosts the test folder I&#39;ve been talking about, the methods.<br>The next one is here:https://github.com/Christoffen-Corporation/swift-cairo-ccairo<br>It hosts the actual CCairo and its modulemap.<br>And the last one:https://github.com/Christoffen-Corporation/swift-cairo-cairo<br>Contains the actual wrappings, probably paired with test causing issues. I don&#39;t know, but the bits are out there as requested.<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:44:20 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Could you push the latest code to GitHub?<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:42 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Okay, so test.swift is now main.swift, which outputs a much shorter but not better:<br>Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~~~&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>Compilers and debuggers these days...Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:38:42 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gotta rename test.swift to main.swift, otherwise it&#39;ll try to compile it as a module.<br>This seems to be unintuitive -- we should probably file some structural bug reports to make this process more straightforward.<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:36 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Just when I think I make a breakthrough...Cairo and CCairo build, but this test file separates methods from wrappers still won&#39;t:<br>Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/test.swift:4:1: error: expressions are not allowed at the top levelsurface.scale(10.0, y: 10.0)^/home/mgage/swift-cairo-bindings/test/test.swift:5:1: error: expressions are not allowed at the top levelsurface.moveTo(29.0, y: 14.7)^/home/mgage/swift-cairo-bindings/test/test.swift:6:1: error: expressions are not allowed at the top levelsurface.lineTo(37.6, y: 13.0)^/home/mgage/swift-cairo-bindings/test/test.swift:7:1: error: expressions are not allowed at the top levelsurface.moveTo(37.6, y: 13.0)^/home/mgage/swift-cairo-bindings/test/test.swift:8:1: error: expressions are not allowed at the top levelsurface.lineTo(30.4, y: 22.2)^/home/mgage/swift-cairo-bindings/test/test.swift:9:1: error: expressions are not allowed at the top levelsurface.moveTo(30.4, y: 22.2)^/home/mgage/swift-cairo-bindings/test/test.swift:10:1: error: expressions are not allowed at the top levelsurface.lineTo(29.0, y: 14.7)^/home/mgage/swift-cairo-bindings/test/test.swift:11:1: error: expressions are not allowed at the top levelsurface.setLineWidth(0.1)^/home/mgage/swift-cairo-bindings/test/test.swift:12:1: error: expressions are not allowed at the top levelsurface.stroke()^/home/mgage/swift-cairo-bindings/test/test.swift:13:1: error: expressions are not allowed at the top levelsurface.surfaceWriteToPNG(&quot;boobs.png&quot;)^/home/mgage/swift-cairo-bindings/test/test.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~~~&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>What is this &quot;top level&quot; thing? Not the first time I&#39;ve seen it.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:30:25 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gotta make sure to make a git tag<br>git tag 1.0.0git push --tags<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:29 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 19:02:41 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>I&#39;ll open a ticket to ensure swift build warns for this in future.<br>On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Here&#39;s what is inhibited when using swift build -v:<br>mgage at mgage:~/swift-cairo-bindings/test$ swift build -v/home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 18:51:09 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>The link failure is for the constructor for your Cairo class.<br>I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>In the mean time try `swift build -v` for some more information.<br>On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br>I have no idea what happened here, but:<br>Cloning Packages/CCairoCloning Packages/CairoCompiling Swift Module &#39;Cairo&#39; (1 sources)Linking Executable:  .build/debug/CairoCompiling Swift Module &#39;test&#39; (1 sources)Linking Executable:  .build/debug/test/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:https://gist.github.com/anonymous/11691be627d619066b8b<br>I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>To: jackl at apple.com<br>Date: Fri, 11 Dec 2015 21:21:06 -0500<br>CC: swift-users at swift.org<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: swift-users at swift.org<br></p><p><br></p><p><br>I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: jackl at apple.com<br>Date: Fri, 11 Dec 2015 18:19:55 -0800<br>CC: harlan at harlanhaskins.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Did you make the class and its methods public?<br>Jack<br>On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Here&#39;s what I&#39;m getting:<br>/home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~ ~~~~~~~&lt;unknown&gt;:0: error: build had 1 command failures<br>So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 20:31:20 -0500<br>CC: jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>Cairo.Cairo should work fine.<br>On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br></p><p>Sent from Outlook Mobile<br>On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p>Is your struct named Cairo or Surface?<br>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p>How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)Why can I not call Cairo()? The error:Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)            ~~~~~^&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I don&#39;t know whether or not I want to translate methods into straight-up properties yet.Thanks, support here has been great so far. Cheers!--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 19:35:46 -0500<br>CC: gagemorgan at outlook.com; swift-users at swift.org<br>To: jackl at apple.com<br></p><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br></p><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>cairo.setLineWidth(0.1) // oldcairo.lineWidth = 0.1 // new<br>On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>RegardsKwame&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> _______________________________________________swift-users mailing listswift-users at swift.orghttps://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br></p><p><br></p><p><br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users 		 	   		  <br></p><p><br></p><p>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/e577caf2/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8ae34e6aaf28c0e1fe929f36897d107e?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Harlan Haskins</string> &lt;harlan at harlanhaskins.com&gt;<p>December 11, 2015 at 11:00:00pm</p></header><div class="content"><p>You need to import Cairo, not CCairo, in main.swift, in swift-cairo-test<br></p><p>Sent from my iPhone<br></p><p>&gt; On Dec 11, 2015, at 11:31 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; I&#39;ve pushed all three into three separate repos at GitHub. The first one is at:<br>&gt; https://github.com/Christoffen-Corporation/swift-cairo-test<br>&gt; <br>&gt; It hosts the test folder I&#39;ve been talking about, the methods.<br>&gt; <br>&gt; The next one is here:<br>&gt; https://github.com/Christoffen-Corporation/swift-cairo-ccairo<br>&gt; <br>&gt; It hosts the actual CCairo and its modulemap.<br>&gt; <br>&gt; And the last one:<br>&gt; https://github.com/Christoffen-Corporation/swift-cairo-cairo<br>&gt; <br>&gt; Contains the actual wrappings, probably paired with test causing issues. I don&#39;t know, but the bits are out there as requested.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 22:44:20 -0500<br>&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Could you push the latest code to GitHub?<br>&gt; <br>&gt; Sent from my iPhone<br>&gt; <br>&gt; On Dec 11, 2015, at 10:42 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Okay, so test.swift is now main.swift, which outputs a much shorter but not better:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;<br>&gt; let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; Compilers and debuggers these days...<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 22:38:42 -0500<br>&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gotta rename test.swift to main.swift, otherwise it&#39;ll try to compile it as a module.<br>&gt; <br>&gt; This seems to be unintuitive -- we should probably file some structural bug reports to make this process more straightforward.<br>&gt; <br>&gt; Sent from my iPhone<br>&gt; <br>&gt; On Dec 11, 2015, at 10:36 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Just when I think I make a breakthrough...Cairo and CCairo build, but this test file separates methods from wrappers still won&#39;t:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:4:1: error: expressions are not allowed at the top level<br>&gt; surface.scale(10.0, y: 10.0)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:5:1: error: expressions are not allowed at the top level<br>&gt; surface.moveTo(29.0, y: 14.7)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:6:1: error: expressions are not allowed at the top level<br>&gt; surface.lineTo(37.6, y: 13.0)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:7:1: error: expressions are not allowed at the top level<br>&gt; surface.moveTo(37.6, y: 13.0)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:8:1: error: expressions are not allowed at the top level<br>&gt; surface.lineTo(30.4, y: 22.2)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:9:1: error: expressions are not allowed at the top level<br>&gt; surface.moveTo(30.4, y: 22.2)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:10:1: error: expressions are not allowed at the top level<br>&gt; surface.lineTo(29.0, y: 14.7)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:11:1: error: expressions are not allowed at the top level<br>&gt; surface.setLineWidth(0.1)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:12:1: error: expressions are not allowed at the top level<br>&gt; surface.stroke()<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:13:1: error: expressions are not allowed at the top level<br>&gt; surface.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;<br>&gt; let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; What is this &quot;top level&quot; thing? Not the first time I&#39;ve seen it.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 22:30:25 -0500<br>&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gotta make sure to make a git tag<br>&gt; <br>&gt; git tag 1.0.0<br>&gt; git push --tags<br>&gt; <br>&gt; Sent from my iPhone<br>&gt; <br>&gt; On Dec 11, 2015, at 10:29 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: max.howell at apple.com<br>&gt; Date: Fri, 11 Dec 2015 19:02:41 -0800<br>&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>&gt; <br>&gt; I&#39;ll open a ticket to ensure swift build warns for this in future.<br>&gt; <br>&gt; On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what is inhibited when using swift build -v:<br>&gt; <br>&gt; mgage at mgage:~/swift-cairo-bindings/test$ swift build -v<br>&gt; /home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib<br>&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: max.howell at apple.com<br>&gt; Date: Fri, 11 Dec 2015 18:51:09 -0800<br>&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; The link failure is for the constructor for your Cairo class.<br>&gt; <br>&gt; I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>&gt; <br>&gt; In the mean time try `swift build -v` for some more information.<br>&gt; <br>&gt; On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I have no idea what happened here, but:<br>&gt; <br>&gt; Cloning Packages/CCairo<br>&gt; Cloning Packages/Cairo<br>&gt; Compiling Swift Module &#39;Cairo&#39; (1 sources)<br>&gt; Linking Executable:  .build/debug/Cairo<br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; Linking Executable:  .build/debug/test<br>&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>&gt; <br>&gt; Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:<br>&gt; https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>&gt; <br>&gt; And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:<br>&gt; https://gist.github.com/anonymous/11691be627d619066b8b<br>&gt; <br>&gt; I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>&gt; <br>&gt; To: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 21:21:06 -0500<br>&gt; CC: swift-users at swift.org<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: swift-users at swift.org<br>&gt; <br>&gt; I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 18:19:55 -0800<br>&gt; CC: harlan at harlanhaskins.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Did you make the class and its methods public?<br>&gt; <br>&gt; Jack<br>&gt; On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what I&#39;m getting:<br>&gt; <br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;<br>&gt; let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~ ~~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; <br>&gt; So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 20:31:20 -0500<br>&gt; CC: jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>&gt; <br>&gt; Cairo.Cairo should work fine.<br>&gt; <br>&gt; On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br>&gt; <br>&gt; Is your struct named Cairo or Surface?<br>&gt; <br>&gt; If Cairo is the module name, you&#39;re trying to instantiate the module.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; <br>&gt; Why can I not call Cairo()? The error:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;             ~~~~~^<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt; <br>&gt; Thanks, support here has been great so far. Cheers!<br>&gt; --MGage--<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt; CC: gagemorgan at outlook.com; swift-users at swift.org<br>&gt; To: jackl at apple.com<br>&gt; <br>&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter <br>&gt; <br>&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br>&gt; <br>&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt; <br>&gt; cairo.setLineWidth(0.1) // old<br>&gt; cairo.lineWidth = 0.1 // new<br>&gt; <br>&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; cairo.scale(10.0, y: 10.0)<br>&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt; cairo.setLineWidth(0.1)<br>&gt; cairo.stroke()<br>&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; <br>&gt; Swift is both really neat and really frustrating when learning it. <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt; CC: kwame.bryan at gmail.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gage,<br>&gt; <br>&gt; Sorry, I just got back from class.<br>&gt; <br>&gt; I’ll respond in line!<br>&gt; <br>&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt; <br>&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo.setFontSize(32.0)<br>&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt; cairo.moveTo(x: 10, y: 50)<br>&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt; <br>&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt; <br>&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt; <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt; <br>&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>&gt; <br>&gt; There’s an example of using those modules together.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br>&gt; <br>&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>&gt; <br>&gt; Regards<br>&gt; Kwame<br>&gt; <br>&gt; <br>&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt; <br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>&gt;  <br>&gt; _______________________________________________ swift-users mailing list swift-users at swift.org https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/a9c64f36/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 11:00:00pm</p></header><div class="content"><p>Done that, now this:<br>Cloning Packages/CCairoCloning Packages/CairoCompiling Swift Module &#39;Cairo&#39; (1 sources)Linking Library:  .build/debug/Cairo.aCompiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings-github/test/main.swift:3:31: error: use of unresolved identifier &#39;CAIRO_FORMAT_ARGB32&#39;let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)                              ^~~~~~~~~~~~~~~~~~~&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings-github/test/.build/debug/test.o/llbuild.yaml&quot;]<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 23:33:59 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>You need to import Cairo, not CCairo, in main.swift, in swift-cairo-test<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 11:31 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>I&#39;ve pushed all three into three separate repos at GitHub. The first one is at:https://github.com/Christoffen-Corporation/swift-cairo-test<br>It hosts the test folder I&#39;ve been talking about, the methods.<br>The next one is here:https://github.com/Christoffen-Corporation/swift-cairo-ccairo<br>It hosts the actual CCairo and its modulemap.<br>And the last one:https://github.com/Christoffen-Corporation/swift-cairo-cairo<br>Contains the actual wrappings, probably paired with test causing issues. I don&#39;t know, but the bits are out there as requested.<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:44:20 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Could you push the latest code to GitHub?<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:42 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Okay, so test.swift is now main.swift, which outputs a much shorter but not better:<br>Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~~~&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>Compilers and debuggers these days...Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:38:42 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gotta rename test.swift to main.swift, otherwise it&#39;ll try to compile it as a module.<br>This seems to be unintuitive -- we should probably file some structural bug reports to make this process more straightforward.<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:36 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Just when I think I make a breakthrough...Cairo and CCairo build, but this test file separates methods from wrappers still won&#39;t:<br>Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/test.swift:4:1: error: expressions are not allowed at the top levelsurface.scale(10.0, y: 10.0)^/home/mgage/swift-cairo-bindings/test/test.swift:5:1: error: expressions are not allowed at the top levelsurface.moveTo(29.0, y: 14.7)^/home/mgage/swift-cairo-bindings/test/test.swift:6:1: error: expressions are not allowed at the top levelsurface.lineTo(37.6, y: 13.0)^/home/mgage/swift-cairo-bindings/test/test.swift:7:1: error: expressions are not allowed at the top levelsurface.moveTo(37.6, y: 13.0)^/home/mgage/swift-cairo-bindings/test/test.swift:8:1: error: expressions are not allowed at the top levelsurface.lineTo(30.4, y: 22.2)^/home/mgage/swift-cairo-bindings/test/test.swift:9:1: error: expressions are not allowed at the top levelsurface.moveTo(30.4, y: 22.2)^/home/mgage/swift-cairo-bindings/test/test.swift:10:1: error: expressions are not allowed at the top levelsurface.lineTo(29.0, y: 14.7)^/home/mgage/swift-cairo-bindings/test/test.swift:11:1: error: expressions are not allowed at the top levelsurface.setLineWidth(0.1)^/home/mgage/swift-cairo-bindings/test/test.swift:12:1: error: expressions are not allowed at the top levelsurface.stroke()^/home/mgage/swift-cairo-bindings/test/test.swift:13:1: error: expressions are not allowed at the top levelsurface.surfaceWriteToPNG(&quot;boobs.png&quot;)^/home/mgage/swift-cairo-bindings/test/test.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~~~&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>What is this &quot;top level&quot; thing? Not the first time I&#39;ve seen it.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:30:25 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gotta make sure to make a git tag<br>git tag 1.0.0git push --tags<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:29 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 19:02:41 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>I&#39;ll open a ticket to ensure swift build warns for this in future.<br>On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Here&#39;s what is inhibited when using swift build -v:<br>mgage at mgage:~/swift-cairo-bindings/test$ swift build -v/home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 18:51:09 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>The link failure is for the constructor for your Cairo class.<br>I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>In the mean time try `swift build -v` for some more information.<br>On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br>I have no idea what happened here, but:<br>Cloning Packages/CCairoCloning Packages/CairoCompiling Swift Module &#39;Cairo&#39; (1 sources)Linking Executable:  .build/debug/CairoCompiling Swift Module &#39;test&#39; (1 sources)Linking Executable:  .build/debug/test/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:https://gist.github.com/anonymous/11691be627d619066b8b<br>I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>To: jackl at apple.com<br>Date: Fri, 11 Dec 2015 21:21:06 -0500<br>CC: swift-users at swift.org<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: swift-users at swift.org<br></p><p><br></p><p><br>I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: jackl at apple.com<br>Date: Fri, 11 Dec 2015 18:19:55 -0800<br>CC: harlan at harlanhaskins.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Did you make the class and its methods public?<br>Jack<br>On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Here&#39;s what I&#39;m getting:<br>/home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~ ~~~~~~~&lt;unknown&gt;:0: error: build had 1 command failures<br>So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 20:31:20 -0500<br>CC: jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>Cairo.Cairo should work fine.<br>On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br></p><p>Sent from Outlook Mobile<br>On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p>Is your struct named Cairo or Surface?<br>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p>How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)Why can I not call Cairo()? The error:Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)            ~~~~~^&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I don&#39;t know whether or not I want to translate methods into straight-up properties yet.Thanks, support here has been great so far. Cheers!--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 19:35:46 -0500<br>CC: gagemorgan at outlook.com; swift-users at swift.org<br>To: jackl at apple.com<br></p><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br></p><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>cairo.setLineWidth(0.1) // oldcairo.lineWidth = 0.1 // new<br>On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>RegardsKwame&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> _______________________________________________swift-users mailing listswift-users at swift.orghttps://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br></p><p><br></p><p><br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users 		 	   		  <br></p><p><br></p><p>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/ddfedaf4/attachment-0001.html&gt;<br></p></div></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 11, 2015 at 11:00:00pm</p></header><div class="content"><p>What exactly is an unresolved identifier?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 23:33:59 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>You need to import Cairo, not CCairo, in main.swift, in swift-cairo-test<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 11:31 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>I&#39;ve pushed all three into three separate repos at GitHub. The first one is at:https://github.com/Christoffen-Corporation/swift-cairo-test<br>It hosts the test folder I&#39;ve been talking about, the methods.<br>The next one is here:https://github.com/Christoffen-Corporation/swift-cairo-ccairo<br>It hosts the actual CCairo and its modulemap.<br>And the last one:https://github.com/Christoffen-Corporation/swift-cairo-cairo<br>Contains the actual wrappings, probably paired with test causing issues. I don&#39;t know, but the bits are out there as requested.<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:44:20 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Could you push the latest code to GitHub?<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:42 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Okay, so test.swift is now main.swift, which outputs a much shorter but not better:<br>Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~~~&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>Compilers and debuggers these days...Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:38:42 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gotta rename test.swift to main.swift, otherwise it&#39;ll try to compile it as a module.<br>This seems to be unintuitive -- we should probably file some structural bug reports to make this process more straightforward.<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:36 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Just when I think I make a breakthrough...Cairo and CCairo build, but this test file separates methods from wrappers still won&#39;t:<br>Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/test.swift:4:1: error: expressions are not allowed at the top levelsurface.scale(10.0, y: 10.0)^/home/mgage/swift-cairo-bindings/test/test.swift:5:1: error: expressions are not allowed at the top levelsurface.moveTo(29.0, y: 14.7)^/home/mgage/swift-cairo-bindings/test/test.swift:6:1: error: expressions are not allowed at the top levelsurface.lineTo(37.6, y: 13.0)^/home/mgage/swift-cairo-bindings/test/test.swift:7:1: error: expressions are not allowed at the top levelsurface.moveTo(37.6, y: 13.0)^/home/mgage/swift-cairo-bindings/test/test.swift:8:1: error: expressions are not allowed at the top levelsurface.lineTo(30.4, y: 22.2)^/home/mgage/swift-cairo-bindings/test/test.swift:9:1: error: expressions are not allowed at the top levelsurface.moveTo(30.4, y: 22.2)^/home/mgage/swift-cairo-bindings/test/test.swift:10:1: error: expressions are not allowed at the top levelsurface.lineTo(29.0, y: 14.7)^/home/mgage/swift-cairo-bindings/test/test.swift:11:1: error: expressions are not allowed at the top levelsurface.setLineWidth(0.1)^/home/mgage/swift-cairo-bindings/test/test.swift:12:1: error: expressions are not allowed at the top levelsurface.stroke()^/home/mgage/swift-cairo-bindings/test/test.swift:13:1: error: expressions are not allowed at the top levelsurface.surfaceWriteToPNG(&quot;boobs.png&quot;)^/home/mgage/swift-cairo-bindings/test/test.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~~~&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>What is this &quot;top level&quot; thing? Not the first time I&#39;ve seen it.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:30:25 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gotta make sure to make a git tag<br>git tag 1.0.0git push --tags<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:29 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 19:02:41 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>I&#39;ll open a ticket to ensure swift build warns for this in future.<br>On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Here&#39;s what is inhibited when using swift build -v:<br>mgage at mgage:~/swift-cairo-bindings/test$ swift build -v/home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 18:51:09 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>The link failure is for the constructor for your Cairo class.<br>I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>In the mean time try `swift build -v` for some more information.<br>On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br>I have no idea what happened here, but:<br>Cloning Packages/CCairoCloning Packages/CairoCompiling Swift Module &#39;Cairo&#39; (1 sources)Linking Executable:  .build/debug/CairoCompiling Swift Module &#39;test&#39; (1 sources)Linking Executable:  .build/debug/test/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:https://gist.github.com/anonymous/11691be627d619066b8b<br>I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>To: jackl at apple.com<br>Date: Fri, 11 Dec 2015 21:21:06 -0500<br>CC: swift-users at swift.org<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: swift-users at swift.org<br></p><p><br></p><p><br>I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: jackl at apple.com<br>Date: Fri, 11 Dec 2015 18:19:55 -0800<br>CC: harlan at harlanhaskins.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Did you make the class and its methods public?<br>Jack<br>On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Here&#39;s what I&#39;m getting:<br>/home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~ ~~~~~~~&lt;unknown&gt;:0: error: build had 1 command failures<br>So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 20:31:20 -0500<br>CC: jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>Cairo.Cairo should work fine.<br>On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br></p><p>Sent from Outlook Mobile<br>On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p>Is your struct named Cairo or Surface?<br>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p>How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)Why can I not call Cairo()? The error:Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)            ~~~~~^&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I don&#39;t know whether or not I want to translate methods into straight-up properties yet.Thanks, support here has been great so far. Cheers!--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 19:35:46 -0500<br>CC: gagemorgan at outlook.com; swift-users at swift.org<br>To: jackl at apple.com<br></p><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br></p><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>cairo.setLineWidth(0.1) // oldcairo.lineWidth = 0.1 // new<br>On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>RegardsKwame&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> _______________________________________________swift-users mailing listswift-users at swift.orghttps://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br></p><p><br></p><p><br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users 		 	   		  <br></p><p><br></p><p>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151211/e9fc4ea9/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8ae34e6aaf28c0e1fe929f36897d107e?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Harlan Haskins</string> &lt;harlan at harlanhaskins.com&gt;<p>December 12, 2015 at 12:00:00am</p></header><div class="content"><p>Oops, I forgot that identifier comes straight from CCairo (it&#39;s not re-exported from Cairo).<br></p><p>An unresolved identifier is just that, it&#39;s a variable or constant that the compiler doesn&#39;t know how to find (or &#39;resolve&#39;).<br></p><p>I don&#39;t know how this could be made simpler -- C bindings inherit their complexity from the C they back, and Swift&#39;s modules are pretty much as simple as modules go. Anything you use in one module has to be declared somewhere, and modules don&#39;t re-export their imports.<br></p><p>-- Harlan<br></p><p>&gt; On Dec 11, 2015, at 11:40 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; What exactly is an unresolved identifier?<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 23:33:59 -0500<br>&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; You need to import Cairo, not CCairo, in main.swift, in swift-cairo-test<br>&gt; <br>&gt; Sent from my iPhone<br>&gt; <br>&gt; On Dec 11, 2015, at 11:31 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; I&#39;ve pushed all three into three separate repos at GitHub. The first one is at:<br>&gt; https://github.com/Christoffen-Corporation/swift-cairo-test<br>&gt; <br>&gt; It hosts the test folder I&#39;ve been talking about, the methods.<br>&gt; <br>&gt; The next one is here:<br>&gt; https://github.com/Christoffen-Corporation/swift-cairo-ccairo<br>&gt; <br>&gt; It hosts the actual CCairo and its modulemap.<br>&gt; <br>&gt; And the last one:<br>&gt; https://github.com/Christoffen-Corporation/swift-cairo-cairo<br>&gt; <br>&gt; Contains the actual wrappings, probably paired with test causing issues. I don&#39;t know, but the bits are out there as requested.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 22:44:20 -0500<br>&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Could you push the latest code to GitHub?<br>&gt; <br>&gt; Sent from my iPhone<br>&gt; <br>&gt; On Dec 11, 2015, at 10:42 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Okay, so test.swift is now main.swift, which outputs a much shorter but not better:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;<br>&gt; let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; Compilers and debuggers these days...<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 22:38:42 -0500<br>&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gotta rename test.swift to main.swift, otherwise it&#39;ll try to compile it as a module.<br>&gt; <br>&gt; This seems to be unintuitive -- we should probably file some structural bug reports to make this process more straightforward.<br>&gt; <br>&gt; Sent from my iPhone<br>&gt; <br>&gt; On Dec 11, 2015, at 10:36 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Just when I think I make a breakthrough...Cairo and CCairo build, but this test file separates methods from wrappers still won&#39;t:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:4:1: error: expressions are not allowed at the top level<br>&gt; surface.scale(10.0, y: 10.0)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:5:1: error: expressions are not allowed at the top level<br>&gt; surface.moveTo(29.0, y: 14.7)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:6:1: error: expressions are not allowed at the top level<br>&gt; surface.lineTo(37.6, y: 13.0)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:7:1: error: expressions are not allowed at the top level<br>&gt; surface.moveTo(37.6, y: 13.0)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:8:1: error: expressions are not allowed at the top level<br>&gt; surface.lineTo(30.4, y: 22.2)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:9:1: error: expressions are not allowed at the top level<br>&gt; surface.moveTo(30.4, y: 22.2)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:10:1: error: expressions are not allowed at the top level<br>&gt; surface.lineTo(29.0, y: 14.7)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:11:1: error: expressions are not allowed at the top level<br>&gt; surface.setLineWidth(0.1)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:12:1: error: expressions are not allowed at the top level<br>&gt; surface.stroke()<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:13:1: error: expressions are not allowed at the top level<br>&gt; surface.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;<br>&gt; let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; What is this &quot;top level&quot; thing? Not the first time I&#39;ve seen it.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 22:30:25 -0500<br>&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gotta make sure to make a git tag<br>&gt; <br>&gt; git tag 1.0.0<br>&gt; git push --tags<br>&gt; <br>&gt; Sent from my iPhone<br>&gt; <br>&gt; On Dec 11, 2015, at 10:29 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: max.howell at apple.com<br>&gt; Date: Fri, 11 Dec 2015 19:02:41 -0800<br>&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>&gt; <br>&gt; I&#39;ll open a ticket to ensure swift build warns for this in future.<br>&gt; <br>&gt; On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what is inhibited when using swift build -v:<br>&gt; <br>&gt; mgage at mgage:~/swift-cairo-bindings/test$ swift build -v<br>&gt; /home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib<br>&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: max.howell at apple.com<br>&gt; Date: Fri, 11 Dec 2015 18:51:09 -0800<br>&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; The link failure is for the constructor for your Cairo class.<br>&gt; <br>&gt; I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>&gt; <br>&gt; In the mean time try `swift build -v` for some more information.<br>&gt; <br>&gt; On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I have no idea what happened here, but:<br>&gt; <br>&gt; Cloning Packages/CCairo<br>&gt; Cloning Packages/Cairo<br>&gt; Compiling Swift Module &#39;Cairo&#39; (1 sources)<br>&gt; Linking Executable:  .build/debug/Cairo<br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; Linking Executable:  .build/debug/test<br>&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>&gt; <br>&gt; Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:<br>&gt; https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>&gt; <br>&gt; And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:<br>&gt; https://gist.github.com/anonymous/11691be627d619066b8b<br>&gt; <br>&gt; I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>&gt; <br>&gt; To: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 21:21:06 -0500<br>&gt; CC: swift-users at swift.org<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: swift-users at swift.org<br>&gt; <br>&gt; I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 18:19:55 -0800<br>&gt; CC: harlan at harlanhaskins.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Did you make the class and its methods public?<br>&gt; <br>&gt; Jack<br>&gt; On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Here&#39;s what I&#39;m getting:<br>&gt; <br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;<br>&gt; let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~ ~~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; <br>&gt; So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 20:31:20 -0500<br>&gt; CC: jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>&gt; <br>&gt; Cairo.Cairo should work fine.<br>&gt; <br>&gt; On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br>&gt; <br>&gt; Is your struct named Cairo or Surface?<br>&gt; <br>&gt; If Cairo is the module name, you&#39;re trying to instantiate the module.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; <br>&gt; Why can I not call Cairo()? The error:<br>&gt; <br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;             ~~~~~^<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt; <br>&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt; <br>&gt; Thanks, support here has been great so far. Cheers!<br>&gt; --MGage--<br>&gt; <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt; CC: gagemorgan at outlook.com; swift-users at swift.org<br>&gt; To: jackl at apple.com<br>&gt; <br>&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter <br>&gt; <br>&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt; <br>&gt; - Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br>&gt; <br>&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt; <br>&gt; cairo.setLineWidth(0.1) // old<br>&gt; cairo.lineWidth = 0.1 // new<br>&gt; <br>&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt; <br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; cairo.scale(10.0, y: 10.0)<br>&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt; cairo.setLineWidth(0.1)<br>&gt; cairo.stroke()<br>&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; <br>&gt; Swift is both really neat and really frustrating when learning it. <br>&gt; <br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt; CC: kwame.bryan at gmail.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt; <br>&gt; Gage,<br>&gt; <br>&gt; Sorry, I just got back from class.<br>&gt; <br>&gt; I’ll respond in line!<br>&gt; <br>&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; Harlan,<br>&gt; <br>&gt; I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt; <br>&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo.setFontSize(32.0)<br>&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt; cairo.moveTo(x: 10, y: 50)<br>&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt; <br>&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt; <br>&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt; <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt; <br>&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>&gt; <br>&gt; There’s an example of using those modules together.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br>&gt; <br>&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>&gt; <br>&gt; Regards<br>&gt; Kwame<br>&gt; <br>&gt; <br>&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt; <br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>&gt;  <br>&gt; _______________________________________________ swift-users mailing list swift-users at swift.org https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151212/992af972/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 12, 2015 at 05:00:00am</p></header><div class="content"><p>So reimport CCairo and it&#39;ll just work, or more bugs? At this point I don&#39;t know what else is gonna pop up as soon as I compile. Is there someone on here at all tomorrow?<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p><br>On Fri, Dec 11, 2015 at 9:14 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p><br></p><p><br></p><p>Oops, I forgot that identifier comes straight from CCairo (it&#39;s not re-exported from Cairo).<br></p><p>An unresolved identifier is just that, it&#39;s a variable or constant that the compiler doesn&#39;t know how to find (or &#39;resolve&#39;).<br></p><p>I don&#39;t know how this could be made simpler -- C bindings inherit their complexity from the C they back, and Swift&#39;s modules are pretty much as simple as modules go. Anything you use in one module has to be declared somewhere, and modules don&#39;t re-export their imports.<br></p><p>-- Harlan<br></p><p>&gt; On Dec 11, 2015, at 11:40 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;<br>&gt; What exactly is an unresolved identifier?<br>&gt;<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 23:33:59 -0500<br>&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt;<br>&gt; You need to import Cairo, not CCairo, in main.swift, in swift-cairo-test<br>&gt;<br>&gt; Sent from my iPhone<br>&gt;<br>&gt; On Dec 11, 2015, at 11:31 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;<br>&gt; I&#39;ve pushed all three into three separate repos at GitHub. The first one is at:<br>&gt; https://github.com/Christoffen-Corporation/swift-cairo-test<br>&gt;<br>&gt; It hosts the test folder I&#39;ve been talking about, the methods.<br>&gt;<br>&gt; The next one is here:<br>&gt; https://github.com/Christoffen-Corporation/swift-cairo-ccairo<br>&gt;<br>&gt; It hosts the actual CCairo and its modulemap.<br>&gt;<br>&gt; And the last one:<br>&gt; https://github.com/Christoffen-Corporation/swift-cairo-cairo<br>&gt;<br>&gt; Contains the actual wrappings, probably paired with test causing issues. I don&#39;t know, but the bits are out there as requested.<br>&gt;<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 22:44:20 -0500<br>&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt;<br>&gt; Could you push the latest code to GitHub?<br>&gt;<br>&gt; Sent from my iPhone<br>&gt;<br>&gt; On Dec 11, 2015, at 10:42 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;<br>&gt; Okay, so test.swift is now main.swift, which outputs a much shorter but not better:<br>&gt;<br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;<br>&gt; let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;<br>&gt; Compilers and debuggers these days...<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 22:38:42 -0500<br>&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt;<br>&gt; Gotta rename test.swift to main.swift, otherwise it&#39;ll try to compile it as a module.<br>&gt;<br>&gt; This seems to be unintuitive -- we should probably file some structural bug reports to make this process more straightforward.<br>&gt;<br>&gt; Sent from my iPhone<br>&gt;<br>&gt; On Dec 11, 2015, at 10:36 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;<br>&gt; Just when I think I make a breakthrough...Cairo and CCairo build, but this test file separates methods from wrappers still won&#39;t:<br>&gt;<br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:4:1: error: expressions are not allowed at the top level<br>&gt; surface.scale(10.0, y: 10.0)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:5:1: error: expressions are not allowed at the top level<br>&gt; surface.moveTo(29.0, y: 14.7)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:6:1: error: expressions are not allowed at the top level<br>&gt; surface.lineTo(37.6, y: 13.0)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:7:1: error: expressions are not allowed at the top level<br>&gt; surface.moveTo(37.6, y: 13.0)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:8:1: error: expressions are not allowed at the top level<br>&gt; surface.lineTo(30.4, y: 22.2)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:9:1: error: expressions are not allowed at the top level<br>&gt; surface.moveTo(30.4, y: 22.2)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:10:1: error: expressions are not allowed at the top level<br>&gt; surface.lineTo(29.0, y: 14.7)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:11:1: error: expressions are not allowed at the top level<br>&gt; surface.setLineWidth(0.1)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:12:1: error: expressions are not allowed at the top level<br>&gt; surface.stroke()<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:13:1: error: expressions are not allowed at the top level<br>&gt; surface.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt; ^<br>&gt; /home/mgage/swift-cairo-bindings/test/test.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;<br>&gt; let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;<br>&gt; What is this &quot;top level&quot; thing? Not the first time I&#39;ve seen it.<br>&gt;<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 22:30:25 -0500<br>&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt;<br>&gt; Gotta make sure to make a git tag<br>&gt;<br>&gt; git tag 1.0.0<br>&gt; git push --tags<br>&gt;<br>&gt; Sent from my iPhone<br>&gt;<br>&gt; On Dec 11, 2015, at 10:29 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;<br>&gt; Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br>&gt;<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: max.howell at apple.com<br>&gt; Date: Fri, 11 Dec 2015 19:02:41 -0800<br>&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt; To: gagemorgan at outlook.com<br>&gt;<br>&gt; Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>&gt;<br>&gt; I&#39;ll open a ticket to ensure swift build warns for this in future.<br>&gt;<br>&gt; On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;<br>&gt; Here&#39;s what is inhibited when using swift build -v:<br>&gt;<br>&gt; mgage at mgage:~/swift-cairo-bindings/test$ swift build -v<br>&gt; /home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib<br>&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;<br>&gt; I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br>&gt;<br>&gt;<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: max.howell at apple.com<br>&gt; Date: Fri, 11 Dec 2015 18:51:09 -0800<br>&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt; To: gagemorgan at outlook.com<br>&gt;<br>&gt; The link failure is for the constructor for your Cairo class.<br>&gt;<br>&gt; I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>&gt;<br>&gt; In the mean time try `swift build -v` for some more information.<br>&gt;<br>&gt; On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt;<br>&gt; I have no idea what happened here, but:<br>&gt;<br>&gt; Cloning Packages/CCairo<br>&gt; Cloning Packages/Cairo<br>&gt; Compiling Swift Module &#39;Cairo&#39; (1 sources)<br>&gt; Linking Executable:  .build/debug/Cairo<br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; Linking Executable:  .build/debug/test<br>&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;<br>&gt; I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>&gt;<br>&gt; Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:<br>&gt; https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>&gt;<br>&gt; And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:<br>&gt; https://gist.github.com/anonymous/11691be627d619066b8b<br>&gt;<br>&gt; I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>&gt;<br>&gt; To: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 21:21:06 -0500<br>&gt; CC: swift-users at swift.org<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: swift-users at swift.org<br>&gt;<br>&gt; I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br>&gt;<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: jackl at apple.com<br>&gt; Date: Fri, 11 Dec 2015 18:19:55 -0800<br>&gt; CC: harlan at harlanhaskins.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt;<br>&gt; Did you make the class and its methods public?<br>&gt;<br>&gt; Jack<br>&gt; On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;<br>&gt; Here&#39;s what I&#39;m getting:<br>&gt;<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;<br>&gt; let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;               ^~~~~ ~~~~~~~<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt;<br>&gt; So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>&gt;<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 20:31:20 -0500<br>&gt; CC: jackl at apple.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt;<br>&gt; Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>&gt;<br>&gt; Cairo.Cairo should work fine.<br>&gt;<br>&gt; On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;<br>&gt; The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br>&gt;<br>&gt; Sent from Outlook Mobile<br>&gt;<br>&gt;<br>&gt;<br>&gt;<br>&gt; On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br>&gt;<br>&gt; Is your struct named Cairo or Surface?<br>&gt;<br>&gt; If Cairo is the module name, you&#39;re trying to instantiate the module.<br>&gt;<br>&gt; - Harlan<br>&gt;<br>&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;<br>&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;<br>&gt; Why can I not call Cairo()? The error:<br>&gt;<br>&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;             ~~~~~^<br>&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;<br>&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt;<br>&gt; Thanks, support here has been great so far. Cheers!<br>&gt; --MGage--<br>&gt;<br>&gt;<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt; CC: gagemorgan at outlook.com; swift-users at swift.org<br>&gt; To: jackl at apple.com<br>&gt;<br>&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter<br>&gt;<br>&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt;<br>&gt; - Harlan<br>&gt;<br>&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br>&gt;<br>&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt;<br>&gt; cairo.setLineWidth(0.1) // old<br>&gt; cairo.lineWidth = 0.1 // new<br>&gt;<br>&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt;<br>&gt; Harlan,<br>&gt;<br>&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt;<br>&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt; cairo.scale(10.0, y: 10.0)<br>&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt; cairo.setLineWidth(0.1)<br>&gt; cairo.stroke()<br>&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt;<br>&gt; Swift is both really neat and really frustrating when learning it.<br>&gt;<br>&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt; From: harlan at harlanhaskins.com<br>&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt; CC: kwame.bryan at gmail.com; swift-users at swift.org<br>&gt; To: gagemorgan at outlook.com<br>&gt;<br>&gt; Gage,<br>&gt;<br>&gt; Sorry, I just got back from class.<br>&gt;<br>&gt; I’ll respond in line!<br>&gt;<br>&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;<br>&gt; Harlan,<br>&gt;<br>&gt; I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt;<br>&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt; cairo.setFontSize(32.0)<br>&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt; cairo.moveTo(x: 10, y: 50)<br>&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt;<br>&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt;<br>&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt;<br>&gt;<br>&gt; Sent from Outlook Mobile<br>&gt;<br>&gt;<br>&gt;<br>&gt;<br>&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt;<br>&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines.<br>&gt;<br>&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation.<br>&gt;<br>&gt; Sent from Outlook Mobile<br>&gt;<br>&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>&gt;<br>&gt; There’s an example of using those modules together.<br>&gt;<br>&gt;<br>&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt;<br>&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo.<br>&gt;<br>&gt; Sent from Outlook Mobile<br>&gt;<br>&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt;<br>&gt;<br>&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br>&gt;<br>&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html<br>&gt;<br>&gt; Regards<br>&gt; Kwame<br>&gt;<br>&gt;<br>&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt;<br>&gt;  _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt;<br>&gt;<br>&gt; _______________________________________________ swift-users mailing list swift-users at swift.org https://lists.swift.org/mailman/listinfo/swift-users<br>&gt;<br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151212/130ea493/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8ae34e6aaf28c0e1fe929f36897d107e?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Harlan Haskins</string> &lt;harlan at harlanhaskins.com&gt;<p>December 12, 2015 at 12:00:00am</p></header><div class="content"><p>Yeah it should finally work when you import CCairo in main.swift.<br></p><p>Keep in mind, though, that everyone is volunteering their time on this mailing list.<br></p><p>I&#39;m really glad you&#39;re taking a liking to Swift, and I&#39;d suggest maybe trying a few things more simple before exercising the finer points of cross-platform C interop.<br></p><p>I&#39;ll be checking here periodically tomorrow. Apologies for this being frustrating! We&#39;ve all been here 😅.<br></p><p>Best,<br>Harlan<br></p><p>&gt; On Dec 12, 2015, at 12:16 AM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt; So reimport CCairo and it&#39;ll just work, or more bugs? At this point I don&#39;t know what else is gonna pop up as soon as I compile. Is there someone on here at all tomorrow?<br>&gt; <br>&gt; Sent from Outlook Mobile<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Fri, Dec 11, 2015 at 9:14 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br>&gt; <br>&gt; Oops, I forgot that identifier comes straight from CCairo (it&#39;s not re-exported from Cairo).<br>&gt; <br>&gt; An unresolved identifier is just that, it&#39;s a variable or constant that the compiler doesn&#39;t know how to find (or &#39;resolve&#39;).<br>&gt; <br>&gt; I don&#39;t know how this could be made simpler -- C bindings inherit their complexity from the C they back, and Swift&#39;s modules are pretty much as simple as modules go. Anything you use in one module has to be declared somewhere, and modules don&#39;t re-export their imports.<br>&gt; <br>&gt; -- Harlan<br>&gt; <br>&gt; On Dec 11, 2015, at 11:40 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt; <br>&gt;&gt; What exactly is an unresolved identifier?<br>&gt;&gt; <br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 23:33:59 -0500<br>&gt;&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt; <br>&gt;&gt; You need to import Cairo, not CCairo, in main.swift, in swift-cairo-test<br>&gt;&gt; <br>&gt;&gt; Sent from my iPhone<br>&gt;&gt; <br>&gt;&gt; On Dec 11, 2015, at 11:31 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; I&#39;ve pushed all three into three separate repos at GitHub. The first one is at:<br>&gt;&gt; https://github.com/Christoffen-Corporation/swift-cairo-test<br>&gt;&gt; <br>&gt;&gt; It hosts the test folder I&#39;ve been talking about, the methods.<br>&gt;&gt; <br>&gt;&gt; The next one is here:<br>&gt;&gt; https://github.com/Christoffen-Corporation/swift-cairo-ccairo<br>&gt;&gt; <br>&gt;&gt; It hosts the actual CCairo and its modulemap.<br>&gt;&gt; <br>&gt;&gt; And the last one:<br>&gt;&gt; https://github.com/Christoffen-Corporation/swift-cairo-cairo<br>&gt;&gt; <br>&gt;&gt; Contains the actual wrappings, probably paired with test causing issues. I don&#39;t know, but the bits are out there as requested.<br>&gt;&gt; <br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 22:44:20 -0500<br>&gt;&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt; <br>&gt;&gt; Could you push the latest code to GitHub?<br>&gt;&gt; <br>&gt;&gt; Sent from my iPhone<br>&gt;&gt; <br>&gt;&gt; On Dec 11, 2015, at 10:42 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Okay, so test.swift is now main.swift, which outputs a much shorter but not better:<br>&gt;&gt; <br>&gt;&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/main.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;<br>&gt;&gt; let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;&gt;               ^~~~~~~<br>&gt;&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt;&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;&gt; <br>&gt;&gt; Compilers and debuggers these days...<br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 22:38:42 -0500<br>&gt;&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt; <br>&gt;&gt; Gotta rename test.swift to main.swift, otherwise it&#39;ll try to compile it as a module.<br>&gt;&gt; <br>&gt;&gt; This seems to be unintuitive -- we should probably file some structural bug reports to make this process more straightforward.<br>&gt;&gt; <br>&gt;&gt; Sent from my iPhone<br>&gt;&gt; <br>&gt;&gt; On Dec 11, 2015, at 10:36 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Just when I think I make a breakthrough...Cairo and CCairo build, but this test file separates methods from wrappers still won&#39;t:<br>&gt;&gt; <br>&gt;&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:4:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.scale(10.0, y: 10.0)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:5:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.moveTo(29.0, y: 14.7)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:6:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.lineTo(37.6, y: 13.0)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:7:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.moveTo(37.6, y: 13.0)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:8:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.lineTo(30.4, y: 22.2)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:9:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.moveTo(30.4, y: 22.2)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:10:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.lineTo(29.0, y: 14.7)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:11:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.setLineWidth(0.1)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:12:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.stroke()<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:13:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;<br>&gt;&gt; let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;&gt;               ^~~~~~~<br>&gt;&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt;&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;&gt; <br>&gt;&gt; What is this &quot;top level&quot; thing? Not the first time I&#39;ve seen it.<br>&gt;&gt; <br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 22:30:25 -0500<br>&gt;&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt; <br>&gt;&gt; Gotta make sure to make a git tag<br>&gt;&gt; <br>&gt;&gt; git tag 1.0.0<br>&gt;&gt; git push --tags<br>&gt;&gt; <br>&gt;&gt; Sent from my iPhone<br>&gt;&gt; <br>&gt;&gt; On Dec 11, 2015, at 10:29 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br>&gt;&gt; <br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: max.howell at apple.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 19:02:41 -0800<br>&gt;&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt; <br>&gt;&gt; Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>&gt;&gt; <br>&gt;&gt; I&#39;ll open a ticket to ensure swift build warns for this in future.<br>&gt;&gt; <br>&gt;&gt; On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Here&#39;s what is inhibited when using swift build -v:<br>&gt;&gt; <br>&gt;&gt; mgage at mgage:~/swift-cairo-bindings/test$ swift build -v<br>&gt;&gt; /home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt;&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt;&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt;&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt;&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;&gt; <br>&gt;&gt; I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: max.howell at apple.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 18:51:09 -0800<br>&gt;&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt; <br>&gt;&gt; The link failure is for the constructor for your Cairo class.<br>&gt;&gt; <br>&gt;&gt; I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>&gt;&gt; <br>&gt;&gt; In the mean time try `swift build -v` for some more information.<br>&gt;&gt; <br>&gt;&gt; On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; I have no idea what happened here, but:<br>&gt;&gt; <br>&gt;&gt; Cloning Packages/CCairo<br>&gt;&gt; Cloning Packages/Cairo<br>&gt;&gt; Compiling Swift Module &#39;Cairo&#39; (1 sources)<br>&gt;&gt; Linking Executable:  .build/debug/Cairo<br>&gt;&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt;&gt; Linking Executable:  .build/debug/test<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt;&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt;&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt;&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt;&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;&gt; <br>&gt;&gt; I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>&gt;&gt; <br>&gt;&gt; Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:<br>&gt;&gt; https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>&gt;&gt; <br>&gt;&gt; And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:<br>&gt;&gt; https://gist.github.com/anonymous/11691be627d619066b8b<br>&gt;&gt; <br>&gt;&gt; I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>&gt;&gt; <br>&gt;&gt; To: jackl at apple.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 21:21:06 -0500<br>&gt;&gt; CC: swift-users at swift.org<br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: swift-users at swift.org<br>&gt;&gt; <br>&gt;&gt; I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br>&gt;&gt; <br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: jackl at apple.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 18:19:55 -0800<br>&gt;&gt; CC: harlan at harlanhaskins.com; swift-users at swift.org<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt; <br>&gt;&gt; Did you make the class and its methods public?<br>&gt;&gt; <br>&gt;&gt; Jack<br>&gt;&gt; On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Here&#39;s what I&#39;m getting:<br>&gt;&gt; <br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;<br>&gt;&gt; let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;&gt;               ^~~~~ ~~~~~~~<br>&gt;&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt;&gt; <br>&gt;&gt; So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>&gt;&gt; <br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 20:31:20 -0500<br>&gt;&gt; CC: jackl at apple.com; swift-users at swift.org<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt; <br>&gt;&gt; Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>&gt;&gt; <br>&gt;&gt; Cairo.Cairo should work fine.<br>&gt;&gt; <br>&gt;&gt; On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br>&gt;&gt; <br>&gt;&gt; Sent from Outlook Mobile<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Is your struct named Cairo or Surface?<br>&gt;&gt; <br>&gt;&gt; If Cairo is the module name, you&#39;re trying to instantiate the module.<br>&gt;&gt; <br>&gt;&gt; - Harlan<br>&gt;&gt; <br>&gt;&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt;&gt; <br>&gt;&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;&gt; <br>&gt;&gt; Why can I not call Cairo()? The error:<br>&gt;&gt; <br>&gt;&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt;&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;&gt;             ~~~~~^<br>&gt;&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt;&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;&gt; <br>&gt;&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt;&gt; <br>&gt;&gt; Thanks, support here has been great so far. Cheers!<br>&gt;&gt; --MGage--<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt;&gt; CC: gagemorgan at outlook.com; swift-users at swift.org<br>&gt;&gt; To: jackl at apple.com<br>&gt;&gt; <br>&gt;&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter <br>&gt;&gt; <br>&gt;&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt;&gt; <br>&gt;&gt; - Harlan<br>&gt;&gt; <br>&gt;&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt;&gt; <br>&gt;&gt; cairo.setLineWidth(0.1) // old<br>&gt;&gt; cairo.lineWidth = 0.1 // new<br>&gt;&gt; <br>&gt;&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Harlan,<br>&gt;&gt; <br>&gt;&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt;&gt; <br>&gt;&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;&gt; cairo.scale(10.0, y: 10.0)<br>&gt;&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt;&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt;&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt;&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt;&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt;&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt;&gt; cairo.setLineWidth(0.1)<br>&gt;&gt; cairo.stroke()<br>&gt;&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt;&gt; <br>&gt;&gt; Swift is both really neat and really frustrating when learning it. <br>&gt;&gt; <br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt;&gt; CC: kwame.bryan at gmail.com; swift-users at swift.org<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt; <br>&gt;&gt; Gage,<br>&gt;&gt; <br>&gt;&gt; Sorry, I just got back from class.<br>&gt;&gt; <br>&gt;&gt; I’ll respond in line!<br>&gt;&gt; <br>&gt;&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Harlan,<br>&gt;&gt; <br>&gt;&gt; I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt;&gt; <br>&gt;&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt;&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt;&gt; cairo.setFontSize(32.0)<br>&gt;&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt;&gt; cairo.moveTo(x: 10, y: 50)<br>&gt;&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt;&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt;&gt; <br>&gt;&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt;&gt; <br>&gt;&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; Sent from Outlook Mobile<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>&gt;&gt; <br>&gt;&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br>&gt;&gt; <br>&gt;&gt; Sent from Outlook Mobile<br>&gt;&gt; <br>&gt;&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>&gt;&gt; <br>&gt;&gt; There’s an example of using those modules together.<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br>&gt;&gt; <br>&gt;&gt; Sent from Outlook Mobile<br>&gt;&gt; <br>&gt;&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>&gt;&gt; <br>&gt;&gt; Regards<br>&gt;&gt; Kwame<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt;&gt; <br>&gt;&gt;  _______________________________________________<br>&gt;&gt; swift-users mailing list<br>&gt;&gt; swift-users at swift.org<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt;&gt; <br>&gt;&gt;  <br>&gt;&gt; _______________________________________________ swift-users mailing list swift-users at swift.org https://lists.swift.org/mailman/listinfo/swift-users<br>&gt;&gt; <br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-users mailing list<br>&gt;&gt; swift-users at swift.org<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151212/42c83b72/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 12, 2015 at 05:00:00am</p></header><div class="content"><p>Thanks for the help. I&#39;ve been involved in C, but never really got 100% into OOP. I pretty much finished PHP but probably wouldn&#39;t remember the complex parts if my life depended on it.<br>Swift is...different. After getting PO&#39;d at an academic (dude wasn&#39;t all too great at his job as an instructor) said that scripting languages and compiled languages will never converge, and yet here we are.<br>Again, really appreciate the support, and will continue the work tomorrow. --MGage--<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p><br>On Fri, Dec 11, 2015 at 9:20 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p><br></p><p><br></p><p>Yeah it should finally work when you import CCairo in main.swift.<br></p><p>Keep in mind, though, that everyone is volunteering their time on this mailing list.<br></p><p>I&#39;m really glad you&#39;re taking a liking to Swift, and I&#39;d suggest maybe trying a few things more simple before exercising the finer points of cross-platform C interop.<br></p><p>I&#39;ll be checking here periodically tomorrow. Apologies for this being frustrating! We&#39;ve all been here 😅.<br></p><p>Best,<br>Harlan<br></p><p>&gt; On Dec 12, 2015, at 12:16 AM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;<br>&gt; So reimport CCairo and it&#39;ll just work, or more bugs? At this point I don&#39;t know what else is gonna pop up as soon as I compile. Is there someone on here at all tomorrow?<br>&gt;<br>&gt; Sent from Outlook Mobile<br>&gt;<br>&gt;<br>&gt;<br>&gt;<br>&gt; On Fri, Dec 11, 2015 at 9:14 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br>&gt;<br>&gt; Oops, I forgot that identifier comes straight from CCairo (it&#39;s not re-exported from Cairo).<br>&gt;<br>&gt; An unresolved identifier is just that, it&#39;s a variable or constant that the compiler doesn&#39;t know how to find (or &#39;resolve&#39;).<br>&gt;<br>&gt; I don&#39;t know how this could be made simpler -- C bindings inherit their complexity from the C they back, and Swift&#39;s modules are pretty much as simple as modules go. Anything you use in one module has to be declared somewhere, and modules don&#39;t re-export their imports.<br>&gt;<br>&gt; -- Harlan<br>&gt;<br>&gt; On Dec 11, 2015, at 11:40 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;<br>&gt;&gt; What exactly is an unresolved identifier?<br>&gt;&gt;<br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 23:33:59 -0500<br>&gt;&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt;<br>&gt;&gt; You need to import Cairo, not CCairo, in main.swift, in swift-cairo-test<br>&gt;&gt;<br>&gt;&gt; Sent from my iPhone<br>&gt;&gt;<br>&gt;&gt; On Dec 11, 2015, at 11:31 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; I&#39;ve pushed all three into three separate repos at GitHub. The first one is at:<br>&gt;&gt; https://github.com/Christoffen-Corporation/swift-cairo-test<br>&gt;&gt;<br>&gt;&gt; It hosts the test folder I&#39;ve been talking about, the methods.<br>&gt;&gt;<br>&gt;&gt; The next one is here:<br>&gt;&gt; https://github.com/Christoffen-Corporation/swift-cairo-ccairo<br>&gt;&gt;<br>&gt;&gt; It hosts the actual CCairo and its modulemap.<br>&gt;&gt;<br>&gt;&gt; And the last one:<br>&gt;&gt; https://github.com/Christoffen-Corporation/swift-cairo-cairo<br>&gt;&gt;<br>&gt;&gt; Contains the actual wrappings, probably paired with test causing issues. I don&#39;t know, but the bits are out there as requested.<br>&gt;&gt;<br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 22:44:20 -0500<br>&gt;&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt;<br>&gt;&gt; Could you push the latest code to GitHub?<br>&gt;&gt;<br>&gt;&gt; Sent from my iPhone<br>&gt;&gt;<br>&gt;&gt; On Dec 11, 2015, at 10:42 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; Okay, so test.swift is now main.swift, which outputs a much shorter but not better:<br>&gt;&gt;<br>&gt;&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/main.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;<br>&gt;&gt; let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;&gt;               ^~~~~~~<br>&gt;&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt;&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;&gt;<br>&gt;&gt; Compilers and debuggers these days...<br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 22:38:42 -0500<br>&gt;&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt;<br>&gt;&gt; Gotta rename test.swift to main.swift, otherwise it&#39;ll try to compile it as a module.<br>&gt;&gt;<br>&gt;&gt; This seems to be unintuitive -- we should probably file some structural bug reports to make this process more straightforward.<br>&gt;&gt;<br>&gt;&gt; Sent from my iPhone<br>&gt;&gt;<br>&gt;&gt; On Dec 11, 2015, at 10:36 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; Just when I think I make a breakthrough...Cairo and CCairo build, but this test file separates methods from wrappers still won&#39;t:<br>&gt;&gt;<br>&gt;&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:4:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.scale(10.0, y: 10.0)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:5:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.moveTo(29.0, y: 14.7)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:6:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.lineTo(37.6, y: 13.0)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:7:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.moveTo(37.6, y: 13.0)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:8:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.lineTo(30.4, y: 22.2)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:9:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.moveTo(30.4, y: 22.2)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:10:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.lineTo(29.0, y: 14.7)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:11:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.setLineWidth(0.1)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:12:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.stroke()<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:13:1: error: expressions are not allowed at the top level<br>&gt;&gt; surface.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt;&gt; ^<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/test.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;<br>&gt;&gt; let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;&gt;               ^~~~~~~<br>&gt;&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt;&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;&gt;<br>&gt;&gt; What is this &quot;top level&quot; thing? Not the first time I&#39;ve seen it.<br>&gt;&gt;<br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 22:30:25 -0500<br>&gt;&gt; CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt;<br>&gt;&gt; Gotta make sure to make a git tag<br>&gt;&gt;<br>&gt;&gt; git tag 1.0.0<br>&gt;&gt; git push --tags<br>&gt;&gt;<br>&gt;&gt; Sent from my iPhone<br>&gt;&gt;<br>&gt;&gt; On Dec 11, 2015, at 10:29 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br>&gt;&gt;<br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: max.howell at apple.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 19:02:41 -0800<br>&gt;&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt;<br>&gt;&gt; Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>&gt;&gt;<br>&gt;&gt; I&#39;ll open a ticket to ensure swift build warns for this in future.<br>&gt;&gt;<br>&gt;&gt; On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; Here&#39;s what is inhibited when using swift build -v:<br>&gt;&gt;<br>&gt;&gt; mgage at mgage:~/swift-cairo-bindings/test$ swift build -v<br>&gt;&gt; /home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt;&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt;&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt;&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt;&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;&gt;<br>&gt;&gt; I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: max.howell at apple.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 18:51:09 -0800<br>&gt;&gt; CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt;<br>&gt;&gt; The link failure is for the constructor for your Cairo class.<br>&gt;&gt;<br>&gt;&gt; I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>&gt;&gt;<br>&gt;&gt; In the mean time try `swift build -v` for some more information.<br>&gt;&gt;<br>&gt;&gt; On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; I have no idea what happened here, but:<br>&gt;&gt;<br>&gt;&gt; Cloning Packages/CCairo<br>&gt;&gt; Cloning Packages/Cairo<br>&gt;&gt; Compiling Swift Module &#39;Cairo&#39; (1 sources)<br>&gt;&gt; Linking Executable:  .build/debug/Cairo<br>&gt;&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt;&gt; Linking Executable:  .build/debug/test<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;<br>&gt;&gt; clang: error: linker command failed with exit code 1 (use -v to see invocation)<br>&gt;&gt; &lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)<br>&gt;&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt;&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;&gt;<br>&gt;&gt; I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>&gt;&gt;<br>&gt;&gt; Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:<br>&gt;&gt; https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>&gt;&gt;<br>&gt;&gt; And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:<br>&gt;&gt; https://gist.github.com/anonymous/11691be627d619066b8b<br>&gt;&gt;<br>&gt;&gt; I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>&gt;&gt;<br>&gt;&gt; To: jackl at apple.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 21:21:06 -0500<br>&gt;&gt; CC: swift-users at swift.org<br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: swift-users at swift.org<br>&gt;&gt;<br>&gt;&gt; I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br>&gt;&gt;<br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: jackl at apple.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 18:19:55 -0800<br>&gt;&gt; CC: harlan at harlanhaskins.com; swift-users at swift.org<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt;<br>&gt;&gt; Did you make the class and its methods public?<br>&gt;&gt;<br>&gt;&gt; Jack<br>&gt;&gt; On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; Here&#39;s what I&#39;m getting:<br>&gt;&gt;<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;<br>&gt;&gt; let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;&gt;               ^~~~~ ~~~~~~~<br>&gt;&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt;&gt;<br>&gt;&gt; So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>&gt;&gt;<br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 20:31:20 -0500<br>&gt;&gt; CC: jackl at apple.com; swift-users at swift.org<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt;<br>&gt;&gt; Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>&gt;&gt;<br>&gt;&gt; Cairo.Cairo should work fine.<br>&gt;&gt;<br>&gt;&gt; On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br>&gt;&gt;<br>&gt;&gt; Sent from Outlook Mobile<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; Is your struct named Cairo or Surface?<br>&gt;&gt;<br>&gt;&gt; If Cairo is the module name, you&#39;re trying to instantiate the module.<br>&gt;&gt;<br>&gt;&gt; - Harlan<br>&gt;&gt;<br>&gt;&gt; On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:<br>&gt;&gt;<br>&gt;&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;&gt;<br>&gt;&gt; Why can I not call Cairo()? The error:<br>&gt;&gt;<br>&gt;&gt; Compiling Swift Module &#39;test&#39; (1 sources)<br>&gt;&gt; /home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;<br>&gt;&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;&gt;             ~~~~~^<br>&gt;&gt; &lt;unknown&gt;:0: error: build had 1 command failures<br>&gt;&gt; swift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>&gt;&gt;<br>&gt;&gt; I don&#39;t know whether or not I want to translate methods into straight-up properties yet.<br>&gt;&gt;<br>&gt;&gt; Thanks, support here has been great so far. Cheers!<br>&gt;&gt; --MGage--<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 19:35:46 -0500<br>&gt;&gt; CC: gagemorgan at outlook.com; swift-users at swift.org<br>&gt;&gt; To: jackl at apple.com<br>&gt;&gt;<br>&gt;&gt; I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter<br>&gt;&gt;<br>&gt;&gt; But yes, a full wrapper would transparently handle getting and setting.<br>&gt;&gt;<br>&gt;&gt; - Harlan<br>&gt;&gt;<br>&gt;&gt; On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>&gt;&gt;<br>&gt;&gt; cairo.setLineWidth(0.1) // old<br>&gt;&gt; cairo.lineWidth = 0.1 // new<br>&gt;&gt;<br>&gt;&gt; On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; Harlan,<br>&gt;&gt;<br>&gt;&gt; The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>&gt;&gt;<br>&gt;&gt; let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)<br>&gt;&gt; cairo.scale(10.0, y: 10.0)<br>&gt;&gt; cairo.moveTo(29.0, y: 14.7)<br>&gt;&gt; cairo.lineTo(37.6, y: 13.0)<br>&gt;&gt; cairo.moveTo(37.6, y: 13.0)<br>&gt;&gt; cairo.lineTo(30.4, y: 22.2)<br>&gt;&gt; cairo.moveTo(30.4, y: 22.2)<br>&gt;&gt; cairo.lineTo(29.0, y: 14.7)<br>&gt;&gt; cairo.setLineWidth(0.1)<br>&gt;&gt; cairo.stroke()<br>&gt;&gt; cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>&gt;&gt;<br>&gt;&gt; Swift is both really neat and really frustrating when learning it.<br>&gt;&gt;<br>&gt;&gt; Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>&gt;&gt; From: harlan at harlanhaskins.com<br>&gt;&gt; Date: Fri, 11 Dec 2015 17:21:38 -0500<br>&gt;&gt; CC: kwame.bryan at gmail.com; swift-users at swift.org<br>&gt;&gt; To: gagemorgan at outlook.com<br>&gt;&gt;<br>&gt;&gt; Gage,<br>&gt;&gt;<br>&gt;&gt; Sorry, I just got back from class.<br>&gt;&gt;<br>&gt;&gt; I’ll respond in line!<br>&gt;&gt;<br>&gt;&gt; On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; Harlan,<br>&gt;&gt;<br>&gt;&gt; I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>&gt;&gt;<br>&gt;&gt; let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)<br>&gt;&gt; cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)<br>&gt;&gt; cairo.setFontSize(32.0)<br>&gt;&gt; cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)<br>&gt;&gt; cairo.moveTo(x: 10, y: 50)<br>&gt;&gt; cairo.showText(&quot;Hello, World!&quot;)<br>&gt;&gt; cairo.writeToPNG(&quot;hello.png&quot;)<br>&gt;&gt;<br>&gt;&gt; Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br>&gt;&gt;<br>&gt;&gt; Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; Sent from Outlook Mobile<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines.<br>&gt;&gt;<br>&gt;&gt; Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation.<br>&gt;&gt;<br>&gt;&gt; Sent from Outlook Mobile<br>&gt;&gt;<br>&gt;&gt; I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>&gt;&gt;<br>&gt;&gt; There’s an example of using those modules together.<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo.<br>&gt;&gt;<br>&gt;&gt; Sent from Outlook Mobile<br>&gt;&gt;<br>&gt;&gt; I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html<br>&gt;&gt;<br>&gt;&gt; Regards<br>&gt;&gt; Kwame<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; &lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br>&gt;&gt;<br>&gt;&gt;  _______________________________________________<br>&gt;&gt; swift-users mailing list<br>&gt;&gt; swift-users at swift.org<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; _______________________________________________ swift-users mailing list swift-users at swift.org https://lists.swift.org/mailman/listinfo/swift-users<br>&gt;&gt;<br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-users mailing list<br>&gt;&gt; swift-users at swift.org<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151212/9fcaaf06/attachment.html&gt;<br></p></div></li></ul></li></ul></li></ul></li></ul></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/e3903086ed803b3e3dadf2f0d68e6042?s=50"></div><header><strong>Need Help with C-to-Swift (finally)</strong> from <string>Gage Morgan</string> &lt;gagemorgan at outlook.com&gt;<p>December 12, 2015 at 12:00:00am</p></header><div class="content"><p>Sent in an improvement request (SR-202) for the way these things work. I&#39;d hate to say this, but I don&#39;t really know how wrappers are going to be done if it won&#39;t even compile. I&#39;m signing off for the night, if you see the aforementioned messages and have something to add on, I would encourage you to do so.<br>--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 23:33:59 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>You need to import Cairo, not CCairo, in main.swift, in swift-cairo-test<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 11:31 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>I&#39;ve pushed all three into three separate repos at GitHub. The first one is at:https://github.com/Christoffen-Corporation/swift-cairo-test<br>It hosts the test folder I&#39;ve been talking about, the methods.<br>The next one is here:https://github.com/Christoffen-Corporation/swift-cairo-ccairo<br>It hosts the actual CCairo and its modulemap.<br>And the last one:https://github.com/Christoffen-Corporation/swift-cairo-cairo<br>Contains the actual wrappings, probably paired with test causing issues. I don&#39;t know, but the bits are out there as requested.<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:44:20 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Could you push the latest code to GitHub?<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:42 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Okay, so test.swift is now main.swift, which outputs a much shorter but not better:<br>Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~~~&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>Compilers and debuggers these days...Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:38:42 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gotta rename test.swift to main.swift, otherwise it&#39;ll try to compile it as a module.<br>This seems to be unintuitive -- we should probably file some structural bug reports to make this process more straightforward.<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:36 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Just when I think I make a breakthrough...Cairo and CCairo build, but this test file separates methods from wrappers still won&#39;t:<br>Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/test.swift:4:1: error: expressions are not allowed at the top levelsurface.scale(10.0, y: 10.0)^/home/mgage/swift-cairo-bindings/test/test.swift:5:1: error: expressions are not allowed at the top levelsurface.moveTo(29.0, y: 14.7)^/home/mgage/swift-cairo-bindings/test/test.swift:6:1: error: expressions are not allowed at the top levelsurface.lineTo(37.6, y: 13.0)^/home/mgage/swift-cairo-bindings/test/test.swift:7:1: error: expressions are not allowed at the top levelsurface.moveTo(37.6, y: 13.0)^/home/mgage/swift-cairo-bindings/test/test.swift:8:1: error: expressions are not allowed at the top levelsurface.lineTo(30.4, y: 22.2)^/home/mgage/swift-cairo-bindings/test/test.swift:9:1: error: expressions are not allowed at the top levelsurface.moveTo(30.4, y: 22.2)^/home/mgage/swift-cairo-bindings/test/test.swift:10:1: error: expressions are not allowed at the top levelsurface.lineTo(29.0, y: 14.7)^/home/mgage/swift-cairo-bindings/test/test.swift:11:1: error: expressions are not allowed at the top levelsurface.setLineWidth(0.1)^/home/mgage/swift-cairo-bindings/test/test.swift:12:1: error: expressions are not allowed at the top levelsurface.stroke()^/home/mgage/swift-cairo-bindings/test/test.swift:13:1: error: expressions are not allowed at the top levelsurface.surfaceWriteToPNG(&quot;boobs.png&quot;)^/home/mgage/swift-cairo-bindings/test/test.swift:3:15: error: use of unresolved identifier &#39;Surface&#39;let surface = Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~~~&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>What is this &quot;top level&quot; thing? Not the first time I&#39;ve seen it.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 22:30:25 -0500<br>CC: max.howell at apple.com; jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gotta make sure to make a git tag<br>git tag 1.0.0git push --tags<br></p><p>Sent from my iPhone<br>On Dec 11, 2015, at 10:29 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Okay, so I&#39;ve gone in and noticed that yes, it does create a library. How do I use that? Dependency graph won&#39;t check out for some strange reason.<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 19:02:41 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>Your Cairo module is an executable and not a library. Don&#39;t call files main.swift for libraries.<br>I&#39;ll open a ticket to ensure swift build warns for this in future.<br>On Dec 11, 2015, at 6:54 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p><br></p><p><br>Here&#39;s what is inhibited when using swift build -v:<br>mgage at mgage:~/swift-cairo-bindings/test$ swift build -v/home/mgage/Downloads/swift/usr/bin/swiftc -o /home/mgage/swift-cairo-bindings/test/.build/debug/test /home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o -g -L/usr/local/lib/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-v&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;m going to attempt to create a repo, but GitHub and I don&#39;t always get along ;)<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: max.howell at apple.com<br>Date: Fri, 11 Dec 2015 18:51:09 -0800<br>CC: jackl at apple.com; swift-users at swift.org; harlan at harlanhaskins.com<br>To: gagemorgan at outlook.com<br></p><p>The link failure is for the constructor for your Cairo class.<br>I&#39;ll have to test this out myself. Can&#39;t for a few hours at least.<br>In the mean time try `swift build -v` for some more information.<br>On Dec 11, 2015, at 6:42 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:<br></p><p><br></p><p><br>I have no idea what happened here, but:<br>Cloning Packages/CCairoCloning Packages/CairoCompiling Swift Module &#39;Cairo&#39; (1 sources)Linking Executable:  .build/debug/CairoCompiling Swift Module &#39;test&#39; (1 sources)Linking Executable:  .build/debug/test/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/main.swift.o: In function `main&#39;:/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TMaC5Cairo7Surface&#39;/home/mgage/swift-cairo-bindings/test/main.swift:4: undefined reference to `_TFC5Cairo7SurfaceCfT6formatVSC13_cairo_format5widthSi6heightSi_S0_&#39;clang: error: linker command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: link command failed with exit code 1 (use -v to see invocation)&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I&#39;ve made everything public, and I think the initializer needs to be public or something like that. That said, I have no idea what I need to do for this to work. Deinit doesn&#39;t seem to want to be public, so leaving that alone. I need to know why the reference to Surface won&#39;t come up.<br>Here&#39;s the bits for the actual Cairo module (wrappings, etc.) and all:https://gist.github.com/anonymous/72c4d2db7953c0d832c7<br>And this is the one in the &quot;test&quot; directory where I&#39;m trying to get the methods in the above file to work without complaint outside of the directory:https://gist.github.com/anonymous/11691be627d619066b8b<br>I&#39;m hoping someone can tell me what I&#39;m doing wrong, because I&#39;m trying to do whatever possible. Also, I did upgrade the Swift components earlier when released.<br>To: jackl at apple.com<br>Date: Fri, 11 Dec 2015 21:21:06 -0500<br>CC: swift-users at swift.org<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: swift-users at swift.org<br></p><p><br></p><p><br>I&#39;m going to. Now, does this mean anything labelled func inside the struct needs tacked on as well?<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: jackl at apple.com<br>Date: Fri, 11 Dec 2015 18:19:55 -0800<br>CC: harlan at harlanhaskins.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Did you make the class and its methods public?<br>Jack<br>On Dec 11, 2015, at 6:16 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Here&#39;s what I&#39;m getting:<br>/home/mgage/swift-cairo-bindings/test/main.swift:4:15: error: module &#39;Cairo&#39; has no member named &#39;Surface&#39;let surface = Cairo.Surface(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)              ^~~~~ ~~~~~~~&lt;unknown&gt;:0: error: build had 1 command failures<br>So what I&#39;m trying to do is to put all wrappings in a separate module named Cairo. Then, I want to use those methods outside of the module named Cairo. I renamed the class to Surface and fixed all references, but for some reason it keeps saying something about Surface not present. I need to look into whether a git repo may be needed.<br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 20:31:20 -0500<br>CC: jackl at apple.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Nope, but you’ll need a way to specify the class inside the module (the fully-qualified type name)<br>Cairo.Cairo should work fine.<br>On Dec 11, 2015, at 8:14 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:The module is Cairo. Do I need to change something (I&#39;m assuming by struct you mean the name of the class containing wrappings). The class is named Cairo as well. Could renaming the module to ModCairo fix this?<br></p><p>Sent from Outlook Mobile<br>On Fri, Dec 11, 2015 at 5:11 PM -0800, &quot;Harlan Haskins&quot; &lt;harlan at harlanhaskins.com&gt; wrote:<br></p><p>Is your struct named Cairo or Surface?<br>If Cairo is the module name, you&#39;re trying to instantiate the module.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:55 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:<br></p><p>How would you use things like cairo.moveTo() outside of the wrapping file? I&#39;ve gone as far as writing a module named &quot;Cairo,&quot; taking the methods as mentioned above out, and moving them to their own directory &quot;tests.&quot; I have added &quot;Cairo&quot; as a dependency for &quot;tests,&quot; but there appears to be something wrong when I try to call:let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)Why can I not call Cairo()? The error:Compiling Swift Module &#39;test&#39; (1 sources)/home/mgage/swift-cairo-bindings/test/main.swift:4:18: error: cannot call value of non-function type &#39;module&lt;Cairo&gt;&#39;let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)            ~~~~~^&lt;unknown&gt;:0: error: build had 1 command failuresswift-build: exit(1): [&quot;/home/mgage/Downloads/swift-2.2-SNAPSHOT-2015-12-01-b-ubuntu15.10/usr/bin/swift-build-tool&quot;, &quot;-f&quot;, &quot;/home/mgage/swift-cairo-bindings/test/.build/debug/test.o/llbuild.yaml&quot;]<br>I don&#39;t know whether or not I want to translate methods into straight-up properties yet.Thanks, support here has been great so far. Cheers!--MGage--<br></p><p>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 19:35:46 -0500<br>CC: gagemorgan at outlook.com; swift-users at swift.org<br>To: jackl at apple.com<br></p><p>I considered that but couldn&#39;t find a cairo_get_font_scale function quickly to complement the setter 😅<br>But yes, a full wrapper would transparently handle getting and setting.<br></p><p>- Harlan<br>On Dec 11, 2015, at 7:28 PM, Jack Lawrence &lt;jackl at apple.com&gt; wrote:<br></p><p>For getter-setter pairs like `setLineWidth`, you might consider turning them into properties:<br>cairo.setLineWidth(0.1) // oldcairo.lineWidth = 0.1 // new<br>On Dec 11, 2015, at 4:22 PM, Gage Morgan via swift-users &lt;swift-users at swift.org&gt; wrote:Harlan,<br>The answer is yes. I even managed to get a couple you didn&#39;t list on my own:<br>let cairo = Cairo(format: CAIRO_FORMAT_ARGB32, width: 421, height: 410)cairo.scale(10.0, y: 10.0)cairo.moveTo(29.0, y: 14.7)cairo.lineTo(37.6, y: 13.0)cairo.moveTo(37.6, y: 13.0)cairo.lineTo(30.4, y: 22.2)cairo.moveTo(30.4, y: 22.2)cairo.lineTo(29.0, y: 14.7)cairo.setLineWidth(0.1)cairo.stroke()cairo.surfaceWriteToPNG(&quot;boobs.png&quot;)<br>Swift is both really neat and really frustrating when learning it. <br>Subject: Re: [swift-users] Need Help with C-to-Swift (finally)<br>From: harlan at harlanhaskins.com<br>Date: Fri, 11 Dec 2015 17:21:38 -0500<br>CC: kwame.bryan at gmail.com; swift-users at swift.org<br>To: gagemorgan at outlook.com<br></p><p>Gage,<br>Sorry, I just got back from class.<br>I’ll respond in line!<br>On Dec 11, 2015, at 5:09 PM, Gage Morgan &lt;gagemorgan at outlook.com&gt; wrote:Harlan,<br>I read on cairographics.org about bindings awhile back. I think they want cairo, not surface, so we would have something like:<br>let cairo = Surface(format: CAIRO_FORMAT_ARGB32, width: 240, height: 80)cairo.setFontFace(&quot;serif&quot;, weight: CAIRO_FONT_WEIGHT_BOLD)cairo.setFontSize(32.0)cairo.setSourceRGB(0.0, g: 0.0, b: 1.0)cairo.moveTo(x: 10, y: 50)cairo.showText(&quot;Hello, World!&quot;)cairo.writeToPNG(&quot;hello.png&quot;)<br>Would this work the same as before without &quot;surface&quot; but instead &quot;cairo”?<br></p><p>Absolutely! That’s just a variable name — it could be called ‘puppies’, though that’s not very readable.<br></p><p>Sent from Outlook Mobile<br></p><p><br></p><p>On Fri, Dec 11, 2015 at 2:00 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I went and looked at it, and even now it looks like I want to take every function I&#39;ve used in Cairo and translate it to Swift. Swift is such a...simple language compared to everything else. That being said, as a result of the specs, it is also much more verbose in terms of writing the code. Compared to other languages, it is written out instead of shoved onto a few lines. <br>Is there a way to import modules into other modules? Because it looks like a weekend project that will eventually get posted by myself at http://github.com/Christoffen-Corporation. <br></p><p>Sent from Outlook Mobile<br>I’d recommend having a look at the Swift package manager example again — https://github.com/apple/swift-package-manager/blob/master/Documentation/SystemModules.md<br>There’s an example of using those modules together.<br></p><p>On Fri, Dec 11, 2015 at 1:52 PM -0800, &quot;Gage Morgan via swift-users&quot; &lt;swift-users at swift.org&gt; wrote:<br></p><p>I meant the code posted in the Gist link above. I don&#39;t know jack squat about qsort. I&#39;m hoping that if I can reverse-engineer code already produced, I can apply it to other parts of Cairo. <br></p><p>Sent from Outlook Mobile<br>I’ll go ahead and comment it, but I think it’s simplistic enough that it should be readable with a grasp of some Swift concepts. Perhaps it’s a good idea to look through The Swift Programming Language to figure out some of the constructs I used — they’re fairly basic constructs.<br></p><p>On Fri, Dec 11, 2015 at 1:34 PM -0800, &quot;Kwame Bryan&quot;&lt;kwame.bryan at gmail.com&gt; wrote:<br></p><p>Tutorial on the subject. http://chris.eidhof.nl/posts/swift-c-interop.html <br>RegardsKwame&lt;Mail Attachment.txt&gt;&lt;Mail Attachment.txt&gt;<br> _______________________________________________swift-users mailing listswift-users at swift.orghttps://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br></p><p><br></p><p><br>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users 		 	   		  <br></p><p><br></p><p>_______________________________________________<br>swift-users mailing list<br>swift-users at swift.org<br>https://lists.swift.org/mailman/listinfo/swift-users<br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br> 		 	   		  <br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151212/11eda0b9/attachment.html&gt;<br></p></div></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js?vsn=d"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
