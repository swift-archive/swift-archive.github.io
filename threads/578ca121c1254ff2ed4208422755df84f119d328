<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/00851356c9f36ad35c35ab20df4a1cc7?s=50"></div><header><strong>Test failures on s390x</strong> from <string>Vivian Kong</string> &lt;vivkong at ca.ibm.com&gt;<p>August 16, 2016 at 10:00:00am</p></header><div class="content"><p>I ran into these 2 failing test cases in TestToolTests when I ran the<br>SwiftPM tests on s390x.  I&#39;m looking for hints on how to fix this as I&#39;m<br>not sure why the Foundation and XCTest module can&#39;t be found.<br></p><p>Thanks and I appreciate the help!<br></p><p>Test Case &#39;TestToolTests.testVersion&#39; started at 18:01:42.018<br>**** FAILURE EXECUTING SUBPROCESS ****<br>command: /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test<br> --version<br>SWIFT_EXEC: nil<br>output: Compile Swift Module &#39;Basic&#39; (20 sources)<br>Compile Swift Module &#39;POSIXTests&#39; (2 sources)<br>Compile Swift Module &#39;PackageDescriptionTests&#39; (3 sources)<br>/localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>import XCTest<br>       ^<br>/localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>import XCTest<br>       ^<br>/localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>import XCTest<br>       ^<br>/localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>import XCTest<br>       ^<br>/localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>import XCTest<br>       ^<br>/localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>error: no such module &#39;Foundation&#39;<br>import class Foundation.FileHandle<br>             ^<br>/localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>error: no such module &#39;Foundation&#39;<br>import class Foundation.FileHandle<br>             ^<br>/localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>error: no such module &#39;Foundation&#39;<br>import class Foundation.FileHandle<br>             ^<br>/localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>error: no such module &#39;Foundation&#39;<br>import class Foundation.FileHandle<br>             ^<br>/localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>error: no such module &#39;Foundation&#39;<br>import class Foundation.FileHandle<br>             ^<br>/localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>error: no such module &#39;Foundation&#39;<br>import class Foundation.FileHandle<br>             ^<br>/localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>error: no such module &#39;Foundation&#39;<br>import class Foundation.FileHandle<br>             ^<br>/localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>error: no such module &#39;Foundation&#39;<br>import class Foundation.FileHandle<br>             ^<br>&lt;unknown&gt;:0: error: build had 3 command failures<br>swift-test: error: exit<br>(-1263376016): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-build-tool<br> -f /localbox/vivkong/swift3/swiftpm/.build/debug.yaml test<br></p><p>/localbox/vivkong/swift3/swiftpm/Tests/CommandsTests/TestToolTests.swift:26:<br> error: TestToolTests.testVersion : XCTAssertTrue threw error &quot;exit<br>(152): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test<br> --version&quot; -<br>Test Case &#39;TestToolTests.testVersion&#39; failed (1.2 seconds).<br>Test Suite &#39;TestToolTests&#39; failed at 18:01:43.218<br>	 Executed 2 tests, with 2 failures (2 unexpected) in 2.248 (2.248)<br>seconds<br></p><p>Regards,<br></p><p>Vivian Kong<br>Software Developer<br>IBM Canada Toronto Lab<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/578cd328/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/17301ad52a677b00a621c39ab052e16d?s=50"></div><header><strong>Test failures on s390x</strong> from <string>Daniel Dunbar</string> &lt;daniel at zuster.org&gt;<p>August 16, 2016 at 08:00:00am</p></header><div class="content"><p>Those tests don&#39;t work on non-macOS yet. I suspect the problem is simply<br>that they are conditionalized on not-Linux vs only-macOS, but they probably<br>shouldn&#39;t be running.<br></p><p> - Daniel<br></p><p>On Tuesday, August 16, 2016, Vivian Kong via swift-build-dev &lt;<br>swift-build-dev at swift.org&gt; wrote:<br></p><p>&gt; I ran into these 2 failing test cases in TestToolTests when I ran the<br>&gt; SwiftPM tests on s390x. I&#39;m looking for hints on how to fix this as I&#39;m not<br>&gt; sure why the Foundation and XCTest module can&#39;t be found.<br>&gt;<br>&gt; Thanks and I appreciate the help!<br>&gt;<br>&gt; Test Case &#39;TestToolTests.testVersion&#39; started at 18:01:42.018<br>&gt; **** FAILURE EXECUTING SUBPROCESS ****<br>&gt; command: /localbox/vivkong/swift3/build/Ninja-<br>&gt; RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test --version<br>&gt; SWIFT_EXEC: nil<br>&gt; output: Compile Swift Module &#39;Basic&#39; (20 sources)<br>&gt; Compile Swift Module &#39;POSIXTests&#39; (2 sources)<br>&gt; Compile Swift Module &#39;PackageDescriptionTests&#39; (3 sources)<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8:<br>&gt; error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8:<br>&gt; error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br>&gt; error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br>&gt; error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br>&gt; error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>&gt; error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>&gt; error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>&gt; error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>&gt; error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>&gt; error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>&gt; error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>&gt; error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>&gt; error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; &lt;unknown&gt;:0: error: build had 3 command failures<br>&gt; swift-test: error: exit(-1263376016): /localbox/vivkong/swift3/<br>&gt; build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-build-tool<br>&gt; -f /localbox/vivkong/swift3/swiftpm/.build/debug.yaml test<br>&gt;<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/CommandsTests/TestToolTests.swift:26:<br>&gt; error: TestToolTests.testVersion : XCTAssertTrue threw error &quot;exit(152):<br>&gt; /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test<br>&gt; --version&quot; -<br>&gt; Test Case &#39;TestToolTests.testVersion&#39; failed (1.2 seconds).<br>&gt; Test Suite &#39;TestToolTests&#39; failed at 18:01:43.218<br>&gt; Executed 2 tests, with 2 failures (2 unexpected) in 2.248 (2.248) seconds<br>&gt;<br>&gt; Regards,<br>&gt;<br>&gt; Vivian Kong<br>&gt; Software Developer<br>&gt; IBM Canada Toronto Lab<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/dccfbd53/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/5d9baa679148bd83458d11df12327ce0?s=50"></div><header><strong>Test failures on s390x</strong> from <string>Daniel Dunbar</string> &lt;daniel_dunbar at apple.com&gt;<p>August 16, 2016 at 08:00:00am</p></header><div class="content"><p>Hi Vivian,<br></p><p>After looking at your PR, I realize I was mistaken here.<br></p><p>We can&#39;t *run* the tests on non-macOS yet, so we can&#39;t fully test `swift-test`, but after looking at these exact tests they are just checking minor details of the `swift-test` tool.<br></p><p>I&#39;m now unsure why these would be failing. It looks like something is not right for the dynamic linker search paths.<br></p><p>{{swiftc}} currently embeds an RPATH on Linux pointing into its standard library directory. Is it possible that isn&#39;t happening on s390x? I&#39;m not sure why this would only apply to swift-test though.<br></p><p> - Daniel<br></p><p>&gt; On Aug 16, 2016, at 8:11 AM, Daniel Dunbar via swift-build-dev &lt;swift-build-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; Those tests don&#39;t work on non-macOS yet. I suspect the problem is simply that they are conditionalized on not-Linux vs only-macOS, but they probably shouldn&#39;t be running. <br>&gt; <br>&gt;  - Daniel<br>&gt; <br>&gt; On Tuesday, August 16, 2016, Vivian Kong via swift-build-dev &lt;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&gt; wrote:<br>&gt; I ran into these 2 failing test cases in TestToolTests when I ran the SwiftPM tests on s390x. I&#39;m looking for hints on how to fix this as I&#39;m not sure why the Foundation and XCTest module can&#39;t be found.<br>&gt; <br>&gt; Thanks and I appreciate the help!<br>&gt; <br>&gt; Test Case &#39;TestToolTests.testVersion&#39; started at 18:01:42.018<br>&gt; **** FAILURE EXECUTING SUBPROCESS ****<br>&gt; command: /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test --version<br>&gt; SWIFT_EXEC: nil<br>&gt; output: Compile Swift Module &#39;Basic&#39; (20 sources)<br>&gt; Compile Swift Module &#39;POSIXTests&#39; (2 sources)<br>&gt; Compile Swift Module &#39;PackageDescriptionTests&#39; (3 sources)<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; &lt;unknown&gt;:0: error: build had 3 command failures<br>&gt; swift-test: error: exit(-1263376016): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-build-tool -f /localbox/vivkong/swift3/swiftpm/.build/debug.yaml test<br>&gt; <br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/CommandsTests/TestToolTests.swift:26: error: TestToolTests.testVersion : XCTAssertTrue threw error &quot;exit(152): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test --version&quot; - <br>&gt; Test Case &#39;TestToolTests.testVersion&#39; failed (1.2 seconds).<br>&gt; Test Suite &#39;TestToolTests&#39; failed at 18:01:43.218<br>&gt; Executed 2 tests, with 2 failures (2 unexpected) in 2.248 (2.248) seconds<br>&gt; <br>&gt; Regards,<br>&gt; <br>&gt; Vivian Kong<br>&gt; Software Developer<br>&gt; IBM Canada Toronto Lab<br>&gt; _______________________________________________<br>&gt; swift-build-dev mailing list<br>&gt; swift-build-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-build-dev<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/32857ea9/attachment.html&gt;<br></p></div></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/00851356c9f36ad35c35ab20df4a1cc7?s=50"></div><header><strong>Test failures on s390x</strong> from <string>Vivian Kong</string> &lt;vivkong at ca.ibm.com&gt;<p>August 16, 2016 at 11:00:00am</p></header><div class="content"><p>Thanks Daniel.  I&#39;ve created<br>https://github.com/apple/swift-package-manager/pull/608 to disable the<br>tests on non-macOS platforms.<br></p><p>Pull request #608 is for the swift-3.0-branch.  Would I need to create<br>another pull request for master?  Wanted to see if the process is similar<br>to https://github.com/apple/swift.<br></p><p>Thanks!<br></p><p>Regards,<br></p><p>Vivian Kong<br>Software Developer<br>IBM Canada Toronto Lab<br></p><p><br></p><p>From:	Daniel Dunbar &lt;daniel at zuster.org&gt;<br>To:	Vivian Kong/Toronto/IBM at IBMCA<br>Cc:	&quot;swift-build-dev at swift.org&quot; &lt;swift-build-dev at swift.org&gt;<br>Date:	2016/08/16 11:11 AM<br>Subject:	Re: [swift-build-dev] Test failures on s390x<br>Sent by:	daniel.dunbar at gmail.com<br></p><p><br></p><p>Those tests don&#39;t work on non-macOS yet. I suspect the problem is simply<br>that they are conditionalized on not-Linux vs only-macOS, but they probably<br>shouldn&#39;t be running.<br></p><p>Â - Daniel<br></p><p>On Tuesday, August 16, 2016, Vivian Kong via swift-build-dev &lt;<br>swift-build-dev at swift.org&gt; wrote:<br>  I ran into these 2 failing test cases in TestToolTests when I ran the<br>  SwiftPM tests on s390x. I&#39;m looking for hints on how to fix this as I&#39;m<br>  not sure why the Foundation and XCTest module can&#39;t be found.<br></p><p>  Thanks and I appreciate the help!<br></p><p>  Test Case &#39;TestToolTests.testVersion&#39; started at 18:01:42.018<br>  **** FAILURE EXECUTING SUBPROCESS ****<br>  command: /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test<br> --version<br>  SWIFT_EXEC: nil<br>  output: Compile Swift Module &#39;Basic&#39; (20 sources)<br>  Compile Swift Module &#39;POSIXTests&#39; (2 sources)<br>  Compile Swift Module &#39;PackageDescriptionTests&#39; (3 sources)<br>  /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>  import XCTest<br>  ^<br>  /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>  import XCTest<br>  ^<br>  /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>  import XCTest<br>  ^<br>  /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>  import XCTest<br>  ^<br>  /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>  import XCTest<br>  ^<br>  /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>  error: no such module &#39;Foundation&#39;<br>  import class Foundation.FileHandle<br>  ^<br>  /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>  error: no such module &#39;Foundation&#39;<br>  import class Foundation.FileHandle<br>  ^<br>  /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>  error: no such module &#39;Foundation&#39;<br>  import class Foundation.FileHandle<br>  ^<br>  /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>  error: no such module &#39;Foundation&#39;<br>  import class Foundation.FileHandle<br>  ^<br>  /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>  error: no such module &#39;Foundation&#39;<br>  import class Foundation.FileHandle<br>  ^<br>  /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>  error: no such module &#39;Foundation&#39;<br>  import class Foundation.FileHandle<br>  ^<br>  /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>  error: no such module &#39;Foundation&#39;<br>  import class Foundation.FileHandle<br>  ^<br>  /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br>  error: no such module &#39;Foundation&#39;<br>  import class Foundation.FileHandle<br>  ^<br>  &lt;unknown&gt;:0: error: build had 3 command failures<br>  swift-test: error: exit<br>  (-1263376016): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-build-tool<br> -f /localbox/vivkong/swift3/swiftpm/.build/debug.yaml test<br></p><p>  /localbox/vivkong/swift3/swiftpm/Tests/CommandsTests/TestToolTests.swift:26:<br> error: TestToolTests.testVersion : XCTAssertTrue threw error &quot;exit<br>  (152): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test<br> --version&quot; -<br>  Test Case &#39;TestToolTests.testVersion&#39; failed (1.2 seconds).<br>  Test Suite &#39;TestToolTests&#39; failed at 18:01:43.218<br>  Executed 2 tests, with 2 failures (2 unexpected) in 2.248 (2.248) seconds<br></p><p>  Regards,<br></p><p>  Vivian Kong<br>  Software Developer<br>  IBM Canada Toronto Lab<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/2fa6bc73/attachment.html&gt;<br>-------------- next part --------------<br>A non-text attachment was scrubbed...<br>Name: graycol.gif<br>Type: image/gif<br>Size: 105 bytes<br>Desc: not available<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/2fa6bc73/attachment.gif&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/5d9baa679148bd83458d11df12327ce0?s=50"></div><header><strong>Test failures on s390x</strong> from <string>Daniel Dunbar</string> &lt;daniel_dunbar at apple.com&gt;<p>August 16, 2016 at 09:00:00am</p></header><div class="content"><p>Hi Vivian,<br></p><p>Did you see my follow up?<br></p><p> - Daniel<br></p><p>&gt; On Aug 16, 2016, at 8:54 AM, Vivian Kong via swift-build-dev &lt;swift-build-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; Thanks Daniel. I&#39;ve created https://github.com/apple/swift-package-manager/pull/608 &lt;https://github.com/apple/swift-package-manager/pull/608&gt; to disable the tests on non-macOS platforms.<br>&gt; <br>&gt; Pull request #608 is for the swift-3.0-branch. Would I need to create another pull request for master? Wanted to see if the process is similar to https://github.com/apple/swift &lt;https://github.com/apple/swift&gt;.<br>&gt; <br>&gt; Thanks!<br>&gt; <br>&gt; Regards,<br>&gt; <br>&gt; Vivian Kong<br>&gt; Software Developer<br>&gt; IBM Canada Toronto Lab<br>&gt; <br>&gt; &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 11:11:16 AM---Those tests don&#39;t work on non-macOS yet. I suspect the problem is simply that they are conditionaliz<br>&gt; <br>&gt; From: Daniel Dunbar &lt;daniel at zuster.org&gt;<br>&gt; To: Vivian Kong/Toronto/IBM at IBMCA<br>&gt; Cc: &quot;swift-build-dev at swift.org&quot; &lt;swift-build-dev at swift.org&gt;<br>&gt; Date: 2016/08/16 11:11 AM<br>&gt; Subject: Re: [swift-build-dev] Test failures on s390x<br>&gt; Sent by: daniel.dunbar at gmail.com<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; Those tests don&#39;t work on non-macOS yet. I suspect the problem is simply that they are conditionalized on not-Linux vs only-macOS, but they probably shouldn&#39;t be running. <br>&gt; <br>&gt;  - Daniel<br>&gt; <br>&gt; On Tuesday, August 16, 2016, Vivian Kong via swift-build-dev &lt;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&gt; wrote:<br>&gt; I ran into these 2 failing test cases in TestToolTests when I ran the SwiftPM tests on s390x. I&#39;m looking for hints on how to fix this as I&#39;m not sure why the Foundation and XCTest module can&#39;t be found.<br>&gt; <br>&gt; Thanks and I appreciate the help!<br>&gt; <br>&gt; Test Case &#39;TestToolTests.testVersion&#39; started at 18:01:42.018<br>&gt; **** FAILURE EXECUTING SUBPROCESS ****<br>&gt; command: /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test --version<br>&gt; SWIFT_EXEC: nil<br>&gt; output: Compile Swift Module &#39;Basic&#39; (20 sources)<br>&gt; Compile Swift Module &#39;POSIXTests&#39; (2 sources)<br>&gt; Compile Swift Module &#39;PackageDescriptionTests&#39; (3 sources)<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; &lt;unknown&gt;:0: error: build had 3 command failures<br>&gt; swift-test: error: exit(-1263376016): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-build-tool -f /localbox/vivkong/swift3/swiftpm/.build/debug.yaml test<br>&gt; <br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/CommandsTests/TestToolTests.swift:26: error: TestToolTests.testVersion : XCTAssertTrue threw error &quot;exit(152): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test --version&quot; - <br>&gt; Test Case &#39;TestToolTests.testVersion&#39; failed (1.2 seconds).<br>&gt; Test Suite &#39;TestToolTests&#39; failed at 18:01:43.218<br>&gt; Executed 2 tests, with 2 failures (2 unexpected) in 2.248 (2.248) seconds<br>&gt; <br>&gt; Regards,<br>&gt; <br>&gt; Vivian Kong<br>&gt; Software Developer<br>&gt; IBM Canada Toronto Lab<br>&gt; <br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-build-dev mailing list<br>&gt; swift-build-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-build-dev<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/154fa8df/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/00851356c9f36ad35c35ab20df4a1cc7?s=50"></div><header><strong>Test failures on s390x</strong> from <string>Vivian Kong</string> &lt;vivkong at ca.ibm.com&gt;<p>August 16, 2016 at 01:00:00pm</p></header><div class="content"><p>Sorry was having lunch =P<br></p><p>Makes sense!  I tried doing<br></p><p>objdump<br>-x /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swiftc<br> | grep RPATH<br></p><p>but it returns nothing.<br></p><p>I did the same thing on my build on x86_64 and got the same result.<br></p><p>Regards,<br></p><p>Vivian Kong<br>Software Developer<br>IBM Canada Toronto Lab<br></p><p><br></p><p>From:	Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>To:	Vivian Kong/Toronto/IBM at IBMCA<br>Cc:	Daniel Dunbar &lt;daniel at zuster.org&gt;, &quot;swift-build-dev at swift.org&quot;<br>            &lt;swift-build-dev at swift.org&gt;<br>Date:	2016/08/16 12:43 PM<br>Subject:	Re: [swift-build-dev] Test failures on s390x<br>Sent by:	daniel_dunbar at apple.com<br></p><p><br></p><p>Hi Vivian,<br></p><p>Did you see my follow up?<br></p><p> - Daniel<br></p><p>      On Aug 16, 2016, at 8:54 AM, Vivian Kong via swift-build-dev &lt;<br>      swift-build-dev at swift.org&gt; wrote:<br></p><p><br></p><p>      Thanks Daniel. I&#39;ve created<br>      https://github.com/apple/swift-package-manager/pull/608 to disable<br>      the tests on non-macOS platforms.<br></p><p>      Pull request #608 is for the swift-3.0-branch. Would I need to create<br>      another pull request for master? Wanted to see if the process is<br>      similar to https://github.com/apple/swift.<br></p><p>      Thanks!<br></p><p>      Regards,<br></p><p>      Vivian Kong<br>      Software Developer<br>      IBM Canada Toronto Lab<br></p><p>      &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 11:11:16 AM---Those tests<br>      don&#39;t work on non-macOS yet. I suspect the problem is simply that<br>      they are conditionaliz<br></p><p>      From: Daniel Dunbar &lt;daniel at zuster.org&gt;<br>      To: Vivian Kong/Toronto/IBM at IBMCA<br>      Cc: &quot;swift-build-dev at swift.org&quot; &lt;swift-build-dev at swift.org&gt;<br>      Date: 2016/08/16 11:11 AM<br>      Subject: Re: [swift-build-dev] Test failures on s390x<br>      Sent by: daniel.dunbar at gmail.com<br></p><p><br></p><p><br></p><p>      Those tests don&#39;t work on non-macOS yet. I suspect the problem is<br>      simply that they are conditionalized on not-Linux vs only-macOS, but<br>      they probably shouldn&#39;t be running.<br></p><p>       - Daniel<br></p><p>      On Tuesday, August 16, 2016, Vivian Kong via swift-build-dev &lt;<br>      swift-build-dev at swift.org&gt; wrote:<br>            I ran into these 2 failing test cases in TestToolTests when I<br>            ran the SwiftPM tests on s390x. I&#39;m looking for hints on how to<br>            fix this as I&#39;m not sure why the Foundation and XCTest module<br>            can&#39;t be found.<br></p><p>            Thanks and I appreciate the help!<br></p><p>            Test Case &#39;TestToolTests.testVersion&#39; started at 18:01:42.018<br>            **** FAILURE EXECUTING SUBPROCESS ****<br>            command: /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test<br> --version<br>            SWIFT_EXEC: nil<br>            output: Compile Swift Module &#39;Basic&#39; (20 sources)<br>            Compile Swift Module &#39;POSIXTests&#39; (2 sources)<br>            Compile Swift Module &#39;PackageDescriptionTests&#39; (3 sources)<br>            /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>            import XCTest<br>            ^<br>            /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>            import XCTest<br>            ^<br>            /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>            import XCTest<br>            ^<br>            /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>            import XCTest<br>            ^<br>            /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>            import XCTest<br>            ^<br>            /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>            import class Foundation.FileHandle<br>            ^<br>            /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>            import class Foundation.FileHandle<br>            ^<br>            /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>            import class Foundation.FileHandle<br>            ^<br>            /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>            import class Foundation.FileHandle<br>            ^<br>            /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>            import class Foundation.FileHandle<br>            ^<br>            /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>            import class Foundation.FileHandle<br>            ^<br>            /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>            import class Foundation.FileHandle<br>            ^<br>            /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>            import class Foundation.FileHandle<br>            ^<br>            &lt;unknown&gt;:0: error: build had 3 command failures<br>            swift-test: error: exit<br>            (-1263376016): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-build-tool<br> -f /localbox/vivkong/swift3/swiftpm/.build/debug.yaml test<br></p><p>            /localbox/vivkong/swift3/swiftpm/Tests/CommandsTests/TestToolTests.swift:26:<br> error: TestToolTests.testVersion : XCTAssertTrue threw error &quot;exit<br>            (152): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test<br> --version&quot; -<br>            Test Case &#39;TestToolTests.testVersion&#39; failed (1.2 seconds).<br>            Test Suite &#39;TestToolTests&#39; failed at 18:01:43.218<br>            Executed 2 tests, with 2 failures (2 unexpected) in 2.248<br>            (2.248) seconds<br></p><p>            Regards,<br></p><p>            Vivian Kong<br>            Software Developer<br>            IBM Canada Toronto Lab<br></p><p><br>      _______________________________________________<br>      swift-build-dev mailing list<br>      swift-build-dev at swift.org<br>      https://lists.swift.org/mailman/listinfo/swift-build-dev<br></p><p><br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/95fc1d1b/attachment.html&gt;<br>-------------- next part --------------<br>A non-text attachment was scrubbed...<br>Name: graycol.gif<br>Type: image/gif<br>Size: 105 bytes<br>Desc: not available<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/95fc1d1b/attachment.gif&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/5d9baa679148bd83458d11df12327ce0?s=50"></div><header><strong>Test failures on s390x</strong> from <string>Daniel Dunbar</string> &lt;daniel_dunbar at apple.com&gt;<p>August 16, 2016 at 10:00:00am</p></header><div class="content"><p>I wasn&#39;t precise enough, we actually use RUNPATH currently. Here is what I see for a local build on Ubuntu 15.10:<br></p><p>~/public/swift-project/swiftpm$ objdump -x ../build/Ninja-ReleaseAssert/swiftpm-linux-x86_64/debug/swift-test | grep RUNPATH                                                                                             <br>  RUNPATH              /home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/swift-linux-x86_64/lib/swift/linux:$ORIGIN/../lib/swift/linux:/home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/foundation-linux-x86_64/Foundation:/home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/xctest-linux-x86_64:$ORIGIN <br></p><p>Note the Foundation and XCTest paths there.<br></p><p>Actually -- I just realized what is going on, it is something completely different.<br></p><p>Your `swift-test --version` command appears to be, for some reason or other, actually trying to execute the tests (instead of just printing the version). It shouldn&#39;t be doing that; is it possible there is a miscompile of swift-test here?<br></p><p> - Daniel<br></p><p>&gt; On Aug 16, 2016, at 10:03 AM, Vivian Kong &lt;vivkong at ca.ibm.com&gt; wrote:<br>&gt; <br>&gt; Sorry was having lunch =P<br>&gt; <br>&gt; Makes sense! I tried doing <br>&gt; <br>&gt; objdump -x /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swiftc | grep RPATH<br>&gt; <br>&gt; but it returns nothing.<br>&gt; <br>&gt; I did the same thing on my build on x86_64 and got the same result. <br>&gt; <br>&gt; Regards,<br>&gt; <br>&gt; Vivian Kong<br>&gt; Software Developer<br>&gt; IBM Canada Toronto Lab<br>&gt; <br>&gt; &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 12:43:38 PM---Hi Vivian, Did you see my follow up?<br>&gt; <br>&gt; From: Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>&gt; To: Vivian Kong/Toronto/IBM at IBMCA<br>&gt; Cc: Daniel Dunbar &lt;daniel at zuster.org&gt;, &quot;swift-build-dev at swift.org&quot; &lt;swift-build-dev at swift.org&gt;<br>&gt; Date: 2016/08/16 12:43 PM<br>&gt; Subject: Re: [swift-build-dev] Test failures on s390x<br>&gt; Sent by: daniel_dunbar at apple.com<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; Hi Vivian,<br>&gt; <br>&gt; Did you see my follow up?<br>&gt; <br>&gt; - Daniel<br>&gt; On Aug 16, 2016, at 8:54 AM, Vivian Kong via swift-build-dev &lt;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&gt; wrote:<br>&gt; Thanks Daniel. I&#39;ve created https://github.com/apple/swift-package-manager/pull/608 &lt;https://github.com/apple/swift-package-manager/pull/608&gt; to disable the tests on non-macOS platforms.<br>&gt; <br>&gt; Pull request #608 is for the swift-3.0-branch. Would I need to create another pull request for master? Wanted to see if the process is similar to https://github.com/apple/swift &lt;https://github.com/apple/swift&gt;.<br>&gt; <br>&gt; Thanks!<br>&gt; <br>&gt; Regards,<br>&gt; <br>&gt; Vivian Kong<br>&gt; Software Developer<br>&gt; IBM Canada Toronto Lab<br>&gt; <br>&gt; &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 11:11:16 AM---Those tests don&#39;t work on non-macOS yet. I suspect the problem is simply that they are conditionaliz<br>&gt; <br>&gt; From: Daniel Dunbar &lt;daniel at zuster.org &lt;mailto:daniel at zuster.org&gt;&gt;<br>&gt; To: Vivian Kong/Toronto/IBM at IBMCA<br>&gt; Cc: &quot;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&quot; &lt;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&gt;<br>&gt; Date: 2016/08/16 11:11 AM<br>&gt; Subject: Re: [swift-build-dev] Test failures on s390x<br>&gt; Sent by: daniel.dunbar at gmail.com &lt;mailto:daniel.dunbar at gmail.com&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; Those tests don&#39;t work on non-macOS yet. I suspect the problem is simply that they are conditionalized on not-Linux vs only-macOS, but they probably shouldn&#39;t be running. <br>&gt; <br>&gt; - Daniel<br>&gt; <br>&gt; On Tuesday, August 16, 2016, Vivian Kong via swift-build-dev &lt;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&gt; wrote:<br>&gt; I ran into these 2 failing test cases in TestToolTests when I ran the SwiftPM tests on s390x. I&#39;m looking for hints on how to fix this as I&#39;m not sure why the Foundation and XCTest module can&#39;t be found.<br>&gt; <br>&gt; Thanks and I appreciate the help!<br>&gt; <br>&gt; Test Case &#39;TestToolTests.testVersion&#39; started at 18:01:42.018<br>&gt; **** FAILURE EXECUTING SUBPROCESS ****<br>&gt; command: /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test --version<br>&gt; SWIFT_EXEC: nil<br>&gt; output: Compile Swift Module &#39;Basic&#39; (20 sources)<br>&gt; Compile Swift Module &#39;POSIXTests&#39; (2 sources)<br>&gt; Compile Swift Module &#39;PackageDescriptionTests&#39; (3 sources)<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; &lt;unknown&gt;:0: error: build had 3 command failures<br>&gt; swift-test: error: exit(-1263376016): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-build-tool -f /localbox/vivkong/swift3/swiftpm/.build/debug.yaml test<br>&gt; <br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/CommandsTests/TestToolTests.swift:26: error: TestToolTests.testVersion : XCTAssertTrue threw error &quot;exit(152): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test --version&quot; - <br>&gt; Test Case &#39;TestToolTests.testVersion&#39; failed (1.2 seconds).<br>&gt; Test Suite &#39;TestToolTests&#39; failed at 18:01:43.218<br>&gt; Executed 2 tests, with 2 failures (2 unexpected) in 2.248 (2.248) seconds<br>&gt; <br>&gt; Regards,<br>&gt; <br>&gt; Vivian Kong<br>&gt; Software Developer<br>&gt; IBM Canada Toronto Lab<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-build-dev mailing list<br>&gt; swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;<br>&gt; https://lists.swift.org/mailman/listinfo/swift-build-dev &lt;https://lists.swift.org/mailman/listinfo/swift-build-dev&gt;<br>&gt; <br>&gt; <br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/9c3d75cb/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/00851356c9f36ad35c35ab20df4a1cc7?s=50"></div><header><strong>Test failures on s390x</strong> from <string>Vivian Kong</string> &lt;vivkong at ca.ibm.com&gt;<p>August 16, 2016 at 01:00:00pm</p></header><div class="content"><p>Thanks for clarifying!  I just checked and my swift-test executable seems<br>to have the correct RPATH (Foundation and XCTest paths are there).<br></p><p>And yes I didn&#39;t understand why when I execute swift-test it is trying to<br>compile.  Let me do a clean SwiftPM build again and check the log.<br></p><p>Regards,<br></p><p>Vivian Kong<br>Software Developer<br>IBM Canada Toronto Lab<br></p><p><br></p><p>From:	Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>To:	Vivian Kong/Toronto/IBM at IBMCA<br>Cc:	Daniel Dunbar &lt;daniel at zuster.org&gt;, &quot;swift-build-dev at swift.org&quot;<br>            &lt;swift-build-dev at swift.org&gt;<br>Date:	2016/08/16 01:10 PM<br>Subject:	Re: [swift-build-dev] Test failures on s390x<br>Sent by:	daniel_dunbar at apple.com<br></p><p><br></p><p>I wasn&#39;t precise enough, we actually use RUNPATH currently. Here is what I<br>see for a local build on Ubuntu 15.10:<br></p><p>~/public/swift-project/swiftpm$ objdump<br>-x ../build/Ninja-ReleaseAssert/swiftpm-linux-x86_64/debug/swift-test |<br>grep RUNPATH<br></p><p>RUNPATH              /home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/swift-linux-x86_64/lib/swift/linux:$ORIGIN/../lib/swift/linux:/home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/foundation-linux-x86_64/Foundation:/home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/xctest-linux-x86_64:$ORIGIN<br></p><p><br>Note the Foundation and XCTest paths there.<br></p><p>Actually -- I just realized what is going on, it is something completely<br>different.<br></p><p>Your `swift-test --version` command appears to be, for some reason or<br>other, actually trying to execute the tests (instead of just printing the<br>version). It shouldn&#39;t be doing that; is it possible there is a miscompile<br>of swift-test here?<br></p><p> - Daniel<br></p><p>      On Aug 16, 2016, at 10:03 AM, Vivian Kong &lt;vivkong at ca.ibm.com&gt; wrote:<br></p><p><br></p><p>      Sorry was having lunch =P<br></p><p>      Makes sense! I tried doing<br></p><p>      objdump<br>      -x /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swiftc<br> | grep RPATH<br></p><p>      but it returns nothing.<br></p><p>      I did the same thing on my build on x86_64 and got the same result.<br></p><p>      Regards,<br></p><p>      Vivian Kong<br>      Software Developer<br>      IBM Canada Toronto Lab<br></p><p>      &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 12:43:38 PM---Hi Vivian, Did<br>      you see my follow up?<br></p><p>      From: Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>      To: Vivian Kong/Toronto/IBM at IBMCA<br>      Cc: Daniel Dunbar &lt;daniel at zuster.org&gt;, &quot;swift-build-dev at swift.org&quot; &lt;<br>      swift-build-dev at swift.org&gt;<br>      Date: 2016/08/16 12:43 PM<br>      Subject: Re: [swift-build-dev] Test failures on s390x<br>      Sent by: daniel_dunbar at apple.com<br></p><p><br></p><p><br></p><p>      Hi Vivian,<br></p><p>      Did you see my follow up?<br></p><p>      - Daniel<br>                  On Aug 16, 2016, at 8:54 AM, Vivian Kong via<br>                  swift-build-dev &lt;swift-build-dev at swift.org&gt; wrote:<br></p><p><br>                  Thanks Daniel. I&#39;ve created<br>                  https://github.com/apple/swift-package-manager/pull/608<br>                  to disable the tests on non-macOS platforms.<br></p><p>                  Pull request #608 is for the swift-3.0-branch. Would I<br>                  need to create another pull request for master? Wanted to<br>                  see if the process is similar to<br>                  https://github.com/apple/swift.<br></p><p>                  Thanks!<br></p><p>                  Regards,<br></p><p>                  Vivian Kong<br>                  Software Developer<br>                  IBM Canada Toronto Lab<br></p><p>                  &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 11:11:16<br>                  AM---Those tests don&#39;t work on non-macOS yet. I suspect<br>                  the problem is simply that they are conditionaliz<br></p><p>                  From: Daniel Dunbar &lt;daniel at zuster.org&gt;<br>                  To: Vivian Kong/Toronto/IBM at IBMCA<br>                  Cc: &quot;swift-build-dev at swift.org&quot; &lt;<br>                  swift-build-dev at swift.org&gt;<br>                  Date: 2016/08/16 11:11 AM<br>                  Subject: Re: [swift-build-dev] Test failures on s390x<br>                  Sent by: daniel.dunbar at gmail.com<br></p><p><br></p><p><br></p><p><br>                  Those tests don&#39;t work on non-macOS yet. I suspect the<br>                  problem is simply that they are conditionalized on<br>                  not-Linux vs only-macOS, but they probably shouldn&#39;t be<br>                  running.<br></p><p>                  - Daniel<br></p><p>                  On Tuesday, August 16, 2016, Vivian Kong via<br>                  swift-build-dev &lt;swift-build-dev at swift.org&gt; wrote:<br>                              I ran into these 2 failing test cases in<br>                              TestToolTests when I ran the SwiftPM tests on<br>                              s390x. I&#39;m looking for hints on how to fix<br>                              this as I&#39;m not sure why the Foundation and<br>                              XCTest module can&#39;t be found.<br></p><p>                              Thanks and I appreciate the help!<br></p><p>                              Test Case &#39;TestToolTests.testVersion&#39; started<br>                              at 18:01:42.018<br>                              **** FAILURE EXECUTING SUBPROCESS ****<br>                              command: /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test<br> --version<br>                              SWIFT_EXEC: nil<br>                              output: Compile Swift Module &#39;Basic&#39; (20<br>                              sources)<br>                              Compile Swift Module &#39;POSIXTests&#39; (2 sources)<br>                              Compile Swift Module<br>                              &#39;PackageDescriptionTests&#39; (3 sources)<br>                              /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>                              import XCTest<br>                              ^<br>                              /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>                              import XCTest<br>                              ^<br>                              /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>                              import XCTest<br>                              ^<br>                              /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>                              import XCTest<br>                              ^<br>                              /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>                              import XCTest<br>                              ^<br>                              /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                              import class Foundation.FileHandle<br>                              ^<br>                              /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                              import class Foundation.FileHandle<br>                              ^<br>                              /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                              import class Foundation.FileHandle<br>                              ^<br>                              /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                              import class Foundation.FileHandle<br>                              ^<br>                              /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                              import class Foundation.FileHandle<br>                              ^<br>                              /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                              import class Foundation.FileHandle<br>                              ^<br>                              /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                              import class Foundation.FileHandle<br>                              ^<br>                              /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                              import class Foundation.FileHandle<br>                              ^<br>                              &lt;unknown&gt;:0: error: build had 3 command<br>                              failures<br>                              swift-test: error: exit<br>                              (-1263376016): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-build-tool<br> -f /localbox/vivkong/swift3/swiftpm/.build/debug.yaml test<br></p><p>                              /localbox/vivkong/swift3/swiftpm/Tests/CommandsTests/TestToolTests.swift:26:<br> error: TestToolTests.testVersion : XCTAssertTrue threw error &quot;exit<br>                              (152): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test<br> --version&quot; -<br>                              Test Case &#39;TestToolTests.testVersion&#39; failed<br>                              (1.2 seconds).<br>                              Test Suite &#39;TestToolTests&#39; failed at<br>                              18:01:43.218<br>                              Executed 2 tests, with 2 failures (2<br>                              unexpected) in 2.248 (2.248) seconds<br></p><p>                              Regards,<br></p><p>                              Vivian Kong<br>                              Software Developer<br>                              IBM Canada Toronto Lab<br></p><p>                  _______________________________________________<br>                  swift-build-dev mailing list<br>                  swift-build-dev at swift.org<br>                  https://lists.swift.org/mailman/listinfo/swift-build-dev<br></p><p><br></p><p><br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/c887894f/attachment.html&gt;<br>-------------- next part --------------<br>A non-text attachment was scrubbed...<br>Name: graycol.gif<br>Type: image/gif<br>Size: 105 bytes<br>Desc: not available<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/c887894f/attachment.gif&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/5d9baa679148bd83458d11df12327ce0?s=50"></div><header><strong>Test failures on s390x</strong> from <string>Daniel Dunbar</string> &lt;daniel_dunbar at apple.com&gt;<p>August 16, 2016 at 10:00:00am</p></header><div class="content"><p>&gt; On Aug 16, 2016, at 10:19 AM, Vivian Kong &lt;vivkong at ca.ibm.com&gt; wrote:<br>&gt; <br>&gt; Thanks for clarifying! I just checked and my swift-test executable seems to have the correct RPATH (Foundation and XCTest paths are there).<br>&gt; <br>&gt; And yes I didn&#39;t understand why when I execute swift-test it is trying to compile. Let me do a clean SwiftPM build again and check the log.<br>&gt; <br></p><p>That is normal behavior for the `swift-test` tool. It is just not normal behavior when run with `--version`.<br></p><p> - Daniel<br>&gt; <br>&gt; Regards,<br>&gt; <br>&gt; Vivian Kong<br>&gt; Software Developer<br>&gt; IBM Canada Toronto Lab<br>&gt; <br>&gt; &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 01:10:41 PM---I wasn&#39;t precise enough, we actually use RUNPATH currently. Here is what I see for a local build on<br>&gt; <br>&gt; From: Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>&gt; To: Vivian Kong/Toronto/IBM at IBMCA<br>&gt; Cc: Daniel Dunbar &lt;daniel at zuster.org&gt;, &quot;swift-build-dev at swift.org&quot; &lt;swift-build-dev at swift.org&gt;<br>&gt; Date: 2016/08/16 01:10 PM<br>&gt; Subject: Re: [swift-build-dev] Test failures on s390x<br>&gt; Sent by: daniel_dunbar at apple.com<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; I wasn&#39;t precise enough, we actually use RUNPATH currently. Here is what I see for a local build on Ubuntu 15.10:<br>&gt; <br>&gt; ~/public/swift-project/swiftpm$ objdump -x ../build/Ninja-ReleaseAssert/swiftpm-linux-x86_64/debug/swift-test | grep RUNPATH <br>&gt; RUNPATH /home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/swift-linux-x86_64/lib/swift/linux:$ORIGIN/../lib/swift/linux:/home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/foundation-linux-x86_64/Foundation:/home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/xctest-linux-x86_64:$ORIGIN <br>&gt; <br>&gt; Note the Foundation and XCTest paths there.<br>&gt; <br>&gt; Actually -- I just realized what is going on, it is something completely different.<br>&gt; <br>&gt; Your `swift-test --version` command appears to be, for some reason or other, actually trying to execute the tests (instead of just printing the version). It shouldn&#39;t be doing that; is it possible there is a miscompile of swift-test here?<br>&gt; <br>&gt; - Daniel<br>&gt; On Aug 16, 2016, at 10:03 AM, Vivian Kong &lt;vivkong at ca.ibm.com &lt;mailto:vivkong at ca.ibm.com&gt;&gt; wrote:<br>&gt; Sorry was having lunch =P<br>&gt; <br>&gt; Makes sense! I tried doing <br>&gt; <br>&gt; objdump -x /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swiftc | grep RPATH<br>&gt; <br>&gt; but it returns nothing.<br>&gt; <br>&gt; I did the same thing on my build on x86_64 and got the same result. <br>&gt; <br>&gt; Regards,<br>&gt; <br>&gt; Vivian Kong<br>&gt; Software Developer<br>&gt; IBM Canada Toronto Lab<br>&gt; <br>&gt; &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 12:43:38 PM---Hi Vivian, Did you see my follow up?<br>&gt; <br>&gt; From: Daniel Dunbar &lt;daniel_dunbar at apple.com &lt;mailto:daniel_dunbar at apple.com&gt;&gt;<br>&gt; To: Vivian Kong/Toronto/IBM at IBMCA<br>&gt; Cc: Daniel Dunbar &lt;daniel at zuster.org &lt;mailto:daniel at zuster.org&gt;&gt;, &quot;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&quot; &lt;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&gt;<br>&gt; Date: 2016/08/16 12:43 PM<br>&gt; Subject: Re: [swift-build-dev] Test failures on s390x<br>&gt; Sent by: daniel_dunbar at apple.com &lt;mailto:daniel_dunbar at apple.com&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; Hi Vivian,<br>&gt; <br>&gt; Did you see my follow up?<br>&gt; <br>&gt; - Daniel<br>&gt; On Aug 16, 2016, at 8:54 AM, Vivian Kong via swift-build-dev &lt;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&gt; wrote:<br>&gt; Thanks Daniel. I&#39;ve created https://github.com/apple/swift-package-manager/pull/608 &lt;https://github.com/apple/swift-package-manager/pull/608&gt; to disable the tests on non-macOS platforms.<br>&gt; <br>&gt; Pull request #608 is for the swift-3.0-branch. Would I need to create another pull request for master? Wanted to see if the process is similar to https://github.com/apple/swift &lt;https://github.com/apple/swift&gt;.<br>&gt; <br>&gt; Thanks!<br>&gt; <br>&gt; Regards,<br>&gt; <br>&gt; Vivian Kong<br>&gt; Software Developer<br>&gt; IBM Canada Toronto Lab<br>&gt; <br>&gt; &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 11:11:16 AM---Those tests don&#39;t work on non-macOS yet. I suspect the problem is simply that they are conditionaliz<br>&gt; <br>&gt; From: Daniel Dunbar &lt;daniel at zuster.org &lt;mailto:daniel at zuster.org&gt;&gt;<br>&gt; To: Vivian Kong/Toronto/IBM at IBMCA<br>&gt; Cc: &quot;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&quot; &lt;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&gt;<br>&gt; Date: 2016/08/16 11:11 AM<br>&gt; Subject: Re: [swift-build-dev] Test failures on s390x<br>&gt; Sent by: daniel.dunbar at gmail.com &lt;mailto:daniel.dunbar at gmail.com&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; Those tests don&#39;t work on non-macOS yet. I suspect the problem is simply that they are conditionalized on not-Linux vs only-macOS, but they probably shouldn&#39;t be running. <br>&gt; <br>&gt; - Daniel<br>&gt; <br>&gt; On Tuesday, August 16, 2016, Vivian Kong via swift-build-dev &lt;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&gt; wrote:<br>&gt; I ran into these 2 failing test cases in TestToolTests when I ran the SwiftPM tests on s390x. I&#39;m looking for hints on how to fix this as I&#39;m not sure why the Foundation and XCTest module can&#39;t be found.<br>&gt; <br>&gt; Thanks and I appreciate the help!<br>&gt; <br>&gt; Test Case &#39;TestToolTests.testVersion&#39; started at 18:01:42.018<br>&gt; **** FAILURE EXECUTING SUBPROCESS ****<br>&gt; command: /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test --version<br>&gt; SWIFT_EXEC: nil<br>&gt; output: Compile Swift Module &#39;Basic&#39; (20 sources)<br>&gt; Compile Swift Module &#39;POSIXTests&#39; (2 sources)<br>&gt; Compile Swift Module &#39;PackageDescriptionTests&#39; (3 sources)<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; &lt;unknown&gt;:0: error: build had 3 command failures<br>&gt; swift-test: error: exit(-1263376016): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-build-tool -f /localbox/vivkong/swift3/swiftpm/.build/debug.yaml test<br>&gt; <br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/CommandsTests/TestToolTests.swift:26: error: TestToolTests.testVersion : XCTAssertTrue threw error &quot;exit(152): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test --version&quot; - <br>&gt; Test Case &#39;TestToolTests.testVersion&#39; failed (1.2 seconds).<br>&gt; Test Suite &#39;TestToolTests&#39; failed at 18:01:43.218<br>&gt; Executed 2 tests, with 2 failures (2 unexpected) in 2.248 (2.248) seconds<br>&gt; <br>&gt; Regards,<br>&gt; <br>&gt; Vivian Kong<br>&gt; Software Developer<br>&gt; IBM Canada Toronto Lab<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-build-dev mailing list<br>&gt; swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;<br>&gt; https://lists.swift.org/mailman/listinfo/swift-build-dev &lt;https://lists.swift.org/mailman/listinfo/swift-build-dev&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/9ca44049/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/00851356c9f36ad35c35ab20df4a1cc7?s=50"></div><header><strong>Test failures on s390x</strong> from <string>Vivian Kong</string> &lt;vivkong at ca.ibm.com&gt;<p>August 16, 2016 at 01:00:00pm</p></header><div class="content"><p>Sorry just want to be clear, can you elaborate what swift-test should be<br>doing?  It&#39;s trying to build with this command?<br></p><p>/localbox/vivkong/swift3<br>/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-build-tool<br> -f /localbox/vivkong/swift3/swiftpm/.build/debug.yaml test<br></p><p>Does that do that every time swift-test is being executed?<br></p><p>Regards,<br></p><p>Vivian Kong<br>Software Developer<br>IBM Canada Toronto Lab<br></p><p><br></p><p>From:	Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>To:	Vivian Kong/Toronto/IBM at IBMCA<br>Cc:	Daniel Dunbar &lt;daniel at zuster.org&gt;, &quot;swift-build-dev at swift.org&quot;<br>            &lt;swift-build-dev at swift.org&gt;<br>Date:	2016/08/16 01:21 PM<br>Subject:	Re: [swift-build-dev] Test failures on s390x<br>Sent by:	daniel_dunbar at apple.com<br></p><p><br></p><p><br>      On Aug 16, 2016, at 10:19 AM, Vivian Kong &lt;vivkong at ca.ibm.com&gt; wrote:<br></p><p><br></p><p>      Thanks for clarifying! I just checked and my swift-test executable<br>      seems to have the correct RPATH (Foundation and XCTest paths are<br>      there).<br></p><p>      And yes I didn&#39;t understand why when I execute swift-test it is<br>      trying to compile. Let me do a clean SwiftPM build again and check<br>      the log.<br></p><p><br></p><p>That is normal behavior for the `swift-test` tool. It is just not normal<br>behavior when run with `--version`.<br></p><p> - Daniel<br></p><p><br></p><p>      Regards,<br></p><p>      Vivian Kong<br>      Software Developer<br>      IBM Canada Toronto Lab<br></p><p>      &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 01:10:41 PM---I wasn&#39;t<br>      precise enough, we actually use RUNPATH currently. Here is what I see<br>      for a local build on<br></p><p>      From: Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>      To: Vivian Kong/Toronto/IBM at IBMCA<br>      Cc: Daniel Dunbar &lt;daniel at zuster.org&gt;, &quot;swift-build-dev at swift.org&quot; &lt;<br>      swift-build-dev at swift.org&gt;<br>      Date: 2016/08/16 01:10 PM<br>      Subject: Re: [swift-build-dev] Test failures on s390x<br>      Sent by: daniel_dunbar at apple.com<br></p><p><br></p><p><br></p><p>      I wasn&#39;t precise enough, we actually use RUNPATH currently. Here is<br>      what I see for a local build on Ubuntu 15.10:<br></p><p>      ~/public/swift-project/swiftpm$ objdump<br>      -x ../build/Ninja-ReleaseAssert/swiftpm-linux-x86_64/debug/swift-test<br>      | grep RUNPATH<br>      RUNPATH /home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/swift-linux-x86_64/lib/swift/linux:$ORIGIN/../lib/swift/linux:/home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/foundation-linux-x86_64/Foundation:/home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/xctest-linux-x86_64:$ORIGIN<br></p><p><br></p><p>      Note the Foundation and XCTest paths there.<br></p><p>      Actually -- I just realized what is going on, it is something<br>      completely different.<br></p><p>      Your `swift-test --version` command appears to be, for some reason or<br>      other, actually trying to execute the tests (instead of just printing<br>      the version). It shouldn&#39;t be doing that; is it possible there is a<br>      miscompile of swift-test here?<br></p><p>      - Daniel<br>                  On Aug 16, 2016, at 10:03 AM, Vivian Kong &lt;<br>                  vivkong at ca.ibm.com&gt; wrote:<br></p><p><br>                  Sorry was having lunch =P<br></p><p>                  Makes sense! I tried doing<br></p><p>                  objdump<br>                  -x /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swiftc<br> | grep RPATH<br></p><p>                  but it returns nothing.<br></p><p>                  I did the same thing on my build on x86_64 and got the<br>                  same result.<br></p><p>                  Regards,<br></p><p>                  Vivian Kong<br>                  Software Developer<br>                  IBM Canada Toronto Lab<br></p><p>                  &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 12:43:38 PM---Hi<br>                  Vivian, Did you see my follow up?<br></p><p>                  From: Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>                  To: Vivian Kong/Toronto/IBM at IBMCA<br>                  Cc: Daniel Dunbar &lt;daniel at zuster.org&gt;, &quot;<br>                  swift-build-dev at swift.org&quot; &lt;swift-build-dev at swift.org&gt;<br>                  Date: 2016/08/16 12:43 PM<br>                  Subject: Re: [swift-build-dev] Test failures on s390x<br>                  Sent by: daniel_dunbar at apple.com<br></p><p><br></p><p><br></p><p><br>                  Hi Vivian,<br></p><p>                  Did you see my follow up?<br></p><p>                  - Daniel<br>                                          On Aug 16, 2016, at 8:54 AM,<br>                                          Vivian Kong via swift-build-dev &lt;<br>                                          swift-build-dev at swift.org&gt; wrote:<br></p><p><br>                                          Thanks Daniel. I&#39;ve created<br>                                          https://github.com/apple/swift-package-manager/pull/608<br>                                           to disable the tests on<br>                                          non-macOS platforms.<br></p><p>                                          Pull request #608 is for the<br>                                          swift-3.0-branch. Would I need to<br>                                          create another pull request for<br>                                          master? Wanted to see if the<br>                                          process is similar to<br>                                          https://github.com/apple/swift.<br></p><p>                                          Thanks!<br></p><p>                                          Regards,<br></p><p>                                          Vivian Kong<br>                                          Software Developer<br>                                          IBM Canada Toronto Lab<br></p><p>                                          &lt;graycol.gif&gt;Daniel Dunbar<br>                                          ---2016/08/16 11:11:16 AM---Those<br>                                          tests don&#39;t work on non-macOS<br>                                          yet. I suspect the problem is<br>                                          simply that they are<br>                                          conditionaliz<br></p><p>                                          From: Daniel Dunbar &lt;<br>                                          daniel at zuster.org&gt;<br>                                          To: Vivian Kong/Toronto/IBM at IBMCA<br>                                          Cc: &quot;swift-build-dev at swift.org&quot; &lt;<br>                                          swift-build-dev at swift.org&gt;<br>                                          Date: 2016/08/16 11:11 AM<br>                                          Subject: Re: [swift-build-dev]<br>                                          Test failures on s390x<br>                                          Sent by: daniel.dunbar at gmail.com<br></p><p><br></p><p><br></p><p><br></p><p><br>                                          Those tests don&#39;t work on<br>                                          non-macOS yet. I suspect the<br>                                          problem is simply that they are<br>                                          conditionalized on not-Linux vs<br>                                          only-macOS, but they probably<br>                                          shouldn&#39;t be running.<br></p><p>                                          - Daniel<br></p><p>                                          On Tuesday, August 16, 2016,<br>                                          Vivian Kong via swift-build-dev &lt;<br>                                          swift-build-dev at swift.org&gt; wrote:<br>                                                                  I ran<br>                                                                  into<br>                                                                  these 2<br>                                                                  failing<br>                                                                  test<br>                                                                  cases in<br>                                                                  TestToolTests<br> when I ran the SwiftPM tests on s390x. I&#39;m looking for hints on how to fix<br>                                                                  this as<br>                                                                  I&#39;m not<br>                                                                  sure why<br>                                                                  the<br>                                                                  Foundation<br> and XCTest module can&#39;t be found.<br></p><p>                                                                  Thanks<br>                                                                  and I<br>                                                                  appreciate<br> the help!<br></p><p>                                                                  Test Case<br>                                                                  &#39;TestToolTests.testVersion&#39;<br> started at 18:01:42.018<br>                                                                  ****<br>                                                                  FAILURE<br>                                                                  EXECUTING<br>                                                                  SUBPROCESS<br> ****<br>                                                                  command: /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test<br> --version<br>                                                                  SWIFT_EXEC:<br> nil<br>                                                                  output:<br>                                                                  Compile<br>                                                                  Swift<br>                                                                  Module<br>                                                                  &#39;Basic&#39; (20<br> sources)<br>                                                                  Compile<br>                                                                  Swift<br>                                                                  Module<br>                                                                  &#39;POSIXTests&#39; (2<br> sources)<br>                                                                  Compile<br>                                                                  Swift<br>                                                                  Module<br>                                                                  &#39;PackageDescriptionTests&#39; (3<br> sources)<br>                                                                  /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>                                                                  import<br>                                                                  XCTest<br>                                                                  ^<br>                                                                  /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>                                                                  import<br>                                                                  XCTest<br>                                                                  ^<br>                                                                  /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>                                                                  import<br>                                                                  XCTest<br>                                                                  ^<br>                                                                  /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>                                                                  import<br>                                                                  XCTest<br>                                                                  ^<br>                                                                  /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>                                                                  import<br>                                                                  XCTest<br>                                                                  ^<br>                                                                  /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                                                                  import<br>                                                                  class<br>                                                                  Foundation.FileHandle<br></p><p>                                                                  ^<br>                                                                  /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                                                                  import<br>                                                                  class<br>                                                                  Foundation.FileHandle<br></p><p>                                                                  ^<br>                                                                  /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                                                                  import<br>                                                                  class<br>                                                                  Foundation.FileHandle<br></p><p>                                                                  ^<br>                                                                  /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                                                                  import<br>                                                                  class<br>                                                                  Foundation.FileHandle<br></p><p>                                                                  ^<br>                                                                  /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                                                                  import<br>                                                                  class<br>                                                                  Foundation.FileHandle<br></p><p>                                                                  ^<br>                                                                  /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                                                                  import<br>                                                                  class<br>                                                                  Foundation.FileHandle<br></p><p>                                                                  ^<br>                                                                  /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                                                                  import<br>                                                                  class<br>                                                                  Foundation.FileHandle<br></p><p>                                                                  ^<br>                                                                  /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                                                                  import<br>                                                                  class<br>                                                                  Foundation.FileHandle<br></p><p>                                                                  ^<br>                                                                  &lt;unknown&gt;:0:<br> error: build had 3 command failures<br>                                                                  swift-test:<br> error: exit(-1263376016): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-build-tool<br> -f /localbox/vivkong/swift3/swiftpm/.build/debug.yaml test<br></p><p>                                                                  /localbox/vivkong/swift3/swiftpm/Tests/CommandsTests/TestToolTests.swift:26:<br> error: TestToolTests.testVersion : XCTAssertTrue threw error &quot;exit<br>                                                                  (152): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test<br> --version&quot; -<br>                                                                  Test Case<br>                                                                  &#39;TestToolTests.testVersion&#39;<br> failed (1.2 seconds).<br>                                                                  Test<br>                                                                  Suite<br>                                                                  &#39;TestToolTests&#39;<br> failed at 18:01:43.218<br>                                                                  Executed<br>                                                                  2 tests,<br>                                                                  with 2<br>                                                                  failures<br>                                                                  (2<br>                                                                  unexpected)<br> in 2.248 (2.248) seconds<br></p><p>                                                                  Regards,<br></p><p>                                                                  Vivian<br>                                                                  Kong<br>                                                                  Software<br>                                                                  Developer<br>                                                                  IBM<br>                                                                  Canada<br>                                                                  Toronto<br>                                                                  Lab<br></p><p>                                          _______________________________________________<br></p><p>                                          swift-build-dev mailing list<br>                                          swift-build-dev at swift.org<br>                                          https://lists.swift.org/mailman/listinfo/swift-build-dev<br></p><p><br></p><p><br></p><p><br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/98f1647f/attachment.html&gt;<br>-------------- next part --------------<br>A non-text attachment was scrubbed...<br>Name: graycol.gif<br>Type: image/gif<br>Size: 105 bytes<br>Desc: not available<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/98f1647f/attachment.gif&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/5d9baa679148bd83458d11df12327ce0?s=50"></div><header><strong>Test failures on s390x</strong> from <string>Daniel Dunbar</string> &lt;daniel_dunbar at apple.com&gt;<p>August 16, 2016 at 10:00:00am</p></header><div class="content"><p>&gt; On Aug 16, 2016, at 10:54 AM, Vivian Kong &lt;vivkong at ca.ibm.com&gt; wrote:<br>&gt; <br>&gt; Sorry just want to be clear, can you elaborate what swift-test should be doing? It&#39;s trying to build with this command?<br>&gt; <br>The *test* in question is trying to run `swift-test --version`, which should do nothing other than print its own version number.<br>&gt; /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-build-tool -f /localbox/vivkong/swift3/swiftpm/.build/debug.yaml test<br>&gt; <br>&gt; Does that do that every time swift-test is being executed?<br>&gt; <br>Yes, during normal operation (when using the tool to actually run tests, it always builds them first).<br></p><p> - Daniel<br>&gt; <br>&gt; Regards,<br>&gt; <br>&gt; Vivian Kong<br>&gt; Software Developer<br>&gt; IBM Canada Toronto Lab<br>&gt; <br>&gt; &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 01:21:41 PM---&gt; On Aug 16, 2016, at 10:19 AM, Vivian Kong &lt;vivkong at ca.ibm.com&gt; wrote: &gt;<br>&gt; <br>&gt; From: Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>&gt; To: Vivian Kong/Toronto/IBM at IBMCA<br>&gt; Cc: Daniel Dunbar &lt;daniel at zuster.org&gt;, &quot;swift-build-dev at swift.org&quot; &lt;swift-build-dev at swift.org&gt;<br>&gt; Date: 2016/08/16 01:21 PM<br>&gt; Subject: Re: [swift-build-dev] Test failures on s390x<br>&gt; Sent by: daniel_dunbar at apple.com<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; On Aug 16, 2016, at 10:19 AM, Vivian Kong &lt;vivkong at ca.ibm.com &lt;mailto:vivkong at ca.ibm.com&gt;&gt; wrote:<br>&gt; Thanks for clarifying! I just checked and my swift-test executable seems to have the correct RPATH (Foundation and XCTest paths are there).<br>&gt; <br>&gt; And yes I didn&#39;t understand why when I execute swift-test it is trying to compile. Let me do a clean SwiftPM build again and check the log.<br>&gt; <br>&gt; <br>&gt; That is normal behavior for the `swift-test` tool. It is just not normal behavior when run with `--version`.<br>&gt; <br>&gt; - Daniel<br>&gt; <br>&gt; Regards,<br>&gt; <br>&gt; Vivian Kong<br>&gt; Software Developer<br>&gt; IBM Canada Toronto Lab<br>&gt; <br>&gt; &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 01:10:41 PM---I wasn&#39;t precise enough, we actually use RUNPATH currently. Here is what I see for a local build on<br>&gt; <br>&gt; From: Daniel Dunbar &lt;daniel_dunbar at apple.com &lt;mailto:daniel_dunbar at apple.com&gt;&gt;<br>&gt; To: Vivian Kong/Toronto/IBM at IBMCA<br>&gt; Cc: Daniel Dunbar &lt;daniel at zuster.org &lt;mailto:daniel at zuster.org&gt;&gt;, &quot;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&quot; &lt;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&gt;<br>&gt; Date: 2016/08/16 01:10 PM<br>&gt; Subject: Re: [swift-build-dev] Test failures on s390x<br>&gt; Sent by: daniel_dunbar at apple.com &lt;mailto:daniel_dunbar at apple.com&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; I wasn&#39;t precise enough, we actually use RUNPATH currently. Here is what I see for a local build on Ubuntu 15.10:<br>&gt; <br>&gt; ~/public/swift-project/swiftpm$ objdump -x ../build/Ninja-ReleaseAssert/swiftpm-linux-x86_64/debug/swift-test | grep RUNPATH <br>&gt; RUNPATH /home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/swift-linux-x86_64/lib/swift/linux:$ORIGIN/../lib/swift/linux:/home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/foundation-linux-x86_64/Foundation:/home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/xctest-linux-x86_64:$ORIGIN <br>&gt; <br>&gt; Note the Foundation and XCTest paths there.<br>&gt; <br>&gt; Actually -- I just realized what is going on, it is something completely different.<br>&gt; <br>&gt; Your `swift-test --version` command appears to be, for some reason or other, actually trying to execute the tests (instead of just printing the version). It shouldn&#39;t be doing that; is it possible there is a miscompile of swift-test here?<br>&gt; <br>&gt; - Daniel<br>&gt; On Aug 16, 2016, at 10:03 AM, Vivian Kong &lt;vivkong at ca.ibm.com &lt;mailto:vivkong at ca.ibm.com&gt;&gt; wrote:<br>&gt; Sorry was having lunch =P<br>&gt; <br>&gt; Makes sense! I tried doing <br>&gt; <br>&gt; objdump -x /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swiftc | grep RPATH<br>&gt; <br>&gt; but it returns nothing.<br>&gt; <br>&gt; I did the same thing on my build on x86_64 and got the same result. <br>&gt; <br>&gt; Regards,<br>&gt; <br>&gt; Vivian Kong<br>&gt; Software Developer<br>&gt; IBM Canada Toronto Lab<br>&gt; <br>&gt; &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 12:43:38 PM---Hi Vivian, Did you see my follow up?<br>&gt; <br>&gt; From: Daniel Dunbar &lt;daniel_dunbar at apple.com &lt;mailto:daniel_dunbar at apple.com&gt;&gt;<br>&gt; To: Vivian Kong/Toronto/IBM at IBMCA<br>&gt; Cc: Daniel Dunbar &lt;daniel at zuster.org &lt;mailto:daniel at zuster.org&gt;&gt;, &quot;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&quot; &lt;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&gt;<br>&gt; Date: 2016/08/16 12:43 PM<br>&gt; Subject: Re: [swift-build-dev] Test failures on s390x<br>&gt; Sent by: daniel_dunbar at apple.com &lt;mailto:daniel_dunbar at apple.com&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; Hi Vivian,<br>&gt; <br>&gt; Did you see my follow up?<br>&gt; <br>&gt; - Daniel<br>&gt; On Aug 16, 2016, at 8:54 AM, Vivian Kong via swift-build-dev &lt;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&gt; wrote:<br>&gt; Thanks Daniel. I&#39;ve created https://github.com/apple/swift-package-manager/pull/608 &lt;https://github.com/apple/swift-package-manager/pull/608&gt; to disable the tests on non-macOS platforms.<br>&gt; <br>&gt; Pull request #608 is for the swift-3.0-branch. Would I need to create another pull request for master? Wanted to see if the process is similar to https://github.com/apple/swift &lt;https://github.com/apple/swift&gt;.<br>&gt; <br>&gt; Thanks!<br>&gt; <br>&gt; Regards,<br>&gt; <br>&gt; Vivian Kong<br>&gt; Software Developer<br>&gt; IBM Canada Toronto Lab<br>&gt; <br>&gt; &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 11:11:16 AM---Those tests don&#39;t work on non-macOS yet. I suspect the problem is simply that they are conditionaliz<br>&gt; <br>&gt; From: Daniel Dunbar &lt;daniel at zuster.org &lt;mailto:daniel at zuster.org&gt;&gt;<br>&gt; To: Vivian Kong/Toronto/IBM at IBMCA<br>&gt; Cc: &quot;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&quot; &lt;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&gt;<br>&gt; Date: 2016/08/16 11:11 AM<br>&gt; Subject: Re: [swift-build-dev] Test failures on s390x<br>&gt; Sent by: daniel.dunbar at gmail.com &lt;mailto:daniel.dunbar at gmail.com&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; Those tests don&#39;t work on non-macOS yet. I suspect the problem is simply that they are conditionalized on not-Linux vs only-macOS, but they probably shouldn&#39;t be running. <br>&gt; <br>&gt; - Daniel<br>&gt; <br>&gt; On Tuesday, August 16, 2016, Vivian Kong via swift-build-dev &lt;swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;&gt; wrote:<br>&gt; I ran into these 2 failing test cases in TestToolTests when I ran the SwiftPM tests on s390x. I&#39;m looking for hints on how to fix this as I&#39;m not sure why the Foundation and XCTest module can&#39;t be found.<br>&gt; <br>&gt; Thanks and I appreciate the help!<br>&gt; <br>&gt; Test Case &#39;TestToolTests.testVersion&#39; started at 18:01:42.018<br>&gt; **** FAILURE EXECUTING SUBPROCESS ****<br>&gt; command: /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test --version<br>&gt; SWIFT_EXEC: nil<br>&gt; output: Compile Swift Module &#39;Basic&#39; (20 sources)<br>&gt; Compile Swift Module &#39;POSIXTests&#39; (2 sources)<br>&gt; Compile Swift Module &#39;PackageDescriptionTests&#39; (3 sources)<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8: error: no such module &#39;XCTest&#39;<br>&gt; import XCTest<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14: error: no such module &#39;Foundation&#39;<br>&gt; import class Foundation.FileHandle<br>&gt; ^<br>&gt; &lt;unknown&gt;:0: error: build had 3 command failures<br>&gt; swift-test: error: exit(-1263376016): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-build-tool -f /localbox/vivkong/swift3/swiftpm/.build/debug.yaml test<br>&gt; <br>&gt; /localbox/vivkong/swift3/swiftpm/Tests/CommandsTests/TestToolTests.swift:26: error: TestToolTests.testVersion : XCTAssertTrue threw error &quot;exit(152): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test --version&quot; - <br>&gt; Test Case &#39;TestToolTests.testVersion&#39; failed (1.2 seconds).<br>&gt; Test Suite &#39;TestToolTests&#39; failed at 18:01:43.218<br>&gt; Executed 2 tests, with 2 failures (2 unexpected) in 2.248 (2.248) seconds<br>&gt; <br>&gt; Regards,<br>&gt; <br>&gt; Vivian Kong<br>&gt; Software Developer<br>&gt; IBM Canada Toronto Lab<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-build-dev mailing list<br>&gt; swift-build-dev at swift.org &lt;mailto:swift-build-dev at swift.org&gt;<br>&gt; https://lists.swift.org/mailman/listinfo/swift-build-dev &lt;https://lists.swift.org/mailman/listinfo/swift-build-dev&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; <br>&gt; <br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/374dfdbb/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/00851356c9f36ad35c35ab20df4a1cc7?s=50"></div><header><strong>Test failures on s390x</strong> from <string>Vivian Kong</string> &lt;vivkong at ca.ibm.com&gt;<p>August 16, 2016 at 02:00:00pm</p></header><div class="content"><p>Thanks again for your help Daniel.  I think I found the issue - for some<br>reason the option is not read in properly on s390x.  I&#39;ll debug from there.<br></p><p>Regards,<br></p><p>Vivian Kong<br>Software Developer<br>IBM Canada Toronto Lab<br></p><p><br></p><p>From:	Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>To:	Vivian Kong/Toronto/IBM at IBMCA<br>Cc:	Daniel Dunbar &lt;daniel at zuster.org&gt;, &quot;swift-build-dev at swift.org&quot;<br>            &lt;swift-build-dev at swift.org&gt;<br>Date:	2016/08/16 01:58 PM<br>Subject:	Re: [swift-build-dev] Test failures on s390x<br>Sent by:	daniel_dunbar at apple.com<br></p><p><br></p><p><br>      On Aug 16, 2016, at 10:54 AM, Vivian Kong &lt;vivkong at ca.ibm.com&gt; wrote:<br></p><p><br></p><p>      Sorry just want to be clear, can you elaborate what swift-test should<br>      be doing? It&#39;s trying to build with this command?<br></p><p><br>The *test* in question is trying to run `swift-test --version`, which<br>should do nothing other than print its own version number.<br></p><p><br>      /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-build-tool<br> -f /localbox/vivkong/swift3/swiftpm/.build/debug.yaml test<br></p><p>      Does that do that every time swift-test is being executed?<br></p><p><br>Yes, during normal operation (when using the tool to actually run tests, it<br>always builds them first).<br></p><p> - Daniel<br></p><p><br></p><p>      Regards,<br></p><p>      Vivian Kong<br>      Software Developer<br>      IBM Canada Toronto Lab<br></p><p>      &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 01:21:41 PM---&gt; On Aug 16,<br>      2016, at 10:19 AM, Vivian Kong &lt;vivkong at ca.ibm.com&gt; wrote: &gt;<br></p><p>      From: Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>      To: Vivian Kong/Toronto/IBM at IBMCA<br>      Cc: Daniel Dunbar &lt;daniel at zuster.org&gt;, &quot;swift-build-dev at swift.org&quot; &lt;<br>      swift-build-dev at swift.org&gt;<br>      Date: 2016/08/16 01:21 PM<br>      Subject: Re: [swift-build-dev] Test failures on s390x<br>      Sent by: daniel_dunbar at apple.com<br></p><p><br></p><p><br></p><p>                  On Aug 16, 2016, at 10:19 AM, Vivian Kong &lt;<br>                  vivkong at ca.ibm.com&gt; wrote:<br></p><p><br>                  Thanks for clarifying! I just checked and my swift-test<br>                  executable seems to have the correct RPATH (Foundation<br>                  and XCTest paths are there).<br></p><p>                  And yes I didn&#39;t understand why when I execute swift-test<br>                  it is trying to compile. Let me do a clean SwiftPM build<br>                  again and check the log.<br></p><p><br></p><p>      That is normal behavior for the `swift-test` tool. It is just not<br>      normal behavior when run with `--version`.<br></p><p>      - Daniel<br></p><p>                  Regards,<br></p><p>                  Vivian Kong<br>                  Software Developer<br>                  IBM Canada Toronto Lab<br></p><p>                  &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 01:10:41 PM---I<br>                  wasn&#39;t precise enough, we actually use RUNPATH currently.<br>                  Here is what I see for a local build on<br></p><p>                  From: Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>                  To: Vivian Kong/Toronto/IBM at IBMCA<br>                  Cc: Daniel Dunbar &lt;daniel at zuster.org&gt;, &quot;<br>                  swift-build-dev at swift.org&quot; &lt;swift-build-dev at swift.org&gt;<br>                  Date: 2016/08/16 01:10 PM<br>                  Subject: Re: [swift-build-dev] Test failures on s390x<br>                  Sent by: daniel_dunbar at apple.com<br></p><p><br></p><p><br>                  I wasn&#39;t precise enough, we actually use RUNPATH<br>                  currently. Here is what I see for a local build on Ubuntu<br>                  15.10:<br></p><p>                  ~/public/swift-project/swiftpm$ objdump<br>                  -x ../build/Ninja-ReleaseAssert/swiftpm-linux-x86_64/debug/swift-test<br> | grep RUNPATH<br></p><p>                  RUNPATH /home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/swift-linux-x86_64/lib/swift/linux:$ORIGIN/../lib/swift/linux:/home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/foundation-linux-x86_64/Foundation:/home/ddunbar/public/swift-project/build/Ninja-ReleaseAssert/xctest-linux-x86_64:$ORIGIN<br></p><p><br></p><p>                  Note the Foundation and XCTest paths there.<br></p><p>                  Actually -- I just realized what is going on, it is<br>                  something completely different.<br></p><p>                  Your `swift-test --version` command appears to be, for<br>                  some reason or other, actually trying to execute the<br>                  tests (instead of just printing the version). It<br>                  shouldn&#39;t be doing that; is it possible there is a<br>                  miscompile of swift-test here?<br></p><p>                  - Daniel<br>                                          On Aug 16, 2016, at 10:03 AM,<br>                                          Vivian Kong &lt;vivkong at ca.ibm.com&gt;<br>                                          wrote:<br></p><p><br>                                          Sorry was having lunch =P<br></p><p>                                          Makes sense! I tried doing<br></p><p>                                          objdump<br>                                          -x /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swiftc<br> | grep RPATH<br></p><p>                                          but it returns nothing.<br></p><p>                                          I did the same thing on my build<br>                                          on x86_64 and got the same<br>                                          result.<br></p><p>                                          Regards,<br></p><p>                                          Vivian Kong<br>                                          Software Developer<br>                                          IBM Canada Toronto Lab<br></p><p>                                          &lt;graycol.gif&gt;Daniel Dunbar<br>                                          ---2016/08/16 12:43:38 PM---Hi<br>                                          Vivian, Did you see my follow up?<br></p><p>                                          From: Daniel Dunbar &lt;<br>                                          daniel_dunbar at apple.com&gt;<br>                                          To: Vivian Kong/Toronto/IBM at IBMCA<br>                                          Cc: Daniel Dunbar &lt;<br>                                          daniel at zuster.org&gt;, &quot;<br>                                          swift-build-dev at swift.org&quot; &lt;<br>                                          swift-build-dev at swift.org&gt;<br>                                          Date: 2016/08/16 12:43 PM<br>                                          Subject: Re: [swift-build-dev]<br>                                          Test failures on s390x<br>                                          Sent by: daniel_dunbar at apple.com<br></p><p><br></p><p><br></p><p><br></p><p><br>                                          Hi Vivian,<br></p><p>                                          Did you see my follow up?<br></p><p>                                          - Daniel<br>               On Aug 16, 2016, at 8:54 AM, Vivian Kong via swift-build-dev<br>               &lt;swift-build-dev at swift.org&gt; wrote:<br></p><p><br>               Thanks Daniel. I&#39;ve created<br>               https://github.com/apple/swift-package-manager/pull/608 to<br>               disable the tests on non-macOS platforms.<br></p><p>               Pull request #608 is for the swift-3.0-branch. Would I need<br>               to create another pull request for master? Wanted to see if<br>               the process is similar to https://github.com/apple/swift.<br></p><p>               Thanks!<br></p><p>               Regards,<br></p><p>               Vivian Kong<br>               Software Developer<br>               IBM Canada Toronto Lab<br></p><p>               &lt;graycol.gif&gt;Daniel Dunbar ---2016/08/16 11:11:16 AM---Those<br>               tests don&#39;t work on non-macOS yet. I suspect the problem is<br>               simply that they are conditionaliz<br></p><p>               From: Daniel Dunbar &lt;daniel at zuster.org&gt;<br>               To: Vivian Kong/Toronto/IBM at IBMCA<br>               Cc: &quot;swift-build-dev at swift.org&quot; &lt;swift-build-dev at swift.org&gt;<br>               Date: 2016/08/16 11:11 AM<br>               Subject: Re: [swift-build-dev] Test failures on s390x<br>               Sent by: daniel.dunbar at gmail.com<br></p><p><br></p><p><br></p><p><br></p><p>               Those tests don&#39;t work on non-macOS yet. I suspect the<br>               problem is simply that they are conditionalized on not-Linux<br>               vs only-macOS, but they probably shouldn&#39;t be running.<br></p><p>               - Daniel<br></p><p>               On Tuesday, August 16, 2016, Vivian Kong via swift-build-dev<br>               &lt;swift-build-dev at swift.org&gt; wrote:<br>                                                               I ran into<br>                                                               these 2<br>                                                               failing test<br>                                                               cases in<br>                                                               TestToolTests<br> when I ran the SwiftPM tests on s390x. I&#39;m looking for hints on how to fix<br>                                                               this as I&#39;m<br>                                                               not sure why<br>                                                               the<br>                                                               Foundation<br>                                                               and XCTest<br>                                                               module can&#39;t<br>                                                               be found.<br></p><p>                                                               Thanks and I<br>                                                               appreciate<br>                                                               the help!<br></p><p>                                                               Test Case<br>                                                               &#39;TestToolTests.testVersion&#39;<br> started at 18:01:42.018<br>                                                               **** FAILURE<br>                                                               EXECUTING<br>                                                               SUBPROCESS<br>                                                               ****<br>                                                               command: /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test<br> --version<br>                                                               SWIFT_EXEC:<br>                                                               nil<br>                                                               output:<br>                                                               Compile<br>                                                               Swift Module<br>                                                               &#39;Basic&#39; (20<br>                                                               sources)<br>                                                               Compile<br>                                                               Swift Module<br>                                                               &#39;POSIXTests&#39; (2<br> sources)<br>                                                               Compile<br>                                                               Swift Module<br>                                                               &#39;PackageDescriptionTests&#39; (3<br> sources)<br>                                                               /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>                                                               import<br>                                                               XCTest<br>                                                               ^<br>                                                               /localbox/vivkong/swift3/swiftpm/Tests/POSIXTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>                                                               import<br>                                                               XCTest<br>                                                               ^<br>                                                               /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>                                                               import<br>                                                               XCTest<br>                                                               ^<br>                                                               /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>                                                               import<br>                                                               XCTest<br>                                                               ^<br>                                                               /localbox/vivkong/swift3/swiftpm/Tests/PackageDescriptionTests/XCTestManifests.swift:11:8:<br> error: no such module &#39;XCTest&#39;<br>                                                               import<br>                                                               XCTest<br>                                                               ^<br>                                                               /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                                                               import class<br>                                                               Foundation.FileHandle<br></p><p>                                                               ^<br>                                                               /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                                                               import class<br>                                                               Foundation.FileHandle<br></p><p>                                                               ^<br>                                                               /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                                                               import class<br>                                                               Foundation.FileHandle<br></p><p>                                                               ^<br>                                                               /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                                                               import class<br>                                                               Foundation.FileHandle<br></p><p>                                                               ^<br>                                                               /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                                                               import class<br>                                                               Foundation.FileHandle<br></p><p>                                                               ^<br>                                                               /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                                                               import class<br>                                                               Foundation.FileHandle<br></p><p>                                                               ^<br>                                                               /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                                                               import class<br>                                                               Foundation.FileHandle<br></p><p>                                                               ^<br>                                                               /localbox/vivkong/swift3/swiftpm/Sources/Basic/TemporaryFile.swift:13:14:<br> error: no such module &#39;Foundation&#39;<br>                                                               import class<br>                                                               Foundation.FileHandle<br></p><p>                                                               ^<br>                                                               &lt;unknown&gt;:0:<br>                                                               error: build<br>                                                               had 3<br>                                                               command<br>                                                               failures<br>                                                               swift-test:<br>                                                               error: exit<br>                                                               (-1263376016): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-build-tool<br> -f /localbox/vivkong/swift3/swiftpm/.build/debug.yaml test<br></p><p>                                                               /localbox/vivkong/swift3/swiftpm/Tests/CommandsTests/TestToolTests.swift:26:<br> error: TestToolTests.testVersion : XCTAssertTrue threw error &quot;exit<br>                                                               (152): /localbox/vivkong/swift3/build/Ninja-RelWithDebInfoAssert/swiftpm-linux-s390x/debug/swift-test<br> --version&quot; -<br>                                                               Test Case<br>                                                               &#39;TestToolTests.testVersion&#39;<br> failed (1.2 seconds).<br>                                                               Test Suite<br>                                                               &#39;TestToolTests&#39;<br> failed at 18:01:43.218<br>                                                               Executed 2<br>                                                               tests, with<br>                                                               2 failures<br>                                                               (2<br>                                                               unexpected)<br>                                                               in 2.248<br>                                                               (2.248)<br>                                                               seconds<br></p><p>                                                               Regards,<br></p><p>                                                               Vivian Kong<br>                                                               Software<br>                                                               Developer<br>                                                               IBM Canada<br>                                                               Toronto Lab<br></p><p>               _______________________________________________<br>               swift-build-dev mailing list<br>               swift-build-dev at swift.org<br>               https://lists.swift.org/mailman/listinfo/swift-build-dev<br></p><p><br></p><p><br></p><p><br></p><p><br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/f66fbd4a/attachment.html&gt;<br>-------------- next part --------------<br>A non-text attachment was scrubbed...<br>Name: graycol.gif<br>Type: image/gif<br>Size: 105 bytes<br>Desc: not available<br>URL: &lt;https://lists.swift.org/pipermail/swift-build-dev/attachments/20160816/f66fbd4a/attachment.gif&gt;<br></p></div></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
