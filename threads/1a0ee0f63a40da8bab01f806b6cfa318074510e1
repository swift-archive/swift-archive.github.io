<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css?vsn=d">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg?vsn=d" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/a838c63b9093a77fb88231d65effa3b3?s=50"></div><header><strong>Missing libdispatch.so</strong> from <string>Drew Crawford</string> &lt;drew at sealedabstract.com&gt;<p>January 18, 2016 at 11:00:00am</p></header><div class="content"><p>I&#39;m trying to build libdispatch on debian.  Make apparently works:<br></p><p>source.c:2486:1: warning: unused function &#39;_dispatch_mgr_kevent_reenable&#39; [-Wunused-function]<br>_dispatch_mgr_kevent_reenable(_dispatch_kevent_qos_s *ke)<br>^<br>22 warnings generated.<br>/bin/bash ../libtool  --tag=CC   --mode=compile clang-3.5 -DHAVE_CONFIG_H -I. -I../config  -I.. -I.. -I../private -I../os  -Wall -fvisibility=hidden -momit-leaf-frame-pointer  -I/usr/include/kqueue  -isystem /usr/include/bsd -DLIBBSD_OVERLAY  -fblocks -g -O2 -c -o time.lo time.c<br>libtool: compile:  clang-3.5 -DHAVE_CONFIG_H -I. -I../config -I.. -I.. -I../private -I../os -Wall -fvisibility=hidden -momit-leaf-frame-pointer -I/usr/include/kqueue -isystem /usr/include/bsd -DLIBBSD_OVERLAY -fblocks -g -O2 -c time.c  -fPIC -DPIC -o .libs/time.o<br>/bin/bash ../libtool  --tag=CC   --mode=compile clang-3.5 -DHAVE_CONFIG_H -I. -I../config  -I.. -I.. -I../private -I../os  -Wall -fvisibility=hidden -momit-leaf-frame-pointer  -I/usr/include/kqueue  -isystem /usr/include/bsd -DLIBBSD_OVERLAY  -fblocks -g -O2 -c -o transform.lo transform.c<br>libtool: compile:  clang-3.5 -DHAVE_CONFIG_H -I. -I../config -I.. -I.. -I../private -I../os -Wall -fvisibility=hidden -momit-leaf-frame-pointer -I/usr/include/kqueue -isystem /usr/include/bsd -DLIBBSD_OVERLAY -fblocks -g -O2 -c transform.c  -fPIC -DPIC -o .libs/transform.o<br>/bin/bash ../libtool  --tag=CC   --mode=compile clang-3.5 -DHAVE_CONFIG_H -I. -I../config  -I.. -I.. -I../private -I../os  -Wall -fvisibility=hidden -momit-leaf-frame-pointer  -I/usr/include/kqueue  -isystem /usr/include/bsd -DLIBBSD_OVERLAY  -fblocks -g -O2 -c -o voucher.lo voucher.c<br>libtool: compile:  clang-3.5 -DHAVE_CONFIG_H -I. -I../config -I.. -I.. -I../private -I../os -Wall -fvisibility=hidden -momit-leaf-frame-pointer -I/usr/include/kqueue -isystem /usr/include/bsd -DLIBBSD_OVERLAY -fblocks -g -O2 -c voucher.c  -fPIC -DPIC -o .libs/voucher.o<br>/bin/bash ../libtool  --tag=CC   --mode=compile clang-3.5 -DHAVE_CONFIG_H -I. -I../config  -I.. -I.. -I../private -I../os  -Wall -fvisibility=hidden -momit-leaf-frame-pointer  -I/usr/include/kqueue  -isystem /usr/include/bsd -DLIBBSD_OVERLAY  -fblocks -g -O2 -c -o shims/linux_stubs.lo shims/linux_stubs.c<br>libtool: compile:  clang-3.5 -DHAVE_CONFIG_H -I. -I../config -I.. -I.. -I../private -I../os -Wall -fvisibility=hidden -momit-leaf-frame-pointer -I/usr/include/kqueue -isystem /usr/include/bsd -DLIBBSD_OVERLAY -fblocks -g -O2 -c shims/linux_stubs.c  -fPIC -DPIC -o shims/.libs/linux_stubs.o<br>/bin/bash ../libtool  --tag=CXX   --mode=link g++   -avoid-version    -o libdispatch.la -rpath /usr/local/lib allocator.lo apply.lo benchmark.lo data.lo introspection.lo init.lo io.lo object.lo once.lo queue.lo semaphore.lo source.lo time.lo transform.lo voucher.lo shims/linux_stubs.lo    -lkqueue  -lpthread_workqueue -lbsd  -lpthread  -lBlocksRuntime<br>libtool: link: ( cd &quot;.libs&quot; &amp;&amp; rm -f &quot;libdispatch.la&quot; &amp;&amp; ln -s &quot;../libdispatch.la&quot; &quot;libdispatch.la&quot; )<br>make[2]: Leaving directory &#39;/libdispatch/swift-corelibs-libdispatch/src&#39;<br>make[1]: Leaving directory &#39;/libdispatch/swift-corelibs-libdispatch/src&#39;<br>$ echo $?<br>0<br></p><p>However make install does not:<br></p><p>ake[3]: Entering directory &#39;/libdispatch/swift-corelibs-libdispatch/src&#39;<br> /bin/mkdir -p &#39;/usr/local/lib&#39;<br> /bin/bash ../libtool   --mode=install /usr/bin/install -c   libdispatch.la &#39;/usr/local/lib&#39;<br>libtool: install: /usr/bin/install -c .libs/libdispatch.so /usr/local/lib/libdispatch.so<br>/usr/bin/install: cannot stat &#39;.libs/libdispatch.so&#39;: No such file or directory<br></p><p>Indeed, there is no libdispatch.so anywhere.  src/.libs contains:<br></p><p>$ ls -la src/.libs/<br>total 1348<br>drwxr-xr-x 2 root root   4096 Jan 18 17:16 .<br>drwxr-xr-x 4 root root   4096 Jan 18 17:16 ..<br>-rw-r--r-- 1 root root   6472 Jan 18 17:16 allocator.o<br>-rw-r--r-- 1 root root  60520 Jan 18 17:16 apply.o<br>-rw-r--r-- 1 root root  11608 Jan 18 17:16 benchmark.o<br>-rw-r--r-- 1 root root  73992 Jan 18 17:16 data.o<br>-rw-r--r-- 1 root root 136960 Jan 18 17:16 init.o<br>-rw-r--r-- 1 root root   2200 Jan 18 17:16 introspection.o<br>-rw-r--r-- 1 root root 288000 Jan 18 17:16 io.o<br>lrwxrwxrwx 1 root root     17 Jan 18 17:16 libdispatch.la -&gt; ../libdispatch.la<br>-rw-r--r-- 1 root root   1001 Jan 18 17:16 libdispatch.lai<br>-rw-r--r-- 1 root root  45640 Jan 18 17:16 object.o<br>-rw-r--r-- 1 root root  11584 Jan 18 17:16 once.o<br>-rw-r--r-- 1 root root 308616 Jan 18 17:16 queue.o<br>-rw-r--r-- 1 root root  67968 Jan 18 17:16 semaphore.o<br>-rw-r--r-- 1 root root 206328 Jan 18 17:16 source.o<br>-rw-r--r-- 1 root root  10344 Jan 18 17:16 time.o<br>-rw-r--r-- 1 root root  92416 Jan 18 17:16 transform.o<br>-rw-r--r-- 1 root root  14880 Jan 18 17:16 voucher.o<br></p><p>Any thoughts on why I don&#39;t get a libdispatch.so?<br></p><p>Drew<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-corelibs-dev/attachments/20160118/1a0e10e1/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/79cd2bdc2074f4e69eac60743fe785fc?s=50"></div><header><strong>Missing libdispatch.so</strong> from <string>Daniel Eggert</string> &lt;danieleggert at me.com&gt;<p>January 19, 2016 at 11:00:00am</p></header><div class="content"><p>Although that doesn’t really answer your question, I’ve had luck by using the sources from PR #22: &lt;https://github.com/apple/swift-corelibs-libdispatch/pull/22&gt;. YMMV.<br></p><p>/Daniel<br></p></div></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js?vsn=d"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
