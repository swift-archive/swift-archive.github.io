<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/bec901e49831834ec4a6f4b86ff1f9b5?s=50"></div><header><strong>libswift frontend ios</strong> from <string>Ramakrishna Mallireddy</string> &lt;ramakrishna.malli at gmail.com&gt;<p>February 22, 2016 at 05:00:00pm</p></header><div class="content"><p>HI,<br></p><p>How can I compile the swift front-end for iOS.<br>the build-script mentioned only Swift Standard Library for iOS.<br></p><p>I have read the build-script-impl, it does have the iOS build flags, but<br>are they only for building the standard library  or am I missing something.<br></p><p>Thanks<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20160222/e28527a5/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/06c1dcc7dce6a93d194b9c013376e3f0?s=50"></div><header><strong>libswift frontend ios</strong> from <string>Joe Groff</string> &lt;jgroff at apple.com&gt;<p>February 22, 2016 at 09:00:00am</p></header><div class="content"><p>On Feb 22, 2016, at 4:29 AM, Ramakrishna Mallireddy via swift-users &lt;swift-users at swift.org&gt; wrote:<br>&gt; <br>&gt; HI,<br>&gt; <br>&gt; How can I compile the swift front-end for iOS.<br>&gt; the build-script mentioned only Swift Standard Library for iOS.<br>&gt; <br>&gt; I have read the build-script-impl, it does have the iOS build flags, but are they only for building the standard library  or am I missing something.<br></p><p>That&#39;s right, the build script only builds the runtime libraries for iOS, not the compiler itself. We don&#39;t build or test the compiler on iOS since that&#39;s not normally useful for Xcode development.<br></p><p>-Joe<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20160222/efb6b00a/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/bec901e49831834ec4a6f4b86ff1f9b5?s=50"></div><header><strong>libswift frontend ios</strong> from <string>Ramakrishna Mallireddy</string> &lt;ramakrishna.malli at gmail.com&gt;<p>February 23, 2016 at 07:00:00am</p></header><div class="content"><p>Hi Joe,<br></p><p>I am not looking to build the llvm back-end, I am only looking to build<br>front-ends to generate llvm IR on iOS.<br></p><p>have build the swift-llvm &amp; swift-clang static libraries for iOS using<br>cmake,<br>now I am looking to build the swift front-end for iOS,  do you have any<br>instructions that makes my job easier going forward.<br></p><p>Thanks<br>Ramakrishna<br></p><p>On Mon, Feb 22, 2016 at 11:20 PM, Joe Groff &lt;jgroff at apple.com&gt; wrote:<br></p><p>&gt; On Feb 22, 2016, at 4:29 AM, Ramakrishna Mallireddy via swift-users &lt;<br>&gt; swift-users at swift.org&gt; wrote:<br>&gt;<br>&gt;<br>&gt; HI,<br>&gt;<br>&gt; How can I compile the swift front-end for iOS.<br>&gt; the build-script mentioned only Swift Standard Library for iOS.<br>&gt;<br>&gt; I have read the build-script-impl, it does have the iOS build flags, but<br>&gt; are they only for building the standard library  or am I missing something.<br>&gt;<br>&gt;<br>&gt; That&#39;s right, the build script only builds the runtime libraries for iOS,<br>&gt; not the compiler itself. We don&#39;t build or test the compiler on iOS since<br>&gt; that&#39;s not normally useful for Xcode development.<br>&gt;<br>&gt; -Joe<br>&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20160223/0c276d61/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/06c1dcc7dce6a93d194b9c013376e3f0?s=50"></div><header><strong>libswift frontend ios</strong> from <string>Joe Groff</string> &lt;jgroff at apple.com&gt;<p>February 22, 2016 at 05:00:00pm</p></header><div class="content"><p>&gt; On Feb 22, 2016, at 5:49 PM, Ramakrishna Mallireddy &lt;ramakrishna.malli at gmail.com&gt; wrote:<br>&gt; <br>&gt; Hi Joe, <br>&gt; <br>&gt; I am not looking to build the llvm back-end, I am only looking to build front-ends to generate llvm IR on iOS.<br>&gt; <br>&gt; have build the swift-llvm &amp; swift-clang static libraries for iOS using cmake, <br>&gt; now I am looking to build the swift front-end for iOS,  do you have any instructions that makes my job easier going forward.<br></p><p>We don&#39;t build any of the compiler for iOS, either the backend or frontend. I&#39;d start by adding targets to the build system for the compiler&#39;s libraries (libswiftAST, libswiftSema, etc.) targeting iOS and seeing what breaks.<br></p><p>-Joe<br></p><p>&gt; Thanks<br>&gt; Ramakrishna <br>&gt; <br>&gt; On Mon, Feb 22, 2016 at 11:20 PM, Joe Groff &lt;jgroff at apple.com &lt;mailto:jgroff at apple.com&gt;&gt; wrote:<br>&gt; On Feb 22, 2016, at 4:29 AM, Ramakrishna Mallireddy via swift-users &lt;swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; HI,<br>&gt;&gt; <br>&gt;&gt; How can I compile the swift front-end for iOS.<br>&gt;&gt; the build-script mentioned only Swift Standard Library for iOS.<br>&gt;&gt; <br>&gt;&gt; I have read the build-script-impl, it does have the iOS build flags, but are they only for building the standard library  or am I missing something.<br>&gt; <br>&gt; That&#39;s right, the build script only builds the runtime libraries for iOS, not the compiler itself. We don&#39;t build or test the compiler on iOS since that&#39;s not normally useful for Xcode development.<br>&gt; <br>&gt; -Joe<br>&gt; <br>&gt; <br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20160222/cd2aa78c/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/bec901e49831834ec4a6f4b86ff1f9b5?s=50"></div><header><strong>libswift frontend ios</strong> from <string>Ramakrishna Mallireddy</string> &lt;ramakrishna.malli at gmail.com&gt;<p>February 24, 2016 at 01:00:00am</p></header><div class="content"><p>While trying to build for iOS, I am stuck here...I am using the<br>build-script to compile, iOS simulator builds are done and for arm all libs<br>are generate except libSwiftIRGen.a, libSwiftSILOptimizer &amp;<br>libSwiftImmediate.a<br></p><p>*swift/swift/lib/Immediate/REPL.cpp:39:10: **fatal error: **&#39;histedit.h&#39;<br>file not found*<br></p><p>#include &lt;histedit.h&gt;<br></p><p>this file is not there for iOS, how to get around this.<br></p><p>On Tue, Feb 23, 2016 at 7:23 AM, Joe Groff &lt;jgroff at apple.com&gt; wrote:<br></p><p>&gt;<br>&gt; On Feb 22, 2016, at 5:49 PM, Ramakrishna Mallireddy &lt;<br>&gt; ramakrishna.malli at gmail.com&gt; wrote:<br>&gt;<br>&gt; Hi Joe,<br>&gt;<br>&gt; I am not looking to build the llvm back-end, I am only looking to build<br>&gt; front-ends to generate llvm IR on iOS.<br>&gt;<br>&gt; have build the swift-llvm &amp; swift-clang static libraries for iOS using<br>&gt; cmake,<br>&gt; now I am looking to build the swift front-end for iOS,  do you have any<br>&gt; instructions that makes my job easier going forward.<br>&gt;<br>&gt;<br>&gt; We don&#39;t build any of the compiler for iOS, either the backend or<br>&gt; frontend. I&#39;d start by adding targets to the build system for the<br>&gt; compiler&#39;s libraries (libswiftAST, libswiftSema, etc.) targeting iOS and<br>&gt; seeing what breaks.<br>&gt;<br>&gt; -Joe<br>&gt;<br>&gt; Thanks<br>&gt; Ramakrishna<br>&gt;<br>&gt; On Mon, Feb 22, 2016 at 11:20 PM, Joe Groff &lt;jgroff at apple.com&gt; wrote:<br>&gt;<br>&gt;&gt; On Feb 22, 2016, at 4:29 AM, Ramakrishna Mallireddy via swift-users &lt;<br>&gt;&gt; swift-users at swift.org&gt; wrote:<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; HI,<br>&gt;&gt;<br>&gt;&gt; How can I compile the swift front-end for iOS.<br>&gt;&gt; the build-script mentioned only Swift Standard Library for iOS.<br>&gt;&gt;<br>&gt;&gt; I have read the build-script-impl, it does have the iOS build flags, but<br>&gt;&gt; are they only for building the standard library  or am I missing something.<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; That&#39;s right, the build script only builds the runtime libraries for iOS,<br>&gt;&gt; not the compiler itself. We don&#39;t build or test the compiler on iOS since<br>&gt;&gt; that&#39;s not normally useful for Xcode development.<br>&gt;&gt;<br>&gt;&gt; -Joe<br>&gt;&gt;<br>&gt;&gt;<br>&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20160224/15023026/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/06c1dcc7dce6a93d194b9c013376e3f0?s=50"></div><header><strong>libswift frontend ios</strong> from <string>Joe Groff</string> &lt;jgroff at apple.com&gt;<p>February 23, 2016 at 12:00:00pm</p></header><div class="content"><p>&gt; On Feb 23, 2016, at 12:06 PM, Ramakrishna Mallireddy &lt;ramakrishna.malli at gmail.com&gt; wrote:<br>&gt; <br>&gt; While trying to build for iOS, I am stuck here...I am using the build-script to compile, iOS simulator builds are done and for arm all libs are generate except libSwiftIRGen.a, libSwiftSILOptimizer &amp; libSwiftImmediate.a<br>&gt; <br>&gt; swift/swift/lib/Immediate/REPL.cpp:39:10: fatal error: &#39;histedit.h&#39; file not found<br>&gt; <br>&gt; #include &lt;histedit.h&gt;<br>&gt; <br>&gt; this file is not there for iOS, how to get around this.<br>&gt; <br></p><p>libedit probably isn&#39;t available on iOS, but it&#39;s only used by the compiler-debugging REPL. You can refine the #if here to exclude it from iOS builds:<br></p><p>#if defined(__APPLE__) || defined(__FreeBSD__)<br>// FIXME: Support REPL on non-Apple platforms. Ubuntu 14.10&#39;s editline does not<br>// include the wide character entry points needed by the REPL yet.<br>#include &lt;histedit.h&gt;<br>#endif // __APPLE__<br></p><p>Instead of defined(__APPLE__), defined(__MACOSX__) is probably more appropriate.<br></p><p>-Joe<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20160223/d5c70450/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/bec901e49831834ec4a6f4b86ff1f9b5?s=50"></div><header><strong>libswift frontend ios</strong> from <string>Ramakrishna Mallireddy</string> &lt;ramakrishna.malli at gmail.com&gt;<p>February 24, 2016 at 01:00:00am</p></header><div class="content"><p>I am using the build-script that comes with swift repository. If i remove<br>Immediate dir completely from the build, mac_os build complains[as this<br>will always invoke]. If I redefine the #if then I am getting a dozen errors<br>that are part of histedit.h<br></p><p>How can I tell ninja, that not to worry about this change[i will completely<br>remove Immediate dir] and go straight to build the arm build.<br></p><p>On Wed, Feb 24, 2016 at 1:39 AM, Joe Groff &lt;jgroff at apple.com&gt; wrote:<br></p><p>&gt;<br>&gt; On Feb 23, 2016, at 12:06 PM, Ramakrishna Mallireddy &lt;<br>&gt; ramakrishna.malli at gmail.com&gt; wrote:<br>&gt;<br>&gt; While trying to build for iOS, I am stuck here...I am using the<br>&gt; build-script to compile, iOS simulator builds are done and for arm all libs<br>&gt; are generate except libSwiftIRGen.a, libSwiftSILOptimizer &amp;<br>&gt; libSwiftImmediate.a<br>&gt;<br>&gt; *swift/swift/lib/Immediate/REPL.cpp:39:10: **fatal error: **&#39;histedit.h&#39;<br>&gt; file not found*<br>&gt;<br>&gt; #include &lt;histedit.h&gt;<br>&gt;<br>&gt; this file is not there for iOS, how to get around this.<br>&gt;<br>&gt; libedit probably isn&#39;t available on iOS, but it&#39;s only used by the<br>&gt; compiler-debugging REPL. You can refine the #if here to exclude it from iOS<br>&gt; builds:<br>&gt;<br>&gt; #if defined(__APPLE__) || defined(__FreeBSD__)<br>&gt; // FIXME: Support REPL on non-Apple platforms. Ubuntu 14.10&#39;s editline<br>&gt; does not<br>&gt; // include the wide character entry points needed by the REPL yet.<br>&gt; #include &lt;histedit.h&gt;<br>&gt; #endif // __APPLE__<br>&gt;<br>&gt; Instead of defined(__APPLE__), defined(__MACOSX__) is probably more<br>&gt; appropriate.<br>&gt;<br>&gt; -Joe<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20160224/2b747a81/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/06c1dcc7dce6a93d194b9c013376e3f0?s=50"></div><header><strong>libswift frontend ios</strong> from <string>Joe Groff</string> &lt;jgroff at apple.com&gt;<p>February 23, 2016 at 12:00:00pm</p></header><div class="content"><p>&gt; On Feb 23, 2016, at 12:22 PM, Ramakrishna Mallireddy &lt;ramakrishna.malli at gmail.com&gt; wrote:<br>&gt; <br>&gt; I am using the build-script that comes with swift repository. If i remove Immediate dir completely from the build, mac_os build complains[as this will always invoke]. If I redefine the #if then I am getting a dozen errors that are part of histedit.h<br></p><p>You will need to update the other #if __APPLE__ conditions in the file to match too.<br></p><p>-Joe<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/bec901e49831834ec4a6f4b86ff1f9b5?s=50"></div><header><strong>libswift frontend ios</strong> from <string>Ramakrishna Mallireddy</string> &lt;ramakrishna.malli at gmail.com&gt;<p>February 24, 2016 at 02:00:00am</p></header><div class="content"><p>__MACOSX__ is not defined, where can I defined this, so that it only<br>effects mac build.<br></p><p>On Wed, Feb 24, 2016 at 1:57 AM, Joe Groff &lt;jgroff at apple.com&gt; wrote:<br></p><p>&gt;<br>&gt; &gt; On Feb 23, 2016, at 12:22 PM, Ramakrishna Mallireddy &lt;<br>&gt; ramakrishna.malli at gmail.com&gt; wrote:<br>&gt; &gt;<br>&gt; &gt; I am using the build-script that comes with swift repository. If i<br>&gt; remove Immediate dir completely from the build, mac_os build complains[as<br>&gt; this will always invoke]. If I redefine the #if then I am getting a dozen<br>&gt; errors that are part of histedit.h<br>&gt;<br>&gt; You will need to update the other #if __APPLE__ conditions in the file to<br>&gt; match too.<br>&gt;<br>&gt; -Joe<br>&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20160224/77a78fe3/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/06c1dcc7dce6a93d194b9c013376e3f0?s=50"></div><header><strong>libswift frontend ios</strong> from <string>Joe Groff</string> &lt;jgroff at apple.com&gt;<p>February 23, 2016 at 01:00:00pm</p></header><div class="content"><p>Sorry, it looks like the magic combination is <br></p><p>#if defined(__APPLE__)<br>#include &lt;TargetConditionals.h&gt;<br>#endif<br></p><p>#if (TARGET_OS_MAC &amp;&amp; !TARGET_OS_IPHONE) || defined(__FreeBSD__)<br>...do REPL stuff...<br>#endif<br></p><p>-Joe<br></p><p>&gt; On Feb 23, 2016, at 12:42 PM, Ramakrishna Mallireddy &lt;ramakrishna.malli at gmail.com&gt; wrote:<br>&gt; <br>&gt; __MACOSX__ is not defined, where can I defined this, so that it only effects mac build.<br>&gt; <br>&gt; On Wed, Feb 24, 2016 at 1:57 AM, Joe Groff &lt;jgroff at apple.com &lt;mailto:jgroff at apple.com&gt;&gt; wrote:<br>&gt; <br>&gt; &gt; On Feb 23, 2016, at 12:22 PM, Ramakrishna Mallireddy &lt;ramakrishna.malli at gmail.com &lt;mailto:ramakrishna.malli at gmail.com&gt;&gt; wrote:<br>&gt; &gt;<br>&gt; &gt; I am using the build-script that comes with swift repository. If i remove Immediate dir completely from the build, mac_os build complains[as this will always invoke]. If I redefine the #if then I am getting a dozen errors that are part of histedit.h<br>&gt; <br>&gt; You will need to update the other #if __APPLE__ conditions in the file to match too.<br>&gt; <br>&gt; -Joe<br>&gt; <br>&gt; <br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20160223/37ed4e98/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/bec901e49831834ec4a6f4b86ff1f9b5?s=50"></div><header><strong>libswift frontend ios</strong> from <string>Ramakrishna Mallireddy</string> &lt;ramakrishna.malli at gmail.com&gt;<p>February 24, 2016 at 03:00:00am</p></header><div class="content"><p>Thanks Joe, The build is complete.<br></p><p>On Wed, Feb 24, 2016 at 2:33 AM, Joe Groff &lt;jgroff at apple.com&gt; wrote:<br></p><p>&gt; Sorry, it looks like the magic combination is<br>&gt;<br>&gt; #if defined(__APPLE__)<br>&gt; #include &lt;TargetConditionals.h&gt;<br>&gt; #endif<br>&gt;<br>&gt; #if (TARGET_OS_MAC &amp;&amp; !TARGET_OS_IPHONE) || defined(__FreeBSD__)<br>&gt; ...do REPL stuff...<br>&gt; #endif<br>&gt;<br>&gt; -Joe<br>&gt;<br>&gt; On Feb 23, 2016, at 12:42 PM, Ramakrishna Mallireddy &lt;<br>&gt; ramakrishna.malli at gmail.com&gt; wrote:<br>&gt;<br>&gt; __MACOSX__ is not defined, where can I defined this, so that it only<br>&gt; effects mac build.<br>&gt;<br>&gt; On Wed, Feb 24, 2016 at 1:57 AM, Joe Groff &lt;jgroff at apple.com&gt; wrote:<br>&gt;<br>&gt;&gt;<br>&gt;&gt; &gt; On Feb 23, 2016, at 12:22 PM, Ramakrishna Mallireddy &lt;<br>&gt;&gt; ramakrishna.malli at gmail.com&gt; wrote:<br>&gt;&gt; &gt;<br>&gt;&gt; &gt; I am using the build-script that comes with swift repository. If i<br>&gt;&gt; remove Immediate dir completely from the build, mac_os build complains[as<br>&gt;&gt; this will always invoke]. If I redefine the #if then I am getting a dozen<br>&gt;&gt; errors that are part of histedit.h<br>&gt;&gt;<br>&gt;&gt; You will need to update the other #if __APPLE__ conditions in the file to<br>&gt;&gt; match too.<br>&gt;&gt;<br>&gt;&gt; -Joe<br>&gt;&gt;<br>&gt;&gt;<br>&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20160224/aae5827f/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/bec901e49831834ec4a6f4b86ff1f9b5?s=50"></div><header><strong>libswift frontend ios</strong> from <string>Ramakrishna Mallireddy</string> &lt;ramakrishna.malli at gmail.com&gt;<p>March 12, 2016 at 12:00:00am</p></header><div class="content"><p>Hi,<br></p><p>I have build clang, llvm , swift for iOS and added these libraries to a<br>sample single-view project and the app crash&#39;s before it reach appdelegate.<br></p><p>Not able to see what going wrong. could anyone help me to move forward. I<br>don&#39;t know where this *libLLVMContainer *came from*.*<br></p><p>* thread #1: tid = 0x253e8, 0x07a3bddb<br>libsystem_pthread.dylib`_pthread_rwlock_check_init + 11, queue =<br>&#39;com.apple.main-thread&#39;, stop reason = EXC_BAD_ACCESS (code=1,<br>address=0x40000000)<br></p><p>  * frame #0: 0x07a3bddb libsystem_pthread.dylib`_pthread_rwlock_check_init<br>+ 11<br></p><p>    frame #1: 0x07a3baf0 libsystem_pthread.dylib`_pthread_rwlock_lock + 25<br></p><p>    frame #2: 0x07a40fcc<br>libsystem_pthread.dylib`pthread_rwlock_wrlock$UNIX2003 + 23<br></p><p>    frame #3: 0x0d57ff13<br>libLLVMContainer.dylib`llvm::sys::RWMutexImpl::writer_acquire() + 19<br></p><p>    frame #4: 0x0d4dab12<br>libLLVMContainer.dylib`llvm::PassRegistry::addRegistrationListener(llvm::PassRegistrationListener*)<br>+ 34<br></p><p>    frame #5: 0x0d4d667e<br>libLLVMContainer.dylib`llvm::PassNameParser::PassNameParser() + 78<br></p><p>    frame #6: 0x0d4cdad3<br>libLLVMContainer.dylib`_GLOBAL__sub_I_LegacyPassManager.cpp + 1299<br></p><p>    frame #7: 0x0187e20f<br></p><p>    frame #8: 0x0187e368<br></p><p>    frame #9: 0x01879a01<br></p><p>    frame #10: 0x01879994<br></p><p>    frame #11: 0x01879994<br></p><p>    frame #12: 0x01879994<br></p><p>    frame #13: 0x01879994<br></p><p>    frame #14: 0x01879994<br></p><p>    frame #15: 0x01879994<br></p><p>    frame #16: 0x01879994<br></p><p>    frame #17: 0x01879994<br></p><p>    frame #18: 0x01878d54<br></p><p>    frame #19: 0x01878de3<br></p><p>    frame #20: 0x0186ec50<br></p><p>    frame #21: 0x018722c7<br></p><p>    frame #22: 0x0186e1f9<br></p><p>    frame #23: 0x8fe97118 dyld`dyld::useSimulatorDyld(int, macho_header<br>const*, char const*, int, char const**, char const**, char const**,<br>unsigned long*) + 1053<br></p><p>    frame #24: 0x8fe961f2 dyld`dyld::_main(macho_header const*, unsigned<br>long, int, char const**, char const**, char const**, unsigned long*) + 202<br></p><p>    frame #25: 0x8fe92232 dyld`dyldbootstrap::start(macho_header const*,<br>int, char const**, long, macho_header const*, unsigned long*) + 428<br></p><p>    frame #26: 0x8fe92047 dyld`_dyld_start + 71<br></p><p><br>Thanks<br></p><p>Ramakrishna<br></p><p>On Wed, Feb 24, 2016 at 3:16 AM, Ramakrishna Mallireddy &lt;<br>ramakrishna.malli at gmail.com&gt; wrote:<br></p><p>&gt; Thanks Joe, The build is complete.<br>&gt;<br>&gt; On Wed, Feb 24, 2016 at 2:33 AM, Joe Groff &lt;jgroff at apple.com&gt; wrote:<br>&gt;<br>&gt;&gt; Sorry, it looks like the magic combination is<br>&gt;&gt;<br>&gt;&gt; #if defined(__APPLE__)<br>&gt;&gt; #include &lt;TargetConditionals.h&gt;<br>&gt;&gt; #endif<br>&gt;&gt;<br>&gt;&gt; #if (TARGET_OS_MAC &amp;&amp; !TARGET_OS_IPHONE) || defined(__FreeBSD__)<br>&gt;&gt; ...do REPL stuff...<br>&gt;&gt; #endif<br>&gt;&gt;<br>&gt;&gt; -Joe<br>&gt;&gt;<br>&gt;&gt; On Feb 23, 2016, at 12:42 PM, Ramakrishna Mallireddy &lt;<br>&gt;&gt; ramakrishna.malli at gmail.com&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; __MACOSX__ is not defined, where can I defined this, so that it only<br>&gt;&gt; effects mac build.<br>&gt;&gt;<br>&gt;&gt; On Wed, Feb 24, 2016 at 1:57 AM, Joe Groff &lt;jgroff at apple.com&gt; wrote:<br>&gt;&gt;<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; &gt; On Feb 23, 2016, at 12:22 PM, Ramakrishna Mallireddy &lt;<br>&gt;&gt;&gt; ramakrishna.malli at gmail.com&gt; wrote:<br>&gt;&gt;&gt; &gt;<br>&gt;&gt;&gt; &gt; I am using the build-script that comes with swift repository. If i<br>&gt;&gt;&gt; remove Immediate dir completely from the build, mac_os build complains[as<br>&gt;&gt;&gt; this will always invoke]. If I redefine the #if then I am getting a dozen<br>&gt;&gt;&gt; errors that are part of histedit.h<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; You will need to update the other #if __APPLE__ conditions in the file<br>&gt;&gt;&gt; to match too.<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; -Joe<br>&gt;&gt;&gt;<br>&gt;&gt;&gt;<br>&gt;&gt;<br>&gt;&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20160312/d0086979/attachment.html&gt;<br></p></div></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
