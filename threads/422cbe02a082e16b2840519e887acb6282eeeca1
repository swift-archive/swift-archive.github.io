<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/17d2af4afb70023e28e655d17471a018?s=50"></div><header><strong>[Starter Project] Teach SILParser how to parse switch_enum of undef.</strong> from <string>Michael Gottesman</string> &lt;mgottesman at apple.com&gt;<p>December 13, 2015 at 03:00:00pm</p></header><div class="content"><p>This is a small starter project for those who are interested in working with SIL.<br></p><p>The SIL Parser currently is unable to parse switch_enum of undef. I wrote a patch that does the work some time ago, but I never have had time to finish it (i.e. make sure everything works ok/write tests). I posted the patch in this issue:<br></p><p>https://bugs.swift.org/browse/SR-210 &lt;https://bugs.swift.org/browse/SR-210&gt;<br></p><p>My hope is that even though a lot of the work is already done this may serve as good starting point for someone who wants to poke at the SIL Parser (a part of the code base that has not gotten as much attention as others).<br></p><p>Michael<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20151213/422ceca1/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/331ec1a62e13e332445f7c802b5c93c6?s=50"></div><header><strong>[Starter Project] Teach SILParser how to parse switch_enum of undef.</strong> from <string>Emanuel Zephir</string> &lt;emanuelzephir at gmail.com&gt;<p>December 16, 2015 at 03:00:00am</p></header><div class="content"><p>Unless anyone objects, I&#39;d like to claim this. I&#39;ve assigned issue SR-210<br>to myself.<br></p><p>--Emanuel<br></p><p>On Sun, Dec 13, 2015 at 1:29 PM, Michael Gottesman via swift-dev &lt;<br>swift-dev at swift.org&gt; wrote:<br></p><p>&gt; This is a small starter project for those who are interested in working<br>&gt; with SIL.<br>&gt;<br>&gt; The SIL Parser currently is unable to parse switch_enum of undef. I wrote<br>&gt; a patch that does the work some time ago, but I never have had time to<br>&gt; finish it (i.e. make sure everything works ok/write tests). I posted the<br>&gt; patch in this issue:<br>&gt;<br>&gt; https://bugs.swift.org/browse/SR-210<br>&gt;<br>&gt; My hope is that even though a lot of the work is already done this may<br>&gt; serve as good starting point for someone who wants to poke at the SIL<br>&gt; Parser (a part of the code base that has not gotten as much attention as<br>&gt; others).<br>&gt;<br>&gt; Michael<br>&gt;<br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20151216/3f804f20/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/17d2af4afb70023e28e655d17471a018?s=50"></div><header><strong>[Starter Project] Teach SILParser how to parse switch_enum of undef.</strong> from <string>Michael Gottesman</string> &lt;mgottesman at apple.com&gt;<p>December 16, 2015 at 12:00:00pm</p></header><div class="content"><p>SGTM. If you want as you finish these, I have a list of them = ).<br></p><p>I just filed another one:<br></p><p>https://bugs.swift.org/browse/SR-247 &lt;https://bugs.swift.org/browse/SR-247&gt;<br></p><p>Michael<br></p><p>&gt; On Dec 16, 2015, at 5:30 AM, Emanuel Zephir &lt;emanuelzephir at gmail.com&gt; wrote:<br>&gt; <br>&gt; Unless anyone objects, I&#39;d like to claim this. I&#39;ve assigned issue SR-210 to myself.<br>&gt; <br>&gt; --Emanuel<br>&gt; <br>&gt; On Sun, Dec 13, 2015 at 1:29 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt; This is a small starter project for those who are interested in working with SIL.<br>&gt; <br>&gt; The SIL Parser currently is unable to parse switch_enum of undef. I wrote a patch that does the work some time ago, but I never have had time to finish it (i.e. make sure everything works ok/write tests). I posted the patch in this issue:<br>&gt; <br>&gt; https://bugs.swift.org/browse/SR-210 &lt;https://bugs.swift.org/browse/SR-210&gt;<br>&gt; <br>&gt; My hope is that even though a lot of the work is already done this may serve as good starting point for someone who wants to poke at the SIL Parser (a part of the code base that has not gotten as much attention as others).<br>&gt; <br>&gt; Michael<br>&gt; <br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt; <br>&gt; <br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20151216/203121c1/attachment.html&gt;<br></p></div></li></ul></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/91c88f3ed8bc9a8164f281098c03059b?s=50"></div><header><strong>[Starter Project] Teach SILParser how to parse switch_enum of undef.</strong> from <string>Davide Italiano</string> &lt;dccitaliano at gmail.com&gt;<p>December 22, 2015 at 01:00:00pm</p></header><div class="content"><p>On Sun, Dec 13, 2015 at 4:29 PM, Michael Gottesman via swift-dev &lt;<br>swift-dev at swift.org&gt; wrote:<br></p><p>&gt; This is a small starter project for those who are interested in working<br>&gt; with SIL.<br>&gt;<br>&gt; The SIL Parser currently is unable to parse switch_enum of undef. I wrote<br>&gt; a patch that does the work some time ago, but I never have had time to<br>&gt; finish it (i.e. make sure everything works ok/write tests). I posted the<br>&gt; patch in this issue:<br>&gt;<br>&gt; https://bugs.swift.org/browse/SR-210<br>&gt;<br>&gt; My hope is that even though a lot of the work is already done this may<br>&gt; serve as good starting point for someone who wants to poke at the SIL<br>&gt; Parser (a part of the code base that has not gotten as much attention as<br>&gt; others).<br>&gt;<br>&gt; Michael<br>&gt;<br>&gt; Hi Michael,<br>I&#39;m interested in something like this. I noticed this project has been<br>already taken, but you mentioned in a subsequent mail you have a list of<br>them. What are the other proposals?<br></p><p>Thank you,<br></p><p>--<br>Davide<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20151222/61d24cec/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/17d2af4afb70023e28e655d17471a018?s=50"></div><header><strong>[Starter Project] Teach SILParser how to parse switch_enum of undef.</strong> from <string>Michael Gottesman</string> &lt;mgottesman at apple.com&gt;<p>December 22, 2015 at 01:00:00pm</p></header><div class="content"><p>Here are some off the top of my head. Many are related to code quality. Tell me what you think:<br></p><p>1. We have recently gotten some SILParser crashers. These need to be fixed. I looked at 1-2 of them and the ones I looked at are where we should be giving out a diagnostic but are instead just asserting.<br></p><p>2. The SILParser is a recursive descent parser. In general when one implements a recursive descent parser, one should above the routine that does the various parts of the parsing show the grammar being parsed. SILParser has inconsistently done this. I would go through all of the methods and see which are missing this documentation and fix the documentation.<br></p><p>3. parseSILInstruction is horrible and makes me cry every time I see it. It is a method that is ~1900 lines with a huge switch in it. We should refactor it into a visitor structure. In fact it is large enough that we should consider moving it into its own file if it is possible.<br></p><p>Michael<br></p><p>&gt; On Dec 22, 2015, at 12:02 PM, Davide Italiano &lt;dccitaliano at gmail.com&gt; wrote:<br>&gt; <br>&gt; <br>&gt; <br>&gt; On Sun, Dec 13, 2015 at 4:29 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt; This is a small starter project for those who are interested in working with SIL.<br>&gt; <br>&gt; The SIL Parser currently is unable to parse switch_enum of undef. I wrote a patch that does the work some time ago, but I never have had time to finish it (i.e. make sure everything works ok/write tests). I posted the patch in this issue:<br>&gt; <br>&gt; https://bugs.swift.org/browse/SR-210 &lt;https://bugs.swift.org/browse/SR-210&gt;<br>&gt; <br>&gt; My hope is that even though a lot of the work is already done this may serve as good starting point for someone who wants to poke at the SIL Parser (a part of the code base that has not gotten as much attention as others).<br>&gt; <br>&gt; Michael<br>&gt; <br>&gt; <br>&gt; Hi Michael,<br>&gt; I&#39;m interested in something like this. I noticed this project has been already taken, but you mentioned in a subsequent mail you have a list of them. What are the other proposals?<br>&gt; <br>&gt; Thank you,<br>&gt; <br>&gt; --<br>&gt; Davide<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20151222/aace2035/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/17d2af4afb70023e28e655d17471a018?s=50"></div><header><strong>[Starter Project] Teach SILParser how to parse switch_enum of undef.</strong> from <string>Michael Gottesman</string> &lt;mgottesman at apple.com&gt;<p>December 22, 2015 at 01:00:00pm</p></header><div class="content"><p>You know what, let me file some bugs. I just thought of some more.<br></p><p>&gt; On Dec 22, 2015, at 1:45 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; Here are some off the top of my head. Many are related to code quality. Tell me what you think:<br>&gt; <br>&gt; 1. We have recently gotten some SILParser crashers. These need to be fixed. I looked at 1-2 of them and the ones I looked at are where we should be giving out a diagnostic but are instead just asserting.<br>&gt; <br>&gt; 2. The SILParser is a recursive descent parser. In general when one implements a recursive descent parser, one should above the routine that does the various parts of the parsing show the grammar being parsed. SILParser has inconsistently done this. I would go through all of the methods and see which are missing this documentation and fix the documentation.<br>&gt; <br>&gt; 3. parseSILInstruction is horrible and makes me cry every time I see it. It is a method that is ~1900 lines with a huge switch in it. We should refactor it into a visitor structure. In fact it is large enough that we should consider moving it into its own file if it is possible.<br>&gt; <br>&gt; Michael<br>&gt; <br>&gt;&gt; On Dec 22, 2015, at 12:02 PM, Davide Italiano &lt;dccitaliano at gmail.com &lt;mailto:dccitaliano at gmail.com&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; On Sun, Dec 13, 2015 at 4:29 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt; This is a small starter project for those who are interested in working with SIL.<br>&gt;&gt; <br>&gt;&gt; The SIL Parser currently is unable to parse switch_enum of undef. I wrote a patch that does the work some time ago, but I never have had time to finish it (i.e. make sure everything works ok/write tests). I posted the patch in this issue:<br>&gt;&gt; <br>&gt;&gt; https://bugs.swift.org/browse/SR-210 &lt;https://bugs.swift.org/browse/SR-210&gt;<br>&gt;&gt; <br>&gt;&gt; My hope is that even though a lot of the work is already done this may serve as good starting point for someone who wants to poke at the SIL Parser (a part of the code base that has not gotten as much attention as others).<br>&gt;&gt; <br>&gt;&gt; Michael<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; Hi Michael,<br>&gt;&gt; I&#39;m interested in something like this. I noticed this project has been already taken, but you mentioned in a subsequent mail you have a list of them. What are the other proposals?<br>&gt;&gt; <br>&gt;&gt; Thank you,<br>&gt;&gt; <br>&gt;&gt; --<br>&gt;&gt; Davide<br>&gt; <br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20151222/0a7545f9/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/17d2af4afb70023e28e655d17471a018?s=50"></div><header><strong>[Starter Project] Teach SILParser how to parse switch_enum of undef.</strong> from <string>Michael Gottesman</string> &lt;mgottesman at apple.com&gt;<p>December 22, 2015 at 02:00:00pm</p></header><div class="content"><p>I feel that the SILParser crasher one is too open ended for a specific bug report. But I would suggest looking into those as well. Here are some more concrete things:<br></p><p>https://bugs.swift.org/browse/SR-339<br>https://bugs.swift.org/browse/SR-340<br>https://bugs.swift.org/browse/SR-341<br>https://bugs.swift.org/browse/SR-342<br></p><p>&gt; On Dec 22, 2015, at 1:48 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; You know what, let me file some bugs. I just thought of some more.<br>&gt; <br>&gt;&gt; On Dec 22, 2015, at 1:45 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Here are some off the top of my head. Many are related to code quality. Tell me what you think:<br>&gt;&gt; <br>&gt;&gt; 1. We have recently gotten some SILParser crashers. These need to be fixed. I looked at 1-2 of them and the ones I looked at are where we should be giving out a diagnostic but are instead just asserting.<br>&gt;&gt; <br>&gt;&gt; 2. The SILParser is a recursive descent parser. In general when one implements a recursive descent parser, one should above the routine that does the various parts of the parsing show the grammar being parsed. SILParser has inconsistently done this. I would go through all of the methods and see which are missing this documentation and fix the documentation.<br>&gt;&gt; <br>&gt;&gt; 3. parseSILInstruction is horrible and makes me cry every time I see it. It is a method that is ~1900 lines with a huge switch in it. We should refactor it into a visitor structure. In fact it is large enough that we should consider moving it into its own file if it is possible.<br>&gt;&gt; <br>&gt;&gt; Michael<br>&gt;&gt; <br>&gt;&gt;&gt; On Dec 22, 2015, at 12:02 PM, Davide Italiano &lt;dccitaliano at gmail.com &lt;mailto:dccitaliano at gmail.com&gt;&gt; wrote:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <br>&gt;&gt;&gt; On Sun, Dec 13, 2015 at 4:29 PM, Michael Gottesman via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt;&gt; This is a small starter project for those who are interested in working with SIL.<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; The SIL Parser currently is unable to parse switch_enum of undef. I wrote a patch that does the work some time ago, but I never have had time to finish it (i.e. make sure everything works ok/write tests). I posted the patch in this issue:<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; https://bugs.swift.org/browse/SR-210 &lt;https://bugs.swift.org/browse/SR-210&gt;<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; My hope is that even though a lot of the work is already done this may serve as good starting point for someone who wants to poke at the SIL Parser (a part of the code base that has not gotten as much attention as others).<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Michael<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Hi Michael,<br>&gt;&gt;&gt; I&#39;m interested in something like this. I noticed this project has been already taken, but you mentioned in a subsequent mail you have a list of them. What are the other proposals?<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; Thank you,<br>&gt;&gt;&gt; <br>&gt;&gt;&gt; --<br>&gt;&gt;&gt; Davide<br>&gt;&gt; <br>&gt;&gt; <br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-dev mailing list<br>&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt; <br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20151222/347863ca/attachment.html&gt;<br></p></div></li></ul></li></ul></li></ul></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
