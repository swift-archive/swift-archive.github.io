<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css?vsn=d">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg?vsn=d" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/8c526263cbb852b0462b8605746ad50b?s=50"></div><header><strong>memory requirements for building swift on linux?</strong> from <string>Luca Finzi Contini</string> &lt;lucafinzicontini at gmail.com&gt;<p>December 15, 2015 at 09:00:00am</p></header><div class="content"><p>Hi,<br>I have tried to build the swift ecosystem on an Ubuntu 15.10 machine loaded<br>with 16GB of RAM and 16GB of swap space.<br>What happens is that if you run the &quot;utils/build-script -t&quot; command as<br>suggested, this will use all processors available to speedup the build<br>BUT<br>it will also try to perform parallel links of tools when finished<br>compiling.<br>This is when memory is filled up totally and disks start to grind.<br>I tried running the whole thing with just one single job, using:<br></p><p>utils/build-script -j 1 -t<br></p><p>and it took more time to finish but it finished :)<br></p><p>I think there could be room for some enhancements in the way that the build<br>script uses processors : either you know how much RAM isneeded to build the<br>whole thing, or just get down to one single job for the purpose of linking.<br></p><p><br></p><p>Message: 7<br>&gt; Date: Mon, 14 Dec 2015 09:03:36 -0500<br>&gt; From: Kevin Lundberg &lt;kevin at klundberg.com&gt;<br>&gt; To: swift-users at swift.org<br>&gt; Subject: [swift-users] memory requirements for building swift on<br>&gt;         linux?<br>&gt; Message-ID: &lt;566ECC38.9030506 at klundberg.com&gt;<br>&gt; Content-Type: text/plain; charset=utf-8<br>&gt;<br>&gt; Hi All,<br>&gt;<br>&gt; I&#39;ve set up a linux VM (ubuntu 15.10) in virtualbox on my windows PC to<br>&gt; build and test swift on linux, but I&#39;ve been unable to successfully<br>&gt; build it to completion. I have all the repos including the corelibs<br>&gt; cloned locally, and have followed all the steps as far as I know for<br>&gt; installing dependencies. Every time I build, it fails somewhere during<br>&gt; linking, the last time failing when  linking &quot;CXX shared library<br>&gt; lib/libLTO.so&quot;.<br>&gt;<br>&gt; I don&#39;t have the full error, but I&#39;m curious if there&#39;s some RAM<br>&gt; requirement for building swift. My VM had 2GB, and I just bumped it up<br>&gt; to 4GB to try again. Has anyone else run into this, and is there a<br>&gt; recommended minimum needed to successfully build swift with? Could<br>&gt; something else be the cause here instead of RAM if 2GB is in fact enough?<br>&gt;<br>&gt; Thanks!<br>&gt;<br>&gt; -Kevin<br>&gt;<br>&gt;<br>&gt; ------------------------------<br>&gt;<br>&gt; Message: 8<br>&gt; Date: Mon, 14 Dec 2015 14:30:22 +0000<br>&gt; From: Tobias Scholze &lt;tobias.scholze at gmail.com&gt;<br>&gt; To: Kevin Lundberg &lt;kevin at klundberg.com&gt;, swift-users at swift.org<br>&gt; Subject: Re: [swift-users] memory requirements for building swift on<br>&gt;         linux?<br>&gt; Message-ID:<br>&gt;         &lt;CAHZb28bw_7M10b+j69h55ykxunfPUocD=<br>&gt; SatPMp-doNymNnsGg at mail.gmail.com&gt;<br>&gt; Content-Type: text/plain; charset=&quot;utf-8&quot;<br>&gt;<br>&gt; Hi,<br>&gt; to build Swift from the sources I used a 16 GB bare metal machine and it<br>&gt; was not enough.<br>&gt; So I think, you need a lot of memory ( &gt; 16 GB) to have fun while building<br>&gt; it.<br>&gt;<br>&gt; - Toby<br>&gt;<br>&gt; Kevin Lundberg via swift-users &lt;swift-users at swift.org&gt; schrieb am Mo., 14.<br>&gt; Dez. 2015 um 15:03 Uhr:<br>&gt;<br>&gt; &gt; Hi All,<br>&gt; &gt;<br>&gt; &gt; I&#39;ve set up a linux VM (ubuntu 15.10) in virtualbox on my windows PC to<br>&gt; &gt; build and test swift on linux, but I&#39;ve been unable to successfully<br>&gt; &gt; build it to completion. I have all the repos including the corelibs<br>&gt; &gt; cloned locally, and have followed all the steps as far as I know for<br>&gt; &gt; installing dependencies. Every time I build, it fails somewhere during<br>&gt; &gt; linking, the last time failing when  linking &quot;CXX shared library<br>&gt; &gt; lib/libLTO.so&quot;.<br>&gt; &gt;<br>&gt; &gt; I don&#39;t have the full error, but I&#39;m curious if there&#39;s some RAM<br>&gt; &gt; requirement for building swift. My VM had 2GB, and I just bumped it up<br>&gt; &gt; to 4GB to try again. Has anyone else run into this, and is there a<br>&gt; &gt; recommended minimum needed to successfully build swift with? Could<br>&gt; &gt; something else be the cause here instead of RAM if 2GB is in fact enough?<br>&gt; &gt;<br>&gt; &gt; Thanks!<br>&gt; &gt;<br>&gt; &gt; -Kevin<br>&gt; &gt; _______________________________________________<br>&gt; &gt; swift-users mailing list<br>&gt; &gt; swift-users at swift.org<br>&gt; &gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; &gt;<br>&gt; -------------- next part --------------<br>&gt; An HTML attachment was scrubbed...<br>&gt; URL: &lt;<br>&gt; https://lists.swift.org/pipermail/swift-users/attachments/20151214/5ef837e0/attachment-0001.html<br>&gt; &gt;<br>&gt;<br>&gt; ------------------------------<br>&gt;<br>&gt; Message: 9<br>&gt; Date: Mon, 14 Dec 2015 09:55:19 -0500<br>&gt; From: Kevin Lundberg &lt;kevin at klundberg.com&gt;<br>&gt; To: Tobias Scholze &lt;tobias.scholze at gmail.com&gt;, swift-users at swift.org<br>&gt; Subject: Re: [swift-users] memory requirements for building swift on<br>&gt;         linux?<br>&gt; Message-ID: &lt;566ED857.90601 at klundberg.com&gt;<br>&gt; Content-Type: text/plain; charset=&quot;utf-8&quot;<br>&gt;<br>&gt; I was able to build it on my 8GB macbook successfully, but there may be<br>&gt; platform differences there that caused that.<br>&gt;<br>&gt; It seems that 4GB isn&#39;t enough either, fails when linking clang-3.8.<br>&gt; I&#39;ll have to figure something else out for linux for me. Thanks!<br>&gt;<br>&gt; On 12/14/2015 9:30 AM, Tobias Scholze wrote:<br>&gt; &gt; Hi,<br>&gt; &gt; to build Swift from the sources I used a 16 GB bare metal machine and<br>&gt; &gt; it was not enough.<br>&gt; &gt; So I think, you need a lot of memory ( &gt; 16 GB) to have fun while<br>&gt; &gt; building it.<br>&gt; &gt;<br>&gt; &gt; - Toby<br>&gt; &gt;<br>&gt; &gt; Kevin Lundberg via swift-users &lt;swift-users at swift.org<br>&gt; &gt; &lt;mailto:swift-users at swift.org&gt;&gt; schrieb am Mo., 14. Dez. 2015 um<br>&gt; &gt; 15:03 Uhr:<br>&gt; &gt;<br>&gt; &gt;     Hi All,<br>&gt; &gt;<br>&gt; &gt;     I&#39;ve set up a linux VM (ubuntu 15.10) in virtualbox on my windows<br>&gt; &gt;     PC to<br>&gt; &gt;     build and test swift on linux, but I&#39;ve been unable to successfully<br>&gt; &gt;     build it to completion. I have all the repos including the corelibs<br>&gt; &gt;     cloned locally, and have followed all the steps as far as I know for<br>&gt; &gt;     installing dependencies. Every time I build, it fails somewhere<br>&gt; during<br>&gt; &gt;     linking, the last time failing when  linking &quot;CXX shared library<br>&gt; &gt;     lib/libLTO.so&quot;.<br>&gt; &gt;<br>&gt; &gt;     I don&#39;t have the full error, but I&#39;m curious if there&#39;s some RAM<br>&gt; &gt;     requirement for building swift. My VM had 2GB, and I just bumped it<br>&gt; up<br>&gt; &gt;     to 4GB to try again. Has anyone else run into this, and is there a<br>&gt; &gt;     recommended minimum needed to successfully build swift with? Could<br>&gt; &gt;     something else be the cause here instead of RAM if 2GB is in fact<br>&gt; &gt;     enough?<br>&gt; &gt;<br>&gt; &gt;     Thanks!<br>&gt; &gt;<br>&gt; &gt;     -Kevin<br>&gt; &gt;     _______________________________________________<br>&gt; &gt;     swift-users mailing list<br>&gt; &gt;     swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; &gt;     https://lists.swift.org/mailman/listinfo/swift-users<br>&gt; &gt;<br>&gt;<br>&gt; -------------- next part --------------<br>&gt; An HTML attachment was scrubbed...<br>&gt; URL: &lt;<br>&gt; https://lists.swift.org/pipermail/swift-users/attachments/20151214/15e62774/attachment-0001.html<br>&gt; &gt;<br>&gt;<br>&gt; ------------------------------<br>&gt;<br>&gt; Message: 10<br>&gt; Date: Mon, 14 Dec 2015 09:04:22 -0800<br>&gt; From: Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>&gt; To: Kevin Lundberg &lt;kevin at klundberg.com&gt;<br>&gt; Cc: swift-users at swift.org<br>&gt; Subject: Re: [swift-users] memory requirements for building swift on<br>&gt;         linux?<br>&gt; Message-ID: &lt;954151C6-67C8-40A9-ADC7-5D7292F7EC04 at apple.com&gt;<br>&gt; Content-Type: text/plain; charset=&quot;utf-8&quot;<br>&gt;<br>&gt; For those hitting this issue, you might try building without debug info to<br>&gt; see if that helps (build-script -R).<br>&gt;<br>&gt;  - Daniel<br>&gt;<br>&gt; &gt; On Dec 14, 2015, at 6:55 AM, Kevin Lundberg via swift-users &lt;<br>&gt; swift-users at swift.org&gt; wrote:<br>&gt; &gt;<br>&gt; &gt; I was able to build it on my 8GB macbook successfully, but there may be<br>&gt; platform differences there that caused that.<br>&gt; &gt;<br>&gt; &gt; It seems that 4GB isn&#39;t enough either, fails when linking clang-3.8.<br>&gt; I&#39;ll have to figure something else out for linux for me. Thanks!<br>&gt; &gt;<br>&gt; &gt; On 12/14/2015 9:30 AM, Tobias Scholze wrote:<br>&gt; &gt;&gt; Hi,<br>&gt; &gt;&gt; to build Swift from the sources I used a 16 GB bare metal machine and<br>&gt; it was not enough.<br>&gt; &gt;&gt; So I think, you need a lot of memory ( &gt; 16 GB) to have fun while<br>&gt; building it.<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; - Toby<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; Kevin Lundberg via swift-users &lt; &lt;mailto:swift-users at swift.org&gt;<br>&gt; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;&gt; schrieb am Mo., 14.<br>&gt; Dez. 2015 um 15:03 Uhr:<br>&gt; &gt;&gt; Hi All,<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; I&#39;ve set up a linux VM (ubuntu 15.10) in virtualbox on my windows PC to<br>&gt; &gt;&gt; build and test swift on linux, but I&#39;ve been unable to successfully<br>&gt; &gt;&gt; build it to completion. I have all the repos including the corelibs<br>&gt; &gt;&gt; cloned locally, and have followed all the steps as far as I know for<br>&gt; &gt;&gt; installing dependencies. Every time I build, it fails somewhere during<br>&gt; &gt;&gt; linking, the last time failing when  linking &quot;CXX shared library<br>&gt; &gt;&gt; lib/libLTO.so&quot;.<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; I don&#39;t have the full error, but I&#39;m curious if there&#39;s some RAM<br>&gt; &gt;&gt; requirement for building swift. My VM had 2GB, and I just bumped it up<br>&gt; &gt;&gt; to 4GB to try again. Has anyone else run into this, and is there a<br>&gt; &gt;&gt; recommended minimum needed to successfully build swift with? Could<br>&gt; &gt;&gt; something else be the cause here instead of RAM if 2GB is in fact<br>&gt; enough?<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; Thanks!<br>&gt; &gt;&gt;<br>&gt; &gt;&gt; -Kevin<br>&gt; &gt;&gt; _______________________________________________<br>&gt; &gt;&gt; swift-users mailing list<br>&gt; &gt;&gt; swift-users at swift.org &lt;mailto:swift-users at swift.org&gt;<br>&gt; &gt;&gt; https://lists.swift.org/mailman/listinfo/swift-users &lt;<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users&gt;<br>&gt; &gt;<br>&gt; &gt;<br>&gt; &gt; _______________________________________________<br>&gt; &gt; swift-users mailing list<br>&gt; &gt; swift-users at swift.org<br>&gt; &gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt;<br>&gt; -------------- next part --------------<br>&gt; An HTML attachment was scrubbed...<br>&gt; URL: &lt;<br>&gt; https://lists.swift.org/pipermail/swift-users/attachments/20151214/78f22f84/attachment-0001.html<br>&gt; &gt;<br>&gt;<br>&gt; ------------------------------<br>&gt;<br>&gt; Message: 11<br>&gt; Date: Mon, 14 Dec 2015 09:22:58 -0800<br>&gt; From: Joe Groff &lt;jgroff at apple.com&gt;<br>&gt; To: David Turnbull &lt;dturnbull at gmail.com&gt;<br>&gt; Cc: swift-users &lt;swift-users at swift.org&gt;<br>&gt; Subject: Re: [swift-users] Here&#39;s a multi-platform OpenGL loader for<br>&gt;         Swift.<br>&gt; Message-ID: &lt;42D182F2-C966-4CBD-802E-C0803DDCB97A at apple.com&gt;<br>&gt; Content-Type: text/plain; charset=&quot;utf-8&quot;<br>&gt;<br>&gt;<br>&gt; &gt; On Dec 12, 2015, at 1:39 PM, David Turnbull via swift-users &lt;<br>&gt; swift-users at swift.org&gt; wrote:<br>&gt; &gt;<br>&gt; &gt; It&#39;s looking like the Epoxy requirement for SwiftGL is going away real<br>&gt; soon now. I was able to lookup the OpenGL symbols from pure Swift code. No<br>&gt; compiled C code is needed at all. What follows is roughly how I will do it.<br>&gt; It lazily loads the pointer the first time you use it. The Linux version is<br>&gt; only slightly different.<br>&gt; &gt;<br>&gt; &gt; Does anyone know a way to do this without the unsafeBitCast?<br>&gt; &gt;<br>&gt; &gt; import Darwin<br>&gt; &gt;<br>&gt; &gt; let handle =<br>&gt; dlopen(&quot;/System/Library/Frameworks/OpenGL.framework/Versions/Current/OpenGL&quot;,<br>&gt; RTLD_LAZY)<br>&gt; &gt;<br>&gt; &gt; func DLOADglGetIntegerv(a:GLenum, _ b:UnsafeMutablePointer&lt;GLint&gt;) -&gt;<br>&gt; Void {<br>&gt; &gt;     glGetIntegerv = unsafeBitCast(dlsym(handle, &quot;glGetIntegerv&quot;),<br>&gt; glGetIntegerv.dynamicType)<br>&gt; &gt;     glGetIntegerv(a,b)<br>&gt; &gt; }<br>&gt; &gt;<br>&gt; &gt; public var glGetIntegerv:@convention(c) (GLenum,<br>&gt; UnsafeMutablePointer&lt;GLint&gt;) -&gt; Void = { DLOADglGetIntegerv($0,$1) }<br>&gt;<br>&gt; I think the unsafeBitCast is fundamentally necessary here to coerce the<br>&gt; void pointer you get from dlsym to a C function pointer. I don&#39;t think it&#39;s<br>&gt; a problem. This is pretty awesome!<br>&gt;<br>&gt; -Joe<br>&gt;<br>&gt; -------------- next part --------------<br>&gt; An HTML attachment was scrubbed...<br>&gt; URL: &lt;<br>&gt; https://lists.swift.org/pipermail/swift-users/attachments/20151214/cdccd7e6/attachment-0001.html<br>&gt; &gt;<br>&gt;<br>&gt; ------------------------------<br>&gt;<br>&gt; _______________________________________________<br>&gt; swift-users mailing list<br>&gt; swift-users at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-users<br>&gt;<br>&gt;<br>&gt; End of swift-users Digest, Vol 1, Issue 43<br>&gt; ******************************************<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151215/69a1612d/attachment.html&gt;<br></p></div></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js?vsn=d"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
