<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css?vsn=d">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg?vsn=d" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/831c236d2843ed2e51e23ccde4cedf22?s=50"></div><header><strong>ccache and/or distcc for swift</strong> from <string>Oscar Bonilla</string> &lt;obonilla at linkedin.com&gt;<p>September 27, 2016 at 11:00:00am</p></header><div class="content"><p>Hello swift developers,<br></p><p>I was wondering if any of you knows anything about something<br>like ccache and/or distcc for swift.<br></p><p>Basically, what I want is to speed up compiles by caching the result<br>(like ccache does) and then reusing the compilation results across<br>multiple machines.<br></p><p>Does anything like that exist for swift? I looked at ccache but they<br>don&#39;t support swift and I couldn&#39;t find anything on distcc either.<br></p><p>Thanks!<br></p><p>-Oscar<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160927/e6edaea0/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/ef689a9f25009bea0126bb577a86c41f?s=50"></div><header><strong>ccache and/or distcc for swift</strong> from <string>Flamedoge</string> &lt;code.kchoi at gmail.com&gt;<p>September 27, 2016 at 11:00:00am</p></header><div class="content"><p>Just curious, are there scenarios other than simple local build that you<br>wish to speed up? I don&#39;t know if ccache offers much more than incremental<br>build by existing build systems.<br>-Kevin<br></p><p>On Tue, Sep 27, 2016 at 11:09 AM, Oscar Bonilla via swift-dev &lt;<br>swift-dev at swift.org&gt; wrote:<br></p><p>&gt; Hello swift developers,<br>&gt;<br>&gt; I was wondering if any of you knows anything about something<br>&gt; like ccache and/or distcc for swift.<br>&gt;<br>&gt; Basically, what I want is to speed up compiles by caching the result<br>&gt; (like ccache does) and then reusing the compilation results across<br>&gt; multiple machines.<br>&gt;<br>&gt; Does anything like that exist for swift? I looked at ccache but they<br>&gt; don&#39;t support swift and I couldn&#39;t find anything on distcc either.<br>&gt;<br>&gt; Thanks!<br>&gt;<br>&gt; -Oscar<br>&gt;<br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160927/d394047e/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/831c236d2843ed2e51e23ccde4cedf22?s=50"></div><header><strong>ccache and/or distcc for swift</strong> from <string>Oscar Bonilla</string> &lt;obonilla at linkedin.com&gt;<p>September 28, 2016 at 02:00:00pm</p></header><div class="content"><p>Primarily many builds from scratch. Specifically for a CI pipeline. That&#39;s<br>why I was also wondering about distcc, so the build objects could be cached<br>and shared among many machines.<br></p><p>-- <br>*Oscar Bonilla*<br>Staff Software Engineer<br>Tools Group<br></p><p><br></p><p>obonilla at linkedin.com<br>linkedin.com/in/seeob<br></p><p>On Tue, Sep 27, 2016 at 11:52 AM, Kevin Choi &lt;code.kchoi at gmail.com&gt; wrote:<br></p><p>&gt; Just curious, are there scenarios other than simple local build that you<br>&gt; wish to speed up? I don&#39;t know if ccache offers much more than incremental<br>&gt; build by existing build systems.<br>&gt; -Kevin<br>&gt;<br>&gt; On Tue, Sep 27, 2016 at 11:09 AM, Oscar Bonilla via swift-dev &lt;<br>&gt; swift-dev at swift.org&gt; wrote:<br>&gt;<br>&gt;&gt; Hello swift developers,<br>&gt;&gt;<br>&gt;&gt; I was wondering if any of you knows anything about something<br>&gt;&gt; like ccache and/or distcc for swift.<br>&gt;&gt;<br>&gt;&gt; Basically, what I want is to speed up compiles by caching the result<br>&gt;&gt; (like ccache does) and then reusing the compilation results across<br>&gt;&gt; multiple machines.<br>&gt;&gt;<br>&gt;&gt; Does anything like that exist for swift? I looked at ccache but they<br>&gt;&gt; don&#39;t support swift and I couldn&#39;t find anything on distcc either.<br>&gt;&gt;<br>&gt;&gt; Thanks!<br>&gt;&gt;<br>&gt;&gt; -Oscar<br>&gt;&gt;<br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-dev mailing list<br>&gt;&gt; swift-dev at swift.org<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;&gt;<br>&gt;&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160928/2884a856/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/5d9baa679148bd83458d11df12327ce0?s=50"></div><header><strong>ccache and/or distcc for swift</strong> from <string>Daniel Dunbar</string> &lt;daniel_dunbar at apple.com&gt;<p>September 28, 2016 at 02:00:00pm</p></header><div class="content"><p>Ah, if you are specifically asking about the case of speeding up builds from scratch using cached results, that *is* somewhat doable, but it is still true that I don&#39;t know of an existing system for managing it for you.<br></p><p>I want llbuild + swiftc to grow in the direction of being able to solve that problem, but no one is actively working on it. If it is something you were interested in contributing to (bearing in mind it is a very large project) or just pick up and adopt? Also, is this something you were looking for just in the context of Swift, or in the Xcode + Swift context?<br></p><p> - Daniel<br></p><p>&gt; On Sep 28, 2016, at 2:00 PM, Oscar Bonilla via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; Primarily many builds from scratch. Specifically for a CI pipeline. That&#39;s why I was also wondering about distcc, so the build objects could be cached and shared among many machines.<br>&gt; <br>&gt; -- <br>&gt; Oscar Bonilla<br>&gt; Staff Software Engineer<br>&gt; Tools Group<br>&gt; <br>&gt; <br>&gt; <br>&gt; obonilla at linkedin.com &lt;mailto:obonilla at linkedin.com&gt;<br>&gt; linkedin.com/in/ &lt;http://linkedin.com/in/&gt;seeob<br>&gt; <br>&gt; On Tue, Sep 27, 2016 at 11:52 AM, Kevin Choi &lt;code.kchoi at gmail.com &lt;mailto:code.kchoi at gmail.com&gt;&gt; wrote:<br>&gt; Just curious, are there scenarios other than simple local build that you wish to speed up? I don&#39;t know if ccache offers much more than incremental build by existing build systems.<br>&gt; -Kevin<br>&gt; <br>&gt; On Tue, Sep 27, 2016 at 11:09 AM, Oscar Bonilla via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt; Hello swift developers,<br>&gt; <br>&gt; I was wondering if any of you knows anything about something<br>&gt; like ccache and/or distcc for swift.<br>&gt; <br>&gt; Basically, what I want is to speed up compiles by caching the result<br>&gt; (like ccache does) and then reusing the compilation results across<br>&gt; multiple machines.<br>&gt; <br>&gt; Does anything like that exist for swift? I looked at ccache but they<br>&gt; don&#39;t support swift and I couldn&#39;t find anything on distcc either.<br>&gt; <br>&gt; Thanks!<br>&gt; <br>&gt; -Oscar<br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt; <br>&gt; <br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160928/176cebeb/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/831c236d2843ed2e51e23ccde4cedf22?s=50"></div><header><strong>ccache and/or distcc for swift</strong> from <string>Oscar Bonilla</string> &lt;obonilla at linkedin.com&gt;<p>September 28, 2016 at 05:00:00pm</p></header><div class="content"><p>Yeah, speeding up builds from scratch is the case I&#39;m trying to solve.<br></p><p>I&#39;m willing to dedicate time to solve the problem but I&#39;m unfamiliar with<br>the swift source base so I would need a lot of guidance ;)<br></p><p>I am looking at Xcode + Swift. I&#39;m currently using xcodebuild from the<br>command line for the builds. However, I would not mind moving away from<br>xcodebuild and using something else. I just figured the swift compiler<br>would need to help or I would just be chasing my own tail trying to deal<br>with dependencies from an external build system.<br></p><p>Thanks!<br></p><p>-Oscar<br></p><p>-- <br>*Oscar Bonilla*<br>Staff Software Engineer<br>Tools Group<br></p><p><br></p><p>obonilla at linkedin.com<br>linkedin.com/in/seeob<br></p><p>On Wed, Sep 28, 2016 at 2:16 PM, Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>wrote:<br></p><p>&gt; Ah, if you are specifically asking about the case of speeding up builds<br>&gt; from scratch using cached results, that *is* somewhat doable, but it is<br>&gt; still true that I don&#39;t know of an existing system for managing it for you.<br>&gt;<br>&gt; I want llbuild + swiftc to grow in the direction of being able to solve<br>&gt; that problem, but no one is actively working on it. If it is something you<br>&gt; were interested in contributing to (bearing in mind it is a very large<br>&gt; project) or just pick up and adopt? Also, is this something you were<br>&gt; looking for just in the context of Swift, or in the Xcode + Swift context?<br>&gt;<br>&gt;  - Daniel<br>&gt;<br>&gt; On Sep 28, 2016, at 2:00 PM, Oscar Bonilla via swift-dev &lt;<br>&gt; swift-dev at swift.org&gt; wrote:<br>&gt;<br>&gt; Primarily many builds from scratch. Specifically for a CI pipeline. That&#39;s<br>&gt; why I was also wondering about distcc, so the build objects could be cached<br>&gt; and shared among many machines.<br>&gt;<br>&gt; --<br>&gt; *Oscar Bonilla*<br>&gt; Staff Software Engineer<br>&gt; Tools Group<br>&gt;<br>&gt;<br>&gt;<br>&gt; obonilla at linkedin.com<br>&gt; linkedin.com/in/seeob<br>&gt;<br>&gt; On Tue, Sep 27, 2016 at 11:52 AM, Kevin Choi &lt;code.kchoi at gmail.com&gt; wrote:<br>&gt;<br>&gt;&gt; Just curious, are there scenarios other than simple local build that you<br>&gt;&gt; wish to speed up? I don&#39;t know if ccache offers much more than incremental<br>&gt;&gt; build by existing build systems.<br>&gt;&gt; -Kevin<br>&gt;&gt;<br>&gt;&gt; On Tue, Sep 27, 2016 at 11:09 AM, Oscar Bonilla via swift-dev &lt;<br>&gt;&gt; swift-dev at swift.org&gt; wrote:<br>&gt;&gt;<br>&gt;&gt;&gt; Hello swift developers,<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; I was wondering if any of you knows anything about something<br>&gt;&gt;&gt; like ccache and/or distcc for swift.<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; Basically, what I want is to speed up compiles by caching the result<br>&gt;&gt;&gt; (like ccache does) and then reusing the compilation results across<br>&gt;&gt;&gt; multiple machines.<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; Does anything like that exist for swift? I looked at ccache but they<br>&gt;&gt;&gt; don&#39;t support swift and I couldn&#39;t find anything on distcc either.<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; Thanks!<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; -Oscar<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; _______________________________________________<br>&gt;&gt;&gt; swift-dev mailing list<br>&gt;&gt;&gt; swift-dev at swift.org<br>&gt;&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;&gt;&gt;<br>&gt;&gt;&gt;<br>&gt;&gt;<br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;<br>&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160928/5bc8964b/attachment.html&gt;<br></p></div></li></ul></li></ul></li></ul></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/12dd65fe648ab7baf7b432dd586a8388?s=50"></div><header><strong>ccache and/or distcc for swift</strong> from <string>mishal_shah</string> &lt;mishal_shah at apple.com&gt;<p>September 27, 2016 at 12:00:00pm</p></header><div class="content"><p>Hi Oscar, <br></p><p>I am not aware any distributed build system which builds swift files however, swift build-script has support for distcc to build cpp files. <br></p><p>https://github.com/apple/swift/blob/master/utils/build-script#L1005<br></p><p>Thanks, <br>Mishal Shah<br></p><p>&gt; On Sep 27, 2016, at 11:09 AM, Oscar Bonilla via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; Hello swift developers,<br>&gt; <br>&gt; I was wondering if any of you knows anything about something<br>&gt; like ccache and/or distcc for swift.<br>&gt; <br>&gt; Basically, what I want is to speed up compiles by caching the result<br>&gt; (like ccache does) and then reusing the compilation results across<br>&gt; multiple machines.<br>&gt; <br>&gt; Does anything like that exist for swift? I looked at ccache but they<br>&gt; don&#39;t support swift and I couldn&#39;t find anything on distcc either.<br>&gt; <br>&gt; Thanks!<br>&gt; <br>&gt; -Oscar<br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160927/ff6d3f0b/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/831c236d2843ed2e51e23ccde4cedf22?s=50"></div><header><strong>ccache and/or distcc for swift</strong> from <string>Oscar Bonilla</string> &lt;obonilla at linkedin.com&gt;<p>September 28, 2016 at 02:00:00pm</p></header><div class="content"><p>Thanks! It seems that is for building swift itself, not for building<br>projects written in swift ;(<br></p><p>-- <br>*Oscar Bonilla*<br>Staff Software Engineer<br>Tools Group<br></p><p><br></p><p>obonilla at linkedin.com<br>linkedin.com/in/seeob<br></p><p>On Tue, Sep 27, 2016 at 12:04 PM, mishal_shah &lt;mishal_shah at apple.com&gt; wrote:<br></p><p>&gt; Hi Oscar,<br>&gt;<br>&gt; I am not aware any distributed build system which builds swift files<br>&gt; however, swift build-script has support for distcc to build cpp files.<br>&gt;<br>&gt; https://github.com/apple/swift/blob/master/utils/build-script#L1005<br>&gt;<br>&gt; Thanks,<br>&gt; Mishal Shah<br>&gt;<br>&gt; On Sep 27, 2016, at 11:09 AM, Oscar Bonilla via swift-dev &lt;<br>&gt; swift-dev at swift.org&gt; wrote:<br>&gt;<br>&gt; Hello swift developers,<br>&gt;<br>&gt; I was wondering if any of you knows anything about something<br>&gt; like ccache and/or distcc for swift.<br>&gt;<br>&gt; Basically, what I want is to speed up compiles by caching the result<br>&gt; (like ccache does) and then reusing the compilation results across<br>&gt; multiple machines.<br>&gt;<br>&gt; Does anything like that exist for swift? I looked at ccache but they<br>&gt; don&#39;t support swift and I couldn&#39;t find anything on distcc either.<br>&gt;<br>&gt; Thanks!<br>&gt;<br>&gt; -Oscar<br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;<br>&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160928/928df4b2/attachment.html&gt;<br></p></div></li></ul></li><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/5d9baa679148bd83458d11df12327ce0?s=50"></div><header><strong>ccache and/or distcc for swift</strong> from <string>Daniel Dunbar</string> &lt;daniel_dunbar at apple.com&gt;<p>September 27, 2016 at 12:00:00pm</p></header><div class="content"><p>Hi Oscar,<br></p><p>Nothing exists like that for Swift yet -- it is non-trivial for several reasons, the big two are:<br>1. The Swift compilation model relies on global information for a module, and needs to see all the sources. This process is currently embedded in the `swiftc` driver which would need to be aware of how to manage this process (or factored into a library API that a client able to manage the distribution could interact with).<br>2. The Swift compilation model also heavily leverages the ability to import Clang modules, which means that it *also* needs to be able to see large amounts of C headers, in modular model not a header preprocessing model. The distribution mechanism would also need to be aware of this.<br></p><p> - Daniel<br></p><p>&gt; On Sep 27, 2016, at 11:09 AM, Oscar Bonilla via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; Hello swift developers,<br>&gt; <br>&gt; I was wondering if any of you knows anything about something<br>&gt; like ccache and/or distcc for swift.<br>&gt; <br>&gt; Basically, what I want is to speed up compiles by caching the result<br>&gt; (like ccache does) and then reusing the compilation results across<br>&gt; multiple machines.<br>&gt; <br>&gt; Does anything like that exist for swift? I looked at ccache but they<br>&gt; don&#39;t support swift and I couldn&#39;t find anything on distcc either.<br>&gt; <br>&gt; Thanks!<br>&gt; <br>&gt; -Oscar<br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160927/2071b355/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/831c236d2843ed2e51e23ccde4cedf22?s=50"></div><header><strong>ccache and/or distcc for swift</strong> from <string>Oscar Bonilla</string> &lt;obonilla at linkedin.com&gt;<p>September 28, 2016 at 02:00:00pm</p></header><div class="content"><p>Hi Daniel,<br></p><p>Thanks for the reply. It seems that maybe this should be a collaboration<br>between the swift compiler and the build system. I&#39;m thinking something<br>along the lines of the swift compiler being able to print out a list of<br>file-level dependencies that the build system can use to decide whether to<br>compile files or reuse compiled objects?<br></p><p>If the swift compiler could produce as a side effect of the compilation a<br>list of files (with checksums) that it used, in theory it would be possible<br>to checksum those files on another compilation (in a different machine) and<br>reuse the object files right?<br></p><p>Does that seem reasonable/doable?<br></p><p>Thanks!<br></p><p>-Oscar<br></p><p><br>-- <br>*Oscar Bonilla*<br>Staff Software Engineer<br>Tools Group<br></p><p><br></p><p>obonilla at linkedin.com<br>linkedin.com/in/seeob<br></p><p>On Tue, Sep 27, 2016 at 12:47 PM, Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>wrote:<br></p><p>&gt; Hi Oscar,<br>&gt;<br>&gt; Nothing exists like that for Swift yet -- it is non-trivial for several<br>&gt; reasons, the big two are:<br>&gt; 1. The Swift compilation model relies on global information for a module,<br>&gt; and needs to see all the sources. This process is currently embedded in the<br>&gt; `swiftc` driver which would need to be aware of how to manage this process<br>&gt; (or factored into a library API that a client able to manage the<br>&gt; distribution could interact with).<br>&gt; 2. The Swift compilation model also heavily leverages the ability to<br>&gt; import Clang modules, which means that it *also* needs to be able to see<br>&gt; large amounts of C headers, in modular model not a header preprocessing<br>&gt; model. The distribution mechanism would also need to be aware of this.<br>&gt;<br>&gt;  - Daniel<br>&gt;<br>&gt; On Sep 27, 2016, at 11:09 AM, Oscar Bonilla via swift-dev &lt;<br>&gt; swift-dev at swift.org&gt; wrote:<br>&gt;<br>&gt; Hello swift developers,<br>&gt;<br>&gt; I was wondering if any of you knows anything about something<br>&gt; like ccache and/or distcc for swift.<br>&gt;<br>&gt; Basically, what I want is to speed up compiles by caching the result<br>&gt; (like ccache does) and then reusing the compilation results across<br>&gt; multiple machines.<br>&gt;<br>&gt; Does anything like that exist for swift? I looked at ccache but they<br>&gt; don&#39;t support swift and I couldn&#39;t find anything on distcc either.<br>&gt;<br>&gt; Thanks!<br>&gt;<br>&gt; -Oscar<br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;<br>&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160928/3048ca21/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/c4fe988326eed161b989d0c5521cb105?s=50"></div><header><strong>ccache and/or distcc for swift</strong> from <string>Jordan Rose</string> &lt;jordan_rose at apple.com&gt;<p>September 28, 2016 at 02:00:00pm</p></header><div class="content"><p>I just wrote up a document describing why this is tricky. :-) Check it out: https://github.com/apple/swift/blob/master/docs/Driver.md<br></p><p>Jordan<br></p><p><br>&gt; On Sep 28, 2016, at 14:05, Oscar Bonilla via swift-dev &lt;swift-dev at swift.org&gt; wrote:<br>&gt; <br>&gt; Hi Daniel,<br>&gt; <br>&gt; Thanks for the reply. It seems that maybe this should be a collaboration between the swift compiler and the build system. I&#39;m thinking something along the lines of the swift compiler being able to print out a list of file-level dependencies that the build system can use to decide whether to compile files or reuse compiled objects?<br>&gt; <br>&gt; If the swift compiler could produce as a side effect of the compilation a list of files (with checksums) that it used, in theory it would be possible to checksum those files on another compilation (in a different machine) and reuse the object files right?<br>&gt; <br>&gt; Does that seem reasonable/doable?<br>&gt; <br>&gt; Thanks!<br>&gt; <br>&gt; -Oscar<br>&gt; <br>&gt; <br>&gt; -- <br>&gt; Oscar Bonilla<br>&gt; Staff Software Engineer<br>&gt; Tools Group<br>&gt; <br>&gt; <br>&gt; <br>&gt; obonilla at linkedin.com &lt;mailto:obonilla at linkedin.com&gt;<br>&gt; linkedin.com/in/ &lt;http://linkedin.com/in/&gt;seeob<br>&gt; <br>&gt; On Tue, Sep 27, 2016 at 12:47 PM, Daniel Dunbar &lt;daniel_dunbar at apple.com &lt;mailto:daniel_dunbar at apple.com&gt;&gt; wrote:<br>&gt; Hi Oscar,<br>&gt; <br>&gt; Nothing exists like that for Swift yet -- it is non-trivial for several reasons, the big two are:<br>&gt; 1. The Swift compilation model relies on global information for a module, and needs to see all the sources. This process is currently embedded in the `swiftc` driver which would need to be aware of how to manage this process (or factored into a library API that a client able to manage the distribution could interact with).<br>&gt; 2. The Swift compilation model also heavily leverages the ability to import Clang modules, which means that it *also* needs to be able to see large amounts of C headers, in modular model not a header preprocessing model. The distribution mechanism would also need to be aware of this.<br>&gt; <br>&gt;  - Daniel<br>&gt; <br>&gt;&gt; On Sep 27, 2016, at 11:09 AM, Oscar Bonilla via swift-dev &lt;swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;&gt; wrote:<br>&gt;&gt; <br>&gt;&gt; Hello swift developers,<br>&gt;&gt; <br>&gt;&gt; I was wondering if any of you knows anything about something<br>&gt;&gt; like ccache and/or distcc for swift.<br>&gt;&gt; <br>&gt;&gt; Basically, what I want is to speed up compiles by caching the result<br>&gt;&gt; (like ccache does) and then reusing the compilation results across<br>&gt;&gt; multiple machines.<br>&gt;&gt; <br>&gt;&gt; Does anything like that exist for swift? I looked at ccache but they<br>&gt;&gt; don&#39;t support swift and I couldn&#39;t find anything on distcc either.<br>&gt;&gt; <br>&gt;&gt; Thanks!<br>&gt;&gt; <br>&gt;&gt; -Oscar<br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-dev mailing list<br>&gt;&gt; swift-dev at swift.org &lt;mailto:swift-dev at swift.org&gt;<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev &lt;https://lists.swift.org/mailman/listinfo/swift-dev&gt;<br>&gt; <br>&gt; <br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br></p><p>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160928/e7211887/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/831c236d2843ed2e51e23ccde4cedf22?s=50"></div><header><strong>ccache and/or distcc for swift</strong> from <string>Oscar Bonilla</string> &lt;obonilla at linkedin.com&gt;<p>September 28, 2016 at 05:00:00pm</p></header><div class="content"><p>Oh, thanks for that link. Very useful... I&#39;m still digesting it to<br>understand the implications...<br></p><p>-- <br>*Oscar Bonilla*<br>Staff Software Engineer<br>Tools Group<br></p><p><br></p><p>obonilla at linkedin.com<br>linkedin.com/in/seeob<br></p><p>On Wed, Sep 28, 2016 at 2:10 PM, Jordan Rose &lt;jordan_rose at apple.com&gt; wrote:<br></p><p>&gt; I just wrote up a document describing why this is tricky. :-) Check it<br>&gt; out: https://github.com/apple/swift/blob/master/docs/Driver.md<br>&gt;<br>&gt; Jordan<br>&gt;<br>&gt;<br>&gt; On Sep 28, 2016, at 14:05, Oscar Bonilla via swift-dev &lt;<br>&gt; swift-dev at swift.org&gt; wrote:<br>&gt;<br>&gt; Hi Daniel,<br>&gt;<br>&gt; Thanks for the reply. It seems that maybe this should be a collaboration<br>&gt; between the swift compiler and the build system. I&#39;m thinking something<br>&gt; along the lines of the swift compiler being able to print out a list of<br>&gt; file-level dependencies that the build system can use to decide whether to<br>&gt; compile files or reuse compiled objects?<br>&gt;<br>&gt; If the swift compiler could produce as a side effect of the compilation a<br>&gt; list of files (with checksums) that it used, in theory it would be possible<br>&gt; to checksum those files on another compilation (in a different machine) and<br>&gt; reuse the object files right?<br>&gt;<br>&gt; Does that seem reasonable/doable?<br>&gt;<br>&gt; Thanks!<br>&gt;<br>&gt; -Oscar<br>&gt;<br>&gt;<br>&gt; --<br>&gt; *Oscar Bonilla*<br>&gt; Staff Software Engineer<br>&gt; Tools Group<br>&gt;<br>&gt;<br>&gt;<br>&gt; obonilla at linkedin.com<br>&gt; linkedin.com/in/seeob<br>&gt;<br>&gt; On Tue, Sep 27, 2016 at 12:47 PM, Daniel Dunbar &lt;daniel_dunbar at apple.com&gt;<br>&gt; wrote:<br>&gt;<br>&gt;&gt; Hi Oscar,<br>&gt;&gt;<br>&gt;&gt; Nothing exists like that for Swift yet -- it is non-trivial for several<br>&gt;&gt; reasons, the big two are:<br>&gt;&gt; 1. The Swift compilation model relies on global information for a module,<br>&gt;&gt; and needs to see all the sources. This process is currently embedded in the<br>&gt;&gt; `swiftc` driver which would need to be aware of how to manage this process<br>&gt;&gt; (or factored into a library API that a client able to manage the<br>&gt;&gt; distribution could interact with).<br>&gt;&gt; 2. The Swift compilation model also heavily leverages the ability to<br>&gt;&gt; import Clang modules, which means that it *also* needs to be able to see<br>&gt;&gt; large amounts of C headers, in modular model not a header preprocessing<br>&gt;&gt; model. The distribution mechanism would also need to be aware of this.<br>&gt;&gt;<br>&gt;&gt;  - Daniel<br>&gt;&gt;<br>&gt;&gt; On Sep 27, 2016, at 11:09 AM, Oscar Bonilla via swift-dev &lt;<br>&gt;&gt; swift-dev at swift.org&gt; wrote:<br>&gt;&gt;<br>&gt;&gt; Hello swift developers,<br>&gt;&gt;<br>&gt;&gt; I was wondering if any of you knows anything about something<br>&gt;&gt; like ccache and/or distcc for swift.<br>&gt;&gt;<br>&gt;&gt; Basically, what I want is to speed up compiles by caching the result<br>&gt;&gt; (like ccache does) and then reusing the compilation results across<br>&gt;&gt; multiple machines.<br>&gt;&gt;<br>&gt;&gt; Does anything like that exist for swift? I looked at ccache but they<br>&gt;&gt; don&#39;t support swift and I couldn&#39;t find anything on distcc either.<br>&gt;&gt;<br>&gt;&gt; Thanks!<br>&gt;&gt;<br>&gt;&gt; -Oscar<br>&gt;&gt; _______________________________________________<br>&gt;&gt; swift-dev mailing list<br>&gt;&gt; swift-dev at swift.org<br>&gt;&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt;<br>&gt; _______________________________________________<br>&gt; swift-dev mailing list<br>&gt; swift-dev at swift.org<br>&gt; https://lists.swift.org/mailman/listinfo/swift-dev<br>&gt;<br>&gt;<br>&gt;<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-dev/attachments/20160928/018c546a/attachment.html&gt;<br></p></div></li></ul></li></ul></li></ul></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js?vsn=d"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
