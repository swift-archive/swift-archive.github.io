<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Swift Mailing List Archive</title>
    <link rel="stylesheet" href="/css/app-13f065ae5e595562a5022c544e3b976c.css?vsn=d">
  </head>

  <body>
    <div class="container">
      <header class="header">
        <img src="/images/swift-d0237fc716ba0932a940049990beba1b.svg?vsn=d" height="70">
      </header>

      <p class="alert alert-info" role="alert"></p>
      <p class="alert alert-danger" role="alert"></p>

    </div> <!-- /container -->
    <main role="main">
<div class="comment-wrapper"><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/708abe8093c1b67c209e6713070d0fd0?s=50"></div><header><strong>Python problem when compiling lldb</strong> from <string>Lane Schwartz</string> &lt;dowobeha at gmail.com&gt;<p>December 10, 2015 at 09:00:00am</p></header><div class="content"><p>Hi,<br></p><p>I&#39;m still working on getting a clean compile on Scientific Linux 7.1. So<br>for I&#39;ve gotten a compile (after applying Pull Request #282) when for the<br>basic build script with no additional flags (./swift/utils/build-script).<br></p><p>I&#39;m now trying to also compile with lldb (./swift/utils/build-script<br>--lldb). When I do so I get the following error:<br></p><p>-- Build files have been written to:<br>&gt; /home/lanes/swift/build/Ninja-DebugAssert/lldb-linux-x86_64<br>&gt; ++ cmake_config_opt lldb<br>&gt; ++ product=lldb<br>&gt; ++ [[ Ninja == \X\c\o\d\e ]]<br>&gt; + /home/lanes/cmake-3.4.1-Linux-x86_64.binary_distribution/bin/cmake<br>&gt; --build /home/lanes/swift/build/Ninja-DebugAssert/lldb-linux-x86_64 -- all<br>&gt; [10/845] Building CXX object<br>&gt; scripts/Python/modules/readline/CMakeFiles/readline.dir/readline.cpp.o<br>&gt; FAILED: /usr/bin/clang++   -DHAVE_PROCESS_VM_READV -DHAVE_ROUND<br>&gt; -DLIBXML2_DEFINED -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS<br>&gt; -D__STDC_LIMIT_MACROS -Dreadline_EXPORTS -Iscripts/Python/modules/readline<br>&gt; -I/home/lanes/swift/lldb/scripts/Python/modules/readline<br>&gt; -I/home/lanes/swift/lldb/include -Iinclude<br>&gt; -I/home/lanes/swift/build/Ninja-DebugAssert/llvm-linux-x86_64/include<br>&gt; -I/home/lanes/swift/build/Ninja-DebugAssert/llvm-linux-x86_64/tools/clang/include<br>&gt; -I/home/lanes/swift/llvm/include<br>&gt; -I/home/lanes/swift/llvm/tools/clang/include<br>&gt; -I/home/lanes/swift/build/Ninja-DebugAssert/swift-linux-x86_64/include<br>&gt; -I/home/lanes/swift/swift/include -I/home/lanes/swift/lldb/source<br>&gt; -I/usr/local/include/python3.4m<br>&gt; -I/home/lanes/swift/lldb/tools/clang/include -I../clang/include<br>&gt; -I/usr/include/libxml2 -std=c++11 -fcolor-diagnostics<br>&gt; -Wno-deprecated-declarations -Wno-unknown-pragmas -Wno-strict-aliasing<br>&gt; -Wno-deprecated-register -Wno-vla-extension  -fno-exceptions -fno-rtti -g<br>&gt; -fPIC -MMD -MT<br>&gt; scripts/Python/modules/readline/CMakeFiles/readline.dir/readline.cpp.o -MF<br>&gt; scripts/Python/modules/readline/CMakeFiles/readline.dir/readline.cpp.o.d -o<br>&gt; scripts/Python/modules/readline/CMakeFiles/readline.dir/readline.cpp.o -c<br>&gt; /home/lanes/swift/lldb/scripts/Python/modules/readline/readline.cpp<br>&gt; /home/lanes/swift/lldb/scripts/Python/modules/readline/readline.cpp:68:34:<br>&gt; error: assigning to &#39;char *(*)(FILE *, FILE *, const char *)&#39; from<br>&gt; incompatible type &#39;char *(FILE *, FILE *, char *)&#39;: type mismatch at 3rd<br>&gt; parameter (&#39;const char *&#39; vs &#39;char *&#39;)<br>&gt;     PyOS_ReadlineFunctionPointer = simple_readline;<br>&gt;                                  ^ ~~~~~~~~~~~~~~~<br>&gt; /home/lanes/swift/lldb/scripts/Python/modules/readline/readline.cpp:70:5:<br>&gt; error: use of undeclared identifier &#39;Py_InitModule4&#39;<br>&gt;     Py_InitModule4(<br>&gt;     ^<br>&gt; 2 errors generated.<br></p><p><br></p><p>I&#39;ve installed the python-devel, python27-python-devel, and<br>python33-python-devel packages, as well as swig.<br></p><p>The readline.cpp file where the error occurs imports Python.h. The header<br>file Python.h exists at /usr/include/python2.7/Python.h, and it includes<br>modsupport.h (/usr/include/python2.7/modsupport.h) which appears to define<br>Py_InitModule4.<br></p><p>Any thoughts or assistance would be appreciated.<br></p><p>Thanks,<br>Lane<br>-------------- next part --------------<br>An HTML attachment was scrubbed...<br>URL: &lt;https://lists.swift.org/pipermail/swift-users/attachments/20151210/92da83f3/attachment.html&gt;<br></p></div><ul class="comments"><li class="comment"><div class="avatar"><img src="https://www.gravatar.com/avatar/56ffffe9c947586a664c9bb799b11422?s=50"></div><header><strong>Python problem when compiling lldb</strong> from <string>Markus Trippelsdorf</string> &lt;markus at trippelsdorf.de&gt;<p>December 10, 2015 at 04:00:00pm</p></header><div class="content"><p>On 2015.12.10 at 09:29 -0600, Lane Schwartz via swift-users wrote:<br>&gt; I&#39;m still working on getting a clean compile on Scientific Linux 7.1. So<br>&gt; for I&#39;ve gotten a compile (after applying Pull Request #282) when for the<br>&gt; basic build script with no additional flags (./swift/utils/build-script).<br>&gt; <br>&gt; I&#39;m now trying to also compile with lldb (./swift/utils/build-script<br>&gt; --lldb). When I do so I get the following error:<br>&gt; &gt;     PyOS_ReadlineFunctionPointer = simple_readline;<br>&gt; &gt;                                  ^ ~~~~~~~~~~~~~~~<br>&gt; &gt; /home/lanes/swift/lldb/scripts/Python/modules/readline/readline.cpp:70:5:<br>&gt; &gt; error: use of undeclared identifier &#39;Py_InitModule4&#39;<br>&gt; &gt;     Py_InitModule4(<br>&gt; &gt;     ^<br></p><p>See: https://bugs.swift.org/browse/SR-14<br></p><p>-- <br>Markus<br></p></div></li></ul></li></ul></div>    </main>
    <script src="/js/app-c283ee129de63ad743722e9511e67a5d.js?vsn=d"></script>
  </body>
  <footer>
    <p>Swift and the Swift logo are trademarks of Apple Inc.</p>
  </footer>
</html>
